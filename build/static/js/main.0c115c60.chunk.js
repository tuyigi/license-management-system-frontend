(this["webpackJsonplicense-management-system"]=this["webpackJsonplicense-management-system"]||[]).push([[0],{137:function(e,a,t){e.exports=t.p+"static/media/no_data.e5d95fd6.svg"},199:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE5UlEQVR4nO1bTYgcVRBu/1APKiqIisc10eBM1ey48QdiTv4EES/m4EUPatTgDyuIm52qaTEQfxAxqEgwZp2umg1OMCauiR7UgCGK4sWDiv+IPwd/omBAEs1GaiYz86bt3Uy70zOzM13Q7NLTr6ve975Xr169as9LJZVU4oj4y09XBhKGj5TxgDIe6eJ1QAk/F8YZKcCdU/7YuV43JeDsZcrwU5c7PfdF8JcwPFmaGDs78c6X/fxFwvBHzzsdCQR+L4xjiQIghO/UFQrhb1rE22Qyf16iSuu6GR5udhheUM7dJYwf/IcNBbgmEQNKlLu42Xn4O3G05wHA/m/cJ7xJGX5t/ob7Az830nEDygxrnNF/zeuyzAVA1TbCC5XxB4ch+zpugDKQY8CGjitYoH7xM6NCeNCZEjd2bQS6IVqEOxyaz0Q9I4SPOwDsGSgASiEfVJ6E5eFnpv3c+fZb45mJzJkDA4CJMr7tOjshvN067TkiBO85dl7vDRIAQpmlSvh7u7GBOe6BAsDEqC8EP7YDgDBOeIMGgMnmB5eepoTrlOBDIfwzouOzQvCxMcYbRAB6IpICACkDNJ0C2Pc+oORnlyjjN0L4te0Rhs4HCOOkkyNYN4QAQDJ2SgoApAzQdApg6gM0dYLY56vAkC+DJT+7RBi+smsoA6HERFIAIGWAplMA+8oH2ImwMJSrTo9QK/6ys4bKByjh9lAu8JWhAWCasjlLfkYkRMeGAgBl2OkeizsHozsHHgD1ARujT3i4zNkbGkdijLOlydylgw0A46vOUX2lah9B4ITA2wcWgMDPXmKj3jz+Gs3X7udGXBYEhDCQAKjj+YVgd4uNhJrYiiBdBsCOts2jSxFvFsaiMooyvN/i+Qu5qyKKuP6ps8CeV4KXbIdopTTGisr45af2LQBBIXedFTYIwS/HPPwkfDfSTocFcxyYzirBd8KwK2C8um8AEB+XKcOh9k594Yu5Dj4DP3uOgdPWe6yIgnNX9AcAhPeHjTsa4r6phM8o433KuMr2+Ec877h2wmTrXEB4ixCuF4atVtkarnMUwvV9AYB1LjTKWyurV5/QSR2+7x0vjJta9BTx1r7xAUq4JUTTlzetyZ/Usc4TbA6BvGuPv/LEvgHAqK0Ez4Wc1szGe0dO7sDIT4Wc6OtT/spT+m4ZNBCEYGN4pGIZ64hNI1sKW5kF22IzS7oYB1RBYHwq5BR3t03XVto3Q+Sa7eW47+lZJCiMj7nGlwt4d5z2tgKEaL/lfztW6VEoLIzPuitDvLawwaW9MWIBhkBPAFCGR5xRfCJWW4JxZwo9vyiLpYVgR12vUTpOWwt1ndVkb+LFykmIEH5b12tpsDht7Xsix+b9iRcrd1oqD+XPqO/+TGd4KbTdnW2PbfNkIXNQwCvD7xCGnxsAhuqKEylW7qQIZ1Y4TuzTlg8kCKbdxIjLTjcZ0mLzQj+nkZjFyu1dcMjq/KP0BQz3OJuWiviZC2qx/DF2jYSHbcWofUkCTzfvw7jXzWJlbfOyet8oXbWPoxrGf9ma/W0kPbaVOXut/Q2nyas7SoLPnHsvet0oVtZ4nT+oBI9G6TE6z8OcN+r5wMbg8Gje7s+tC3Z4i0mEsw9EzPG95hvmb5dZYc9FtF3rLSbxa7F8QQk+OfrN4qrYOQaCt2rtodBOIsUbRvkXc1F4qNtU5HcAAAAASUVORK5CYII="},200:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAHlklEQVR4nO1bB6zcRBA1vYPovZfAT84zzhFEEaH3LkChdyIQogVR8j1zSxeIIjoEAuF71/+LExB6JIpCQAgUeu8QREd0gegEzXr984sNn393vjvCSCvd+c7e3eedmTezs543DKlOxOUN4y6G4IiYYXyRLQpxc69ZEhGCZrhfM/xuGGc3pRH+IUAUPvm4Agdrxp81wxeasWIYtugJy+vGqrROUc0Q3C4gaMY/DeNJxU0+xO01wW+G4OH4rNLSXpNEM04xjB+lQMQEZza800njywsYgrcN4cvRaf5iXhNFANCE709XW82vGWKnEqqhnRrGvZJlB7s1tKMhjQVu0oyfyefq/vvPZxhvdipxUeM6JbxaM3wrqDesk6GPZaIYweqZ5aXk+2zPm8cQXJsYSLhCvte/U8apmvB5rwVEd47eVCYbVeDI9JpMWjNc6rzEDUp589a1U8MwzTA86bWIaIZnNMOsgcbYMJ6f2AS4VdSjpQCoqo4FxZZowpOFQGUNUK7FhLvqMDhR7E2eymnGMeKODeFjVdWxTL/fCEJnr3rqprKmRgA0lUZYL9KfzDyrVWm13v+o0mqiZn3/owlej0J/7axnRhzsawh+MgyfCKg9CtZK9V+zP8HyBMI7BXivmQDMFv0keNEQfi5vN1L+CobwIEP4jWZ4pyccubo0+SzXZGIy6JhHlzXDW4ZgZp5h6yY/0ASPzgENftWMX0sTQ+m8wzVNBSDm0eWBRitdxikI6eTlWr97CXeVe7tV4P/jCuPgOMNwrrjD3kbwsYzdayoAlEwiK4BJQciavEik/FHJWwy2G+a4n2w6AFp0m+F3TXBl1u+iu9Iy+yW8TOh398RRK7YtAHOIFP4pxsobomiGU5wOX+4NU1oGgKpQVoLuoQYv6eQl4JE4pO0B6A2oGO62K+FvYgpD/u7OBd5Vqx9vKQB0YgsSa6+wI+9/XRRs1NdF/icA6FbBKnmuLku6OoONUxBu7YRV2x4AzTDDEHw3lMn3B0HugRltDUCU+nKC0/PSbNIy+yU8zXII5Y9qWwBi9ney1p/9PXKtfRK8nJJ3bxQGO7ctAD2W50sCE7ryXN2cRGd/EDTB9XJvHlFqCwBEDOEtLgK8TyI1idL6+nmXc0xAIKxKOGwYb3OqE3nDlJYBoKo6FhQqbGP4ZMl/L3F7Xz/vkpwXGsYfHAP8WVJdU9RWC7c9AKlceeJ6C5kwWPPvUlYyYdlrqKqOxb0apeUAKFr+B4DrtAK0GCXCid5cC0BneWXRXW+uBYDxDsP4SN7vlrAQPKgJ39UMD2kK9vTmFgAM40ku2fGu8+XvuQTlGXnPE2aXcAKb3x92k4SpcIy8qLGuKtClymsMvC4MTVLTQl7SxIX1+RYw+DWLwUWMO7icwFuW9NTQ7I4Vw7eG4AOtNlmycQCEslGBnYM7kEyssLXSiEExvayCChw76FmMd8hqEU5Q88Cs+gWb2TFU8MDCeYBOKOvsgUtQVosFIIQTBt0j1SUEL9ZrE7NL+RskL8E/qnAAIlsuY/X/4r7XNcElcj0rjI0ID3NU915xrZIjHG7TDGcbwjdFDSTpUjgAIobhKhe0PODKZqa5oOZGL0eSgAg+qLVWyFWszBQ1yOqnEACU8ua1oS3Bp25QH8ubrevubLtQ4Sk1RG5tDcB0CWVD2NHW8DHu0ApvvzAAYildY3i6n24yvhITrp/3POEMlg8QHlNLwaSpBIfGqrxh0wCYbpMY+Fyy9R0cIMRH/LGtIyR4PWtXJ1bl5TTjS/UqmkzqAOCCpgAQEeztcnn79L2uCffLS4TafULCX0zFH1dr0aQQLs1wnQNiTPFEiP0J0rnUDWfUEUvO79SMZz2hGR/36iRT1JiVktUQHFc8ANT7pnfq/3/cJWtlJPfAZEPwow5haylyqqUlQMO5SV+lLQsHoHrqpos4JjbLMGwj36PQ3zYhOfBallt05TCz6lk8LaA2zQt0q8DPKID6UGhy3vMmnz5iCWvBa6DBCRX2J5gwGNt0HjBJlReVCRkG0gSHNLueOJX/k6Jc0AqI5RwB4fO2PI3hBVPBo70WkGKiQULlLL6kqK6VAsh/qt4W0mQIn9KEX6V1fcNpUiQpVSd5bLDhAHQpfwMbkjLclCY4JDq0e4GEf8jvgybP/h7OUD6lGSfV0pJSeQvCJwNLZgsBwIRwguUBqrRO3+uytWWvh3j8oHtkY5TwzXoFTFIt6gA9qGkARAPqeZMAKY+d4VTD+Ea9ADAK0IKdUWTRcABiVd4wKYLEG1MVcLXBkyUrnBURpqdP5Hm1qoD0IwkYOUHSYBXAqWLdM38jOMfx/plJeiwJjSVfl/c8eVvyv1oMoGuf2f2FnKoz65EI72z4kZk4OU73ki1qksrwChzbkKMr/7ouEb+XYzQ1P0xTsGfylv3dvTaRXlWrx5gnjS8v4Gr3X61H4UKjxcYajG9Iq9upkSj0t018Pj6SZXBaRSTjZBin28MTIWxd14frCh7ojql8aePwMBhb9NHZrGZ5RxiM1YTnCbu0Y6z447xGiKFSSXZ1mnp4Ojc/aF3yPd0EI71GS9dZY5aVVLiu4OFFH58f2GQMMhYZ03Am8xeCVwW19HGaNgAAAABJRU5ErkJggg=="},201:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAACjklEQVR4nO1aPYgTQRQeRUXUwsLCwkIsLE6y78VwjSiHjWBxYmNlZ3EINoKFReZl7PxBrGyu0HCZtyecnaCdHGgjiGCvVncqhyKIhYo/J5OdgOSSuJPMZLMyH0y1O9/3vnlvfvZHiIj/EFpWT2kJb5lw3aWZPikls2JSoIcw8VdbDRrckprapiVeZ4J3eYNy1XDJnCa8ZmJyNmI6uo5uKCPcaRKuDl0urToeyRvQsEb+dV9aT452MuOq4RRcaCOjaGzoWFRpiT7xRCM8YETMEjr08itxxaUihK+M9NsQhzSz2m9D5CKMhABHI12IGfEEjqVVUGk11cx2lvhMEz4ttRFNeCvjhpelNdI+DEr8pSX80ITTpTSypKZ2aYLX7VMtYSOYPgc2woR37BHlxfxcbWspjaSUzNpMfFuUcCioPgcykqraHpbwPjMCF4Prcw4i8wzdqywG88J9y7WslNg8EUZYwist8c2CSg7m4UwbcDabF/D5noL9o+r7M0L42E7YtZQO1wbxaVXZpwk/tUtKJud86OdCHqJ5VduhCR5mweEXXYcTvbjWhdikJTyy9z3wpS98Ei2rmS0s8a4N8nvawDMbuOpwIbsOH5pqeq9Pfa9E7REnuGlXop8pwVznWqoqB0y2zLVeJn3oeydKJVy2+8NvTXDFrEos8YnNRiu0vlcipup5kxV7EHxuF4OVpoLd49D3StSScJolfO1khwlPjlPfKxETHDf7hSa8nbfPRBoxWJRJtXUp2Vl6I6OAo5EuxIx4AsfS6kIsrbKUFo+5iWikoA0wWDzafp42bwODROYSC1WO2dP0R+fO5uN8UfOC+zTzJ4azEfOqx5gZ8T8TP03iGhPeMI/VzkYiRDH4AwNP/cOTTVr3AAAAAElFTkSuQmCC"},202:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKsUlEQVR4nO1dC8wcVRUeDfhECaImIL6iCUn133O2649VlDYmEp+gCYTEJ0RSNRV5if37z7k7MVHBiDbykPxIot17tzWrJiLGV9BfKCA+gOIjkqJoaQm0VQM/0BZIqTmzu+3OnTuzd2bntf/ul0xCyszdc8+599xzz+t3nCmmmGKKKaaYYoopKgxFtQ8ogb9WAp9QAg+ZHkn4OL/TJnxf2fQuKyiBX45ieuRD8KWy6V4WaIvaBxMz/8jz3rLpH3sogYupBUBwc9n0jz1kV68fZmpL1N4a9W5b1N+mCeCxYqldZjjkOM8JHLICnx32jb4LiqF0meLQVABTAYwtpHfKS5WAU+X8ylULXuNF47YDWpfWXtw9U+BUnoszLrjhspNfogR8RxI+dYRxsE8KuPJbF7zx+TZjtAhBEW6QBL8dVQBS4FZJ4CoP0Oa3v+utfoEU+E2meeCC95QUuMBzc6qMttd4uSS8J/KmKuCWjrfiGNO3nQ34CklwmSL8S7RpCU8Po0ESPBNtlvpjf2HT3OzxRhq8Fccowltjbtr38BydKoIJUwK2DbfN8dZBIbTc2usVwbWDKy5GAD8fRock/IXFHeEJJeAq5dZf2/+OaeLdYkHDtsoJobvy4V7DReh+RbDDJIQt7pterQi/MaiqzLsGD3RXJZCNLuZ3pMB5Vl9DhUqwXwq84nvz8Coj85l2nkOVhRDD/F91Ll71ws76xrFS4O8NQjgYvdVhrxR4jXRhDevktLR1vBXPU279NH8sgr0xuzJEC9PMtPMceC6VFELP0tkWxfzDjIgSgjAdmPUzFtY2js6aVh6zRfAhSXCHhZq8k2k+TH+EEPhMKPVglgQ3DGO+pRAWpZh5Z2F0u7AmUt9rzB8qBIELRdEdJGh941i2SmyYHykEgofbTfioUwL4jiGb+ElFuHsY8+OE4JuoZdwT+IISXAmwPY75ffA70q1foFxYFzfZotCemzlOEl7INNnSrx/MfGFziobB87ijCgwtZOdrll2chzY38FU9ZOYN2cLjjo7hHGMepHW1jAy+stseYstj5eOd4UMYriyNqJ7fZOtyF0Ingvl8QbT1b+UGtoMjhWBxqNnA85znslfVv+EK/JEU+Fcp8H9dKwye5v/mf1MEP2QnHutk/sbJAN1D17TycWuUX6syQmDLYpRxpTdzkiK4XBHuHHp5CjPoQSngq+xmGIkGttiqzPw+eKL6lZ7NuzRjbZqbPV4K+PYwP5GlIA6wK6LjrXhZGlqUwM9rO/sg+7GcqkESfk0jdDfb2EnHUc3aObF+m9SCgD3tJp6d0vJ5JLiw4OtOlcBuXfYsBmxjwk8kGWPRW30Ur/oYBj4qCZUkPF8KnOX4Aft3+PFjCQJnu/8P2pwNEbMjruHfSjS/Zv3j+q7a4sHrnKqAJ6Ux6xa+6tt+3+HbscCbjAwj+LsiODfJgc7vtppwnhJ4n1kQcGOS8fzQqB6oIbzaqUwghuDJAHFu/bRkKx9DzO+FMS9KulrDY9cuMccF4MYkY7MDLygAeLJ0dzRDCfiidvDeluR7SXCdYZXu2jRff0tWNHbVEzwU+p2Eqzjkyia81CkbiuBvQQHUz7D+tlk7x6Cj797s1U/Mmk4ek8cOqzg8y3YMKeDDmnq81ykT0ptZqVs+ttvaNzUpZO3syoP5fXQPa9ie1lrzI2wC/hP8fmbGKQscp027pXWLRwrYl6XaiULLq705fCbAVWlVphQ4ly/FscTgbYPEtN3aO6y+82ZO8oPtIiCAi/KnuPf7nCcUPFD32+68llt7l27xlV6Z0rcKeIvajQmX66bm4gjWTipXun4oE3wlgckcWDy5VeokqUyRhL+xGZOdZCHfDsG5TsGQLnxao2GHrQMvLnkrs0qd3sq3+5Gu/t9gNfH5lau0LfxoVl7TJOAgihK4pOnzWZtvJaHIvVKHV7TdyodnJMHPbNMzWFDazlFOSZCE3w+cYQTr7RMS8JexaZCjVuqEVsf8ylVOBmB/viaA852S0BawVrOGfpDNuBlU6uhSdDKCHzhJse3zAAduNFr+nNXYI/MvNwEQ/jew7b3y/Cktr/ZKTZ3unQQBBIIsHUvTNQ9wPFfbAQeyGnsqAEtIwn8NMOuByow7CSqIwSaify8h3Nly6+9xqjJuUYdwex5OyWrsZQXdDM0q/7FKZmil0fP/WF3E/Kxoy0Ss0EVMQDv/2Ywh2JGU7LoNlMb2VgSPleGKGAuwI8lWALZuWT/LTeCDg9+2mnBeXnNgM7cl4HO97LZ4j24+DxcE/s5Px09jcndPc7hZPxNCD8F+23ouzljTvr8vD3d0VBiytIfwLjnfOCGzCYYKqV1YY/NdryrxQHAH1S7JeuVXivlHNMWfMquB43CctguuHSGXaF+WfiFf7VSA4aan7eJnM5nkZq9eCzCRYK+tdDlXUwrYo33/UFZBeT2jWRL+JM+A/5DdHsh74vSWzH6APYiahM+0/bbdxLPDWxTv5uyFrBs9jZolPXKWd3CeS5kNzr0XRkrMEkFV1FNH2zl7YUS6AmM6JSM3ekypiW2Bq22/X/RWH8VpggYh7OPsBQ6gp6FrYgSQVXKuMgihfy5wAD1pIdxECYBTtUNmJcHHkoyxyDuB8OoY62GJY7gcRuTbNJ8TcRebiRIAg6sFtcP0kTSFepLwrED1+jC7uut3D2UdTJwAeu1nDmZRI9aemzmO0wWHJUAdfgh3TrQAIpsdubBulHE3e/UTOWPN2HOoIgLwXTUCd3GgKS7TOjd6IpmfdZmqwFnO2+HUEb579CbM8eUHTBGnIgSwxW28YfC+wRfLqHdzoYedb8Y0vQoUaqucBeBX34QKNuDhQulRhBuryPwiBGBMT2zipwqjx9Sso9/my6kAVI4CYHWo90qSBD8ulB5Dku2/q8L8PAXAC0+vvvRN7iH+q+x3gItv1/Tf/dYNmwgvVAQXpynkLlsAhgqZZ6WA9xdOj98eUm8lYNGyLOAmJtzNbcOSuC3KFAAzmhmuqZ7ryqKHdeFCkqZ9xpYvotct0TKaZgvbCUsXTpeE/+RHEX4k6r1eNX6gZQGrIltnYS4C8LukmFoVG9pWRjFfBVfTHdxaMouQne2E+R6hWXEbTfFpPmSDY/ptcmZLNwoiWxaP0rhVwB72sLJbO23ybmoB9MqtBg9VTh4zvCPyoCdTIUgB/9BTUPoqpxequ0Jv8mEYg03dRb9ZU4L2kLYT5lu0qZUBW3VcB63fdvs7NXHDjzwFkKR5t97saJPXeI3fSNsqZ2d48+40E/YLzg3+pp5ggiYn4eMslKT8yV0ANu3r9c7peuW8H96MaV/PaZBOThPuts8fXheXNpe1EAEMHMzXj/IHHJQHyOFIvRA8CeFpvusFhTbGLIDY227W9IwE1td8WRvlT5gwihRAHxzNM7hZht5286KnVKgSBNA/F/pVLhwYagl8d2LiM6Rn4gRwpM81nM6GgjMipgIoGeMsgKU0lTpVm3DV6MmsUkdOsyIqUKlDE54VUXqlDhkFsDQRyblFQUVX6pizIvT0dIE3lSGEbv9r/Glu6elVhXJh3VDVVdpT/4yz3NHhDoeEd5XPbF1dwh/y+DNdlYScb5zANVmlM/3wA3/MtEhvHLCwtnE012QpAbfrfv0inu5vwu2sdiZm5U8xhWOL/wPszc3K4S/wggAAAABJRU5ErkJggg=="},249:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE3UlEQVR4nO1aS4xURRQtQUWMEX/x725McHD63mcHw44o8RtFSZyVaOInalQWDNFB+laXKxfIhoULUDPaVT0mvdRINH4YcSGCGuNvRhQ0alAjcYMEUcyY87ped2tPT/+qux/Rk7yk01Xv1juvbt2699RT6r8Aq+kdp2mvOtHhNM/iaqVvcePI2U7zbVbTFiu0w2raZzX/6jT9YYWPlX/zjNX0KvoUhG4vmeFzUkFk67qhRcU83WmFX7Oajif9W76E/7Ka3igI311av2Jx34lMmJWnWZ0Zc5p/SPpYzb87zTut5jzedtFkl2KWtj2QPQUXfr8o0RVos8LaaX7LCR2tuf8np+nxbSZ7el+IOM03OaGvqm+WPrY5ehAP2q59a64+s5Cne5zw7ioh+hYu2jMimAUn9EyNW3xaFL55VqmTQoxVyGWutZrfr3G954PNTmK0YDLnO6E9iQtZocd2mpUnq8AwRi1wOnrICh9OZnvSRBd3bbj69suuZIX3WzNyleoxiia7FDPux/ymKHx5VwZrI4zV/MkLm+iSTm20e1/JDJ+BiObd+PuXcssua9dG3UM0u6zmd0MTARCSy5ty2c06DtFt7Ae7mtno6AEUggydZTV/5sk8qwaFbokA2H+c5t9gp6gzt6oTlQhgNT/sbR1oycWw4U2Y5ReqlBEpjY4uRALrXXnD/J3Xr1jsNB1yQkesGblUpYgIUNB8nV8rB7FBq0awwvf7ju+pQAhJBEh2fyu0VjWCFX67aacBE3F5vs/bfL1hmEPtgKs0nl2SViKl8eySOE3SdBzPXNfBCt/h05E3VUCEJgKgXPB267Nkq+kpn0Y/qVJOxGrO+yXwdH2j0A5PZE36idAanxq9Uj+g8JdoxC6aeiKGh73dmfoBhX9G4+QTV14QbEAdraomltGqUHaLJnued61f5hg0rrlnISiEGhD1S00J+3Uou1vXDS1Kiry5Bj2GxpIZPjXEYEhzyuG8kup/p/pBxCE1wRrZuPzcECSs0LSf/j9BopCLblT9cS3aF2Kx/4vEdMgENMGk0LKGix0KYHnwaLXqEAgU1SKIZ4IIB/OFX+GX52rc4hu1SulMJHDCxr+szaoRy05SlH7NRAIrNNXQeyAox/qt0FEogCqFM1FTwzdOGoFEfrGSuVe1iIKmR/tForZmgnCuGgGquC8ld6s24HL0SD9IABXFc76aKdZ3NR30VeI1KmUo6swNfh3/2FSAKAqNeyJ7ocWqlMAYtaBS5urMWNMboIB7aX8WxwUqJShU1iLvb1lxROXlbzoMQVkNGJPYyYWOlN0qc0tbN+N8IjkHCVnDt4sJaAlCn/sXu71tA3AxCMc+Qkz19IxvPp1NeJfPdD/q+BmwQ+N8ItG6QmTG7W185JV4PmA3ZS/qyiAOWRIySENCl8KNS1n6IiFRMNFQEMOYmcTNoIpDUO5FaC6Nji6Mo5Nf2HCnrmdizkMXoedqStcPoMWGsm9zdL0T/rBiX3h7T9clzicw3dVDHtoDGbOTyBavA+ROPu1wfp9oO8R2GU02VNOZf34wgJIAsR/BARoALvzGf2iL+whNJYJHorBbnRkbRHQs52b56C4Iyp18woF74s8/hNbOe0zQT5RF8Dgj2AwFsFyj0KH4g5pYocFvmkZb3Eei1YPcaP+H6jH+BrEtLCDxA+mEAAAAAElFTkSuQmCC"},255:function(e){e.exports=JSON.parse('{"login":{"hello":"Murakaza!","welcome":"Twishimiye kongera kubabona.","help":"Ubufasha","forms":{"remember_me":"Ibuka amakuru wasizemo.","login":"Injira","hints":{"username":"Imeyili yanyu","password":"Ijoambo banga ryanyu"},"labels":{"username":"Imeyili","password":"Ijambobanga"},"errors":{"no_username":"Mushyiremo imeyili yanyu","no_password":"Mushyiremo ijambo banga ryanyu"}}}}')},342:function(e,a,t){e.exports=t.p+"static/media/gb.6dcadf69.svg"},343:function(e,a,t){e.exports=t.p+"static/media/fr.bf4cae9b.svg"},344:function(e,a,t){e.exports=t.p+"static/media/rw.32931738.svg"},345:function(e,a,t){e.exports=t.p+"static/media/home_license.cd12eb8a.svg"},348:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD7UlEQVR4nO2aQYwURRSGHwIRJNEgJpzckxJlYd4b2yV62fEqRuGyxuN64YKGEKK7uK+2I3dCCAflZGaqGpMx0QgeEA4elKOBwA1CQiAKR1AvHmTN65kmw2a6Ac10verUl1QyqTn0X6+7XlW9vwAikUgkEolEIpFIJFgc4zlnaCWQ9iNoors4s0VBUJ6o9dPtz4MWrKEZEWWZLoJynMFLorX7Wft10EK2THP5m2X6drTfGfzGMf0AihCNolU0gxYyxoVhAI+O9ltDZySIoAjRmAeQcQG04Ax9mQdwCfeDcnoGPxqkG/wCtK3AGdNuUI41+I66ldgavJonZm6/WvTJb2vojmV8HxQhuvIv0OBV0EB/bm6tZfrbGrrfP/jGxqK/m7a2WYM3eox7QRGiUbSKZtHuWw9002RqmFN+g0BwBn8XzV8vTb/oWwtkhjrDPeAvq/9bAVgDChGtec421NGwgMwPk7Id7bdMxhq6mS3u3AzKEK2DbRfOa5gORwYBxCOj/ZbxE8f0a+9QaxMoo0yzJzGk520+Jr1l/HDcrFGVT/oaVrj/kLe9rWjdNJkq+k7uS9ZbpuuO6QQopNg5iHaVe6qv0s6G/MtkOgwKKdu71k5X267+CXCM1/LUkyaveBORMe0uO1fKNAbFiGbv5/fesLIh1ZhV4vY4Q39lpv0mKKWoIMkYvNfWnMFPH+pfas86piunGKdBKaJ5XA2zZhH0nbrq7mMiVaJxVfSaRdDFcf6CnIGPf/zS06AY0ezdx3GM9/IALs5seajf4PfW0GVQzAMnkfGeVwHW4N3V/zmmYyqOSY9AtI/7AGp6eDhWpkqLs8zKFE6myTNaa4FqLM4yKzNjetky/ekYD4JyvFqcZVbmqcM7tjqDFyy33wPliPZxB4G6LxO9DYFSdRT1YmUW2HTXsxAA3oohVeUga2jZGfpjtD6oFW8WZ5WVmXH7A2vwfH8heQ4CQMawuiA8+Ycu4VuDT59+hsDxYnGWWZnFtJCKNASCF1PsgS3I+Plov2yeHdMtqdJAIMgYarc4y95amsJTlsk5pkMQCFWzaXIPNXhhsIluz0LgeLE4qy7nZGnyAgSEjKFWi7Nq75SZ1ruO6Z8QjnHeLM6q3Xs3v1SJ53tpawcERNWpamJXZC3TWWgItVqcVZe0f0o760LLgYKMpTaLs8zKFCzTacd4W7up7tXirKriWqYDXmprE6yuT8xHyMxrCTSEWi3OwslqYrNjHMYJBJDu+x6om2CrLYDQMFwMYGABbGqDGEAKI4DQMFxdAaztQU0PYFMbxABSGAGEhuFiAP8fcQqbmANXfC8gTUxNkUgkEolEIpFIBBrIv0ClpQBH5ca+AAAAAElFTkSuQmCC"},349:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtklEQVR4nO2WQQ6AIAwE+yQ/6G/2n3rxQIxCMMXSZSfhYIkkE7paM5EM7NvhsaI9jE7Egt53I60InFsjrNXAJmJJz19HBLd673Or7g7YRbyQyKw3MnzkwU8ZoRGxj0Aig2/E69zwzy+NSC9QRtgyAolMlhEvaEWgjDTQrLUvPjSCZUQBiwhNa9GIQP+R1VvLC1oRRGekrNX2yhq1SC+QyIVaa7aMPFHLyBvhGUkrgsmXLSMiLJYTLi4SW5u0ckkAAAAASUVORK5CYII="},350:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFoUlEQVR4nO1Za4wURRBuH6iIYoivqAQNEtSTnaphFVGjJBrfCP4QI/rDH0ZiYkhEROC26jo+Iio+MDHiGVRuu+cwG35hjIZoQH741hgJEnygXBANSEDkKS9TPT3Lsre3c9ztsphsJZubnf2mu7/p6qqv6pRqWtOa1rSmNa1p9TfTOnqsZXzBMHxiCf6wBLss43ZLuMYyLjMEOUuZjDpWLeLgTsP4vWU82JuPIfg0YhynjhUrzMyeYQjfLS6Q8U/D8KJhuGNhK1xQmDZ2YH56MKhDByM92XbDsPEQIbSCaSiJvA7OsQzfuUUR/G04eKygW05KfW56MMi5GOO2mBB8ZVqz56lG2Dt63CmW8Bu/kB/kjR/pGEZjiyX4KSHTkJ0xDK/HrgQ/d84edW5fx4l09qxDZNDUdpVKqY7W8ArL0GEJ1hnG3YaxyxJ8ZNrwgYjDqy3hfkO4p1OHQX/nMhpbDOE/jkwuvL4mBA4qdZwlmGMYD/QYcZLfCObUZFKllGWgJJrVasCnvM/+awjmRjp7afuU7AA52IbgnpLDvUvu1WRS5QOAj2Z5HYzq12CdBJcbhn2x24QTKmFenTriZENYMAyRqrEZwjf9jrf2byDG17z7vFENt0yPOzHSmeH9mqzS/BRO8PN/3K+BvIw4KAddNcA6dDAydltc06cBtFbHRxzcIudCBpIcoRpgC2ZccrrfkW1H/LAQMASrS6OSEFMNsMK0sQOLUZGC8dGszJD0hyZNOsESvlQkQLDOEjwpUUo1yDp1eP7hwhL3WMK3O3R2WHpmjsHTJcSqBlteQjzjc5Zhnku+EkFj9bDVEN7d7QFLeF8xF+SCG9Qxah06O8wSLPZk9kVtcP/hYo9hgyPShg+q/4EZQk5efFESmTac7A/Ut/U+1Is0XGQIn3YyPa5TdopWq4B53hJ8aRn+ksWWY0qTpWX4LL7BEPmterSeJCKGKZZgR3edBjsNQd4yTrQcPpyE/HKME6yME0X7uXXrMYPlZTgJI8fBMPwYb1P96uaI8HYncxgPuOqRgvF5HY5IAky5ADUMi1y41ZnhhmB+Gan3kzrFMj7jheV8JZWcy96zrjyzXkQMw9d+whndSM7KDBGpbglXer9fnIYxDM/K/TwHV/lnVome2i1fRPzVhYQeMzgpfavNYXRmtPf5DYn7pGHadfbUJBwLkS63I9WSTD9sUS57sddLK9OwhmGrYKWB0VuM8yiCHXKx1LFqw8mqbg0J599r07DGL1J2sSqGcH9yTgzBJimvlcmFU/12fVBrEsXJCTbJ5NW0krSKbHyONqViGLvku6gPGdcSLFRyyJM3kWe8qdYkfOG12bkvhZf1hMsTQuLvPantcozkPantJSo6gGV4wgM2ik/Xkoj0p7yG21wt4cpv1kfQwmw8Ow2TdGoM4ZJicHDMGN9LyJgc3FwrIjKJYfjNu83cnnCG8WWPWZ2OwV+S3e6mzgu65bSEjAd/6MRkLrywN93CamY4c51f5O+VQrAc3CRLW8b11TCGYG9qxRr7HMywhFt623yu+pGDyHCtjC36yt9/q9TFvLssLGtoL+gRQ7C0129QAoDNwSOyKxIhXI3SRzKGYLmMGfHobKK1pHmdzCXXHrvdtsFDRT1GwfiKGA2oGm2JQC2tI+Tav+nOUoy4dU+YhppzD8Zl5cm3WEYQLJe2kvx1ZCm8txKmUf2DhMBES/h54h5GZ4YWF6kzQ53L+IhpUzH4RZ7grqNKyDLeJsq05Mysr9SUlv9Uud/4UOMjnwtvTcGsKsfUxSKCmSWN77UihaSfW7XXm3NyaW1Sl8gYlTCG8NcEI8m8biTyObwmLqJgr2V8/Eg6Mu1TsgMkBcizcZEV3lgJIwSkASEYmU/Vw0SAeiE6r89jEL7iE/OSKvPMq6vgrVlC5V4n3i31IrLiKBNZ8R+S8iXuept8QAAAAABJRU5ErkJggg=="},351:function(e,a,t){e.exports=t.p+"static/media/select_role.18ac4e0b.svg"},352:function(e,a,t){e.exports=t.p+"static/media/contract.5a02e5b2.jpg"},354:function(e){e.exports=JSON.parse('{"login":{"hello":"Welcome!","welcome":"We are happy to see you again.","help":"Help","forms":{"remember_me":"Remember me next time.","login":"Login","hints":{"username":"Your email or username","password":"Your password"},"labels":{"username":"Email","password":"Password"},"errors":{"no_username":"Enter your username","no_password":"Enter your password"}}}}')},355:function(e){e.exports=JSON.parse("{}")},381:function(e,a,t){e.exports=t(722)},387:function(e,a,t){},388:function(e,a,t){},722:function(e,a,t){"use strict";t.r(a);var l=t(0),r=t.n(l),n=t(337),o=t.n(n),i=(t(387),t(388),t(115)),s=t(7),c=t.n(s),u=t(8);!function(e,a){function t(e){const{children:a,...t}=e;return a(t)}t.propTypes={children:c.a.func.isRequired,classes:c.a.object.isRequired},Object(u.a)(e,a)(t)}({root:{background:"linear-gradient(45deg, #f8a774 30%, #f6567e 90%)",borderRadius:25,border:0,color:"white",height:40,padding:"0 30px",boxShadow:"0 1px 1px 2px rgba(255, 105, 135, .3)"}});var d=t(779),m=t(743),v=t(245),p=t(246),E=t(774),g=t(775),b=t(263),y=t(861),f=t(97),h=t(776),S=t(264),O=t(120),C=t(265),x=t(777),w=t(243),T=t(773),_=t(5),j=t(770),A=t(356),R=t(262),N=t(771),I=t(342),k=t.n(I),z=t(343),L=t.n(z),P=t(344),D=t.n(P);const M=Object(w.a)(e=>({img:{height:20}}));function W(e){var a;return null!=e&&(a="rw"===e.code?D.a:"en"===e.code?k.a:L.a),a}var q=Object(_.c)(e=>{let{languages:a,activeLanguage:t,setActiveLanguage:l,close:n}=e;const o=M(),[i,s]=r.a.useState(null),[c,u]=r.a.useState(!1),d=()=>{s(null)},p=()=>{u(!c)},E=t;return r.a.createElement("div",null,r.a.createElement(m.a,{onClose:p,action:r.a.createElement(v.a,{color:"secondary",onClick:p},"Close"),open:c,autoHideDuration:3e3,message:"This language is not currently available in this version"}),r.a.createElement(j.a,{variant:"text",size:"small",color:"secondary",ref:i,"aria-label":"split button"},r.a.createElement(v.a,{startIcon:r.a.createElement("img",{src:W(E),className:o.img,alt:"flag"}),endIcon:r.a.createElement(N.a,null),onClick:e=>{s(e.currentTarget)},size:"small"},null==E?"Language":E.name)),r.a.createElement(A.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:d},a.map((e,a)=>r.a.createElement(R.a,{key:a,selected:e.code===E.code,onClick:()=>{var a;"fr"!=(a=e.code)&&"rw"!=a?(n(a),l(a),d()):p()}},e.name))))}),U=t(20),G=t(250),B=t(42),H=t(88),F=t.n(H),V=t(345),Y=t.n(V);class Q{constructor(){this.getHeaders=e=>({headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":this.ORIGIN,Authorization:"Bearer "+this.accountData.access_token}});var e={};const a=localStorage.getItem("LMIS");null!=a&&(e=JSON.parse(a)),this.accountData=e,this.ORIGIN="http://localhost:3000",this.BASE_URL="http://192.168.50.118:8000",this.LOGIN=this.BASE_URL+"/api/v1/auth/sign-in",this.GENERAL_STATS=this.BASE_URL+"/api/v1/reports/generalStats",this.GET_ORGANIZARION_TYPE_STATS=this.BASE_URL+"/api/v1/reports/organizationTypeStats",this.LICENSES=this.BASE_URL+"/api/v1/license",this.ORGANIZATIONS=this.BASE_URL+"/api/v1/organization",this.ROLES=this.BASE_URL+"/api/v1/role",this.PRIVILEGE=this.BASE_URL+"/api/v1/privilege",this.LICENSE_REQUEST_TYPE_STATS=this.BASE_URL+"/api/v1/reports/licenseRequestStatusStats",this.GET_ROLE_PRIVILEGE=this.BASE_URL+"/api/v1/role/privileges/",this.USERS=this.BASE_URL+"/api/v1/user",this.ORGANIZATION_LICENSE_REQUEST=this.BASE_URL+"/api/v1/licenseRequest/organization/",this.LICENSE_REQUEST=this.BASE_URL+"/api/v1/licenseRequest",this.REVIEW_LICENSE_REQUEST=this.BASE_URL+"/api/v1/licenseRequest/reportView/",this.DECISION_LICENSE_REQUEST=this.BASE_URL+"/api/v1/licenseRequest/decision/",this.APPROVED_LICENSE_TYPE_STATS=this.BASE_URL+"/api/v1/reports/licenseTypeStats",this.VENDOR=this.BASE_URL+"/api/v1/vendor",this.EXPIRE_LICENSE_REPORT=this.BASE_URL+"/api/v1/reports/expires/",this.ASSIGN_PRIV_ROLE=this.BASE_URL+"/api/v1/privilege/assign/",this.CONTRACT=this.BASE_URL+"/api/v1/contract",this.SYSTME_TOOLS=this.BASE_URL+"/api/v1/systemTool",this.RECORD_LICENSE=this.BASE_URL+"/api/v1/reportLicense",this.FUNCTION=this.BASE_URL+"/api/v1/systemFunction",this.CHECK_FUNCTION=this.BASE_URL+"/api/v1/systemFunction/check/functions",this.ASSIGN_FUNCTION=this.BASE_URL+"/api/v1/systemFunction/assign/",this.DEPARTMENT=this.BASE_URL+"/api/v1/department",this.CERTIFICATES=this.BASE_URL+"/api/v1/certificate",this.REPORT=this.BASE_URL+"/api/v1/reports",this.CERTIFICATE_REPORT=this.BASE_URL+"/api/v1/reports/certificate",this.COMPONENT_REPORT=this.BASE_URL+"/api/v1/reports/components",this.SYSTEM_TOOL_REPORT=this.BASE_URL+"/api/v1/reports/systemTool",this.ALL_METRICS=this.BASE_URL+"/api/v1/reports/metrics/all",this.TOOL_METRIC=this.BASE_URL+"/api/v1/contract/metric/tool/audit/",this.COMPONENT_METRIC=this.BASE_URL+"/api/v1/contract/metric/component/audit/",this.METRICS=this.BASE_URL+"/api/v1/metric"}}class K{constructor(){this.validEmail=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),this.parsePagination=e=>{var a={};return void 0===e?null:(e.split(",").map(e=>{var t=(e=e.trim()).split(";"),l=t[0],r=t[1],n=new URLSearchParams(l).get("page"),o=r.split("=")[1];o=o.replace(/'/g,"");var i=n.replace(/[^0-9]/g,"");"next"==o&&(a.next=i),"last"==o&&(a.last=i)}),a)}}validUsername(e){return/^[a-z\d]{5,20}$/i.test(String(e).toLowerCase())}validUrl(e){return/^https?\:\/\/[^\/\s]+(\/.*)?$/.test(String(e).toLowerCase())}difference(e,a){return e.filter(e=>{let{role_privilege_id:t}=e;return a.some(e=>{let{role_privilege_id:a}=e;return a!=t})})}tooShort(e){return e.length<3}formatNumber(e){const a=e<0?"-1":"",t=Math.abs(e),l=Math.log10(t)/3|0;if(0==l)return""+t;const r=["","k","M","G","T","P","E"][l],n=t/Math.pow(10,3*l);let o=(Math.floor(10*n)/10).toFixed(1);return o=/\.0$/.test(o)?o.substr(0,o.length-2):o,`${a}${o}${r}`}groupArrayOfObjects(e,a){return e.reduce((function(e,t){return(e[t[a]]=e[t[a]]||[]).push(t),e}),{})}sum(e,a){return e.reduce((function(e,t){return parseInt(e)+parseInt(t[a])}),0)}}const J=Object(w.a)(e=>({root:{flexGrow:1},title:{flexGrow:1},paper:{padding:15},btn:{textTransform:"capitalize"},login_container:{marginTop:150}}));var X=Object(_.c)((function(e){const a=J(),t=Object(B.f)(),[n,o]=Object(l.useState)(!1),[i,s]=Object(l.useState)({value:"",error:""}),{enqueueSnackbar:c,closeSnackbar:u}=Object(U.b)(),[d,m]=Object(l.useState)(!1),[w,j]=Object(l.useState)(!0),A=Object(l.useRef)(null),[R,N]=Object(l.useState)(!1);Object(l.useEffect)(()=>{var e,a;null!=(null===t||void 0===t||null===(e=t.location)||void 0===e||null===(a=e.state)||void 0===a?void 0:a.expired)&&(localStorage.removeItem("LMIS"),t.replace(t.location.pathname),N(!0));const l=localStorage.getItem("LMIS");if(null!=l){console.log(JSON.parse(l));var r=JSON.parse(l);if("LICENSE_ISSUER"===(null===r||void 0===r?void 0:r.user.organization_id.organization_type)){if("SUPER_ADMIN"===(null===r||void 0===r?void 0:r.user.user_type))return void t.push("/bnr");if("LICENSE_MANAGER"===(null===r||void 0===r?void 0:r.user.user_type)||"CONTRACT_MANAGER"===(null===r||void 0===r?void 0:r.user.user_type))return void t.push("/licenseManager");if("END_USER"===(null===r||void 0===r?void 0:r.user.user_type)||"LICENSE_OWNER"===(null===r||void 0===r?void 0:r.user.user_type))return void t.push("/orgAdmin")}else if("ORG_ADMIN"===(null===r||void 0===r?void 0:r.user.user_type))return void t.push("/orgAdmin")}},[]);const I=e=>{""===e.target.value?s({value:"",error:"Enter your email or username"}):s({value:e.target.value,error:""})},k=()=>{const e=G.a.create({headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:3000"}});m(!0);const a={username:i.value};e.get((new Q).LOGIN,{params:{sAMAccountName:a.username}}).then((function(e){if(m(!1),"ENABLED"==e.data.data.user.status)switch(c("Logged in successfully",{variant:"success",action:e=>r.a.createElement(p.a,{onClick:()=>{u(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))}),e.data.data.user.user_type){case"SUPER_ADMIN":localStorage.setItem("LMIS",JSON.stringify(e.data.data)),t.push("/bnr");break;case"ORG_ADMIN":localStorage.setItem("LMIS",JSON.stringify(e.data.data)),t.push("/orgAdmin");break;case"LICENSE_MANAGER":case"CONTRACT_MANAGER":localStorage.setItem("LMIS",JSON.stringify(e.data.data)),t.push("/licenseManager");break;case"LICENSE_OWNER":case"END_USER":localStorage.setItem("LMIS",JSON.stringify(e.data.data)),t.push("/orgAdmin");break;default:c("Unimplemeted or unknown user type",{variant:"warning",action:e=>r.a.createElement(p.a,{onClick:()=>{u(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})}else c("You are not allowed to use this system",{variant:"error",action:e=>r.a.createElement(p.a,{onClick:()=>{u(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})})).catch((function(e){m(!1);var a=e.message;e.response&&(a=e.response.data.message),c(a,{variant:"error",action:e=>r.a.createElement(p.a,{size:"small",onClick:()=>{u(e)}},r.a.createElement(T.a,{fontSize:"small"}))})}))};return r.a.createElement("div",{className:a.root},r.a.createElement(E.a,null),r.a.createElement(g.a,{position:"static",elevation:2,color:"primary"},r.a.createElement(b.a,null,r.a.createElement("img",{src:F.a,alt:"Icon",height:50}),r.a.createElement(y.a,{className:a.title,style:{marginLeft:10}},r.a.createElement(f.a,{variant:"h5"},"License MS")),r.a.createElement(q,{close:e=>{}}))),r.a.createElement(h.a,null,r.a.createElement(y.a,{style:{marginTop:150}}),r.a.createElement(S.a,{container:!0,spacing:4,justify:"center"},r.a.createElement(S.a,{item:!0,xs:12,sm:12,md:6},r.a.createElement(y.a,{display:"flex",justifyContent:"center",alignItems:"center",width:1,ref:A},r.a.createElement("img",{src:Y.a,width:300})),r.a.createElement(y.a,{display:"flex",justifyContent:"flex-start",alignItems:"center",width:1,ref:A},r.a.createElement(f.a,{variant:"h4",gutterBottom:!0},r.a.createElement("b",null,"License Management System"))),r.a.createElement(y.a,{display:"flex",alignItems:"flex-start",p:1},r.a.createElement(f.a,null,"The License Management System is designed to streamline the process of managing software licenses within the organization. It aims to ensure compliance with licensing agreements, optimize license usage, and provide transparency in license distribution and allocation."))),r.a.createElement(S.a,{item:!0,xs:12,sm:12,md:6},r.a.createElement(O.a,{className:a.paper,elevation:9},r.a.createElement(y.a,{style:{padding:20,display:"flex",flexDirection:"column"}},r.a.createElement(y.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(f.a,{variant:"h4"},r.a.createElement(_.b,{id:"login.hello"}))),r.a.createElement(f.a,{color:"textSecondary",align:"center"},r.a.createElement(_.b,{id:"login.welcome"}))),r.a.createElement(y.a,{style:{marginTop:20}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",placeholder:a("login.forms.hints.username"),label:r.a.createElement(_.b,{id:"login.forms.labels.username"}),fullWidth:!0,onChange:I,helperText:i.error,error:""!==i.error})})),r.a.createElement(y.a,{style:{marginTop:10,marginBottom:10}},r.a.createElement(v.a,{type:"submit",color:"primary",fullWidth:!0,variant:"contained",disableElevation:!0,disabled:d,onClick:e=>{e.preventDefault(),""===i.value?s({value:"",error:"Enter your email or username here"}):k()}},d?r.a.createElement(x.a,{size:25}):r.a.createElement(_.b,{id:"login.forms.login"}))))))))})),Z=t(803),$=t(772),ee=t(738),ae=t(805),te=t(316),le=t(739),re=t(793),ne=t(784),oe=t(785),ie=t(786),se=t(801),ce=t(787),ue=t(826),de=t(867),me=t(866),ve=t(828),pe=t(820),Ee=t(806),ge=t(819),be=t(816),ye=t(812),fe=t(821),he=t(822),Se=t(823),Oe=t(824),Ce=t(825),xe=t(827),we=t(742),Te=t(213),_e=t(96),je=t.n(_e);function Ae(){const e=Object(B.f)(),[a,t]=Object(l.useState)({status:"loading"});Object(l.useEffect)(()=>{var e=(new Q).accountData;null==a.data&&r(e.token)},[a]);const r=a=>{const l=G.a.create((new Q).getHeaders(a)),r=(new Q).LICENSE_REQUEST_TYPE_STATS;l.get(r).then((function(e){const a=e.data.data.reduce((e,a)=>parseInt(a.total)+e,0);console.log("total",a);const l=e.data.data.map(e=>100*parseInt(e.total)/a),r=e.data.data.map(e=>e.request_status);console.log(l,r);const n={labels:r,series:l};console.log(n),t({data:n,status:"success"})})).catch((function(a){var l,r;a.response?404===(null===a||void 0===a||null===(l=a.response)||void 0===l?void 0:l.status)?t({data:{labels:[],series:[]},status:"empty"}):401===(null===a||void 0===a||null===(r=a.response)||void 0===r?void 0:r.status)?e.push("/",{expired:!0}):t({data:{labels:[],series:[]},status:"error"}):t({data:{labels:[],series:[]},status:"error"})}))};return[a,r]}function Re(){const e=Object(B.f)(),[a,t]=Object(l.useState)({status:"loading"});Object(l.useEffect)(()=>{var e=(new Q).accountData;null==a.data&&r(e.token)},[a]);const r=a=>{const l=G.a.create((new Q).getHeaders(a)),r=(new Q).APPROVED_LICENSE_TYPE_STATS;l.get(r).then((function(e){const a=e.data.data.reduce((e,a)=>parseInt(a.total)+e,0);console.log("total",a);const l=e.data.data.map(e=>parseInt(e.total)),r=e.data.data.map(e=>e.l_name);console.log(l,r);const n={labels:r,series:l};console.log(n),t({data:n,status:"success"})})).catch((function(a){var l,r;a.response?404==(null===a||void 0===a||null===(l=a.response)||void 0===l?void 0:l.status)?t({data:{labels:[],series:[]},status:"empty"}):401==(null===a||void 0===a||null===(r=a.response)||void 0===r?void 0:r.status)?e.push("/",{expired:!0}):t({data:{labels:[],series:[]},status:"error"}):t({data:{labels:[],series:[]},status:"error"})}))};return[a,r]}var Ne=t(780),Ie=t(781),ke=t(23),ze=t.n(ke),Le=t(158),Pe=t(348),De=t.n(Pe),Me=t(349),We=t.n(Me),qe=t(350),Ue=t.n(qe);const Ge=e=>{var a,t,l,r;return{series:null==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.series)?[]:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.series,options:{chart:{width:380,type:"pie"},labels:null==(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.labels)?[]:null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.labels,responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}}},Be=e=>{var a,t,l,r;return{series:null==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.series)?[]:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.series,options:{chart:{width:380,type:"pie"},labels:null==(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.labels)?[]:null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.labels,responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}}},He=e=>{var a,t,l,r;return{series:null==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.series)?[]:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.series,options:{chart:{width:380,type:"pie"},labels:null==(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.labels)?[]:null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.labels,responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}}},Fe=e=>{var a,t,l,r;return{series:[{data:null==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.series)?[]:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.series}],options:{chart:{height:350,type:"bar",events:{click:function(e,a,t){}}},colors:[],plotOptions:{bar:{columnWidth:"45%",distributed:!0}},dataLabels:{enabled:!1},legend:{show:!1},xaxis:{categories:null==(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.labels)?[]:null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.labels,labels:{style:{colors:[],fontSize:"12px"}}}}}},Ve=e=>{var a,t,l,r;return{series:[{data:null==(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.series)?[]:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.series}],options:{chart:{height:350,type:"bar",events:{click:function(e,a,t){}}},colors:[],plotOptions:{bar:{columnWidth:"45%",distributed:!0}},dataLabels:{enabled:!1},legend:{show:!1},xaxis:{categories:null==(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.labels)?[]:null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.labels,labels:{style:{colors:[],fontSize:"12px"}}}}}},Ye=Object(w.a)(e=>({root:{flexShrink:0,flexFlow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},paper:{padding:e.spacing(2),height:200,elevation:0},paper3:{padding:e.spacing(2),height:"100px",elevation:0},paper1:{padding:e.spacing(2),height:380,elevation:0},paper2:{padding:e.spacing(2),elevation:0},title:{[e.breakpoints.down("sm")]:{fontSize:"12px"}},formTitle:{flexGrow:1}}));var Qe=Object(_.c)((function(){var e,a,t;const n=Ye(),{enqueueSnackbar:o,closeSnackbar:i}=Object(U.b)(),[s,c]=function(){const e=Object(B.f)(),[a,t]=Object(l.useState)({status:"loading"});Object(l.useEffect)(()=>{var e=(new Q).accountData;null==a.data&&r(e.token)},[a]);const r=a=>{const l=G.a.create((new Q).getHeaders(a)),r=(new Q).GENERAL_STATS;l.get(r).then((function(e){const a=e.data.data;t({data:a,status:"success"})})).catch((function(a){var l,r;a.response?404==(null===a||void 0===a||null===(l=a.response)||void 0===l?void 0:l.status)?t({data:{},status:"empty"}):401==(null===a||void 0===a||null===(r=a.response)||void 0===r?void 0:r.status)?e.push("/",{expired:!0}):t({data:{},status:"error"}):t({data:{},status:"error"})}))};return[a,r]}(),[u,d]=function(){const e=Object(B.f)(),[a,t]=Object(l.useState)({status:"loading"});Object(l.useEffect)(()=>{var e=(new Q).accountData;null==a.data&&r(e.token)},[a]);const r=a=>{const l=G.a.create((new Q).getHeaders(a)),r=(new Q).GET_ORGANIZARION_TYPE_STATS;l.get(r).then((function(e){const a=e.data.data.map(e=>e.total),l=e.data.data.map(e=>e.organization_type);console.log(a,l);const r={labels:l,series:a};console.log(r),t({data:r,status:"success"})})).catch((function(a){var l,r;a.response?404==(null===a||void 0===a||null===(l=a.response)||void 0===l?void 0:l.status)?t({data:{labels:[],series:[]},status:"empty"}):401==(null===a||void 0===a||null===(r=a.response)||void 0===r?void 0:r.status)?e.push("/",{expired:!0}):t({data:{labels:[],series:[]},status:"error"}):t({data:{labels:[],series:[]},status:"error"})}))};return[a,r]}(),[m,v]=Ae(),[p,E]=Re();return Object(l.useEffect)(()=>{},[]),r.a.createElement("div",{className:n.root},r.a.createElement(y.a,{style:{display:"flex"}},r.a.createElement(y.a,{style:{display:"flex"},className:n.formTitle},r.a.createElement(Ne.a,{color:"primary",fontSize:"medium"}),r.a.createElement(f.a,{variant:"h6"},"Dashboard")),r.a.createElement(Ie.a,{fontSize:"large",color:"primary"}),r.a.createElement(f.a,{variant:"h6"},Object(Le.a)(new Date,["yyyy-MM-dd"]))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(S.a,{container:!0,spacing:1},r.a.createElement(S.a,{item:!0,xs:12,md:4},r.a.createElement(O.a,{className:n.paper3,elevation:0},r.a.createElement(S.a,{container:!0},r.a.createElement(S.a,{item:!0,xs:8,md:8},r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{variant:"h8"},r.a.createElement("b",null,"License Requests"))),r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(f.a,{variant:"h6"},null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.license_requests))),r.a.createElement(S.a,{item:!0,xs:4,md:4},r.a.createElement(y.a,{style:{padding:5}},r.a.createElement("img",{src:De.a,width:"80px",height:"60px"})))))),r.a.createElement(S.a,{item:!0,xs:12,md:4},r.a.createElement(O.a,{className:n.paper3,elevation:0},r.a.createElement(S.a,{container:!0},r.a.createElement(S.a,{item:!0,xs:8,md:8},r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{variant:"h8"},r.a.createElement("b",null,"Organizations"))),r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(f.a,{variant:"h6"},null===s||void 0===s||null===(a=s.data)||void 0===a?void 0:a.organizations))),r.a.createElement(S.a,{item:!0,xs:4,md:4},r.a.createElement(y.a,{style:{padding:5}},r.a.createElement("img",{src:We.a})))))),r.a.createElement(S.a,{item:!0,xs:12,md:4,lg:4,sm:4},r.a.createElement(O.a,{className:n.paper3,elevation:0},r.a.createElement(S.a,{container:!0},r.a.createElement(S.a,{item:!0,xs:8,md:8},r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{variant:"h8"},r.a.createElement("b",null,"Users"))),r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(f.a,{variant:"h6"},null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.users))),r.a.createElement(S.a,{item:!0,xs:4,md:4},r.a.createElement(y.a,{style:{padding:5}},r.a.createElement("img",{src:Ue.a})))))),r.a.createElement(S.a,{item:!0,xs:12,md:6,lg:6,sm:6},r.a.createElement(O.a,{style:{minHeight:380},elevation:0},r.a.createElement(f.a,{style:{marginLeft:20}}," License Usage Statistics  "),r.a.createElement(je.a,{options:Fe(p).options,series:Fe(p).series,type:"bar",height:350}))),r.a.createElement(S.a,{item:!0,xs:12,md:6,lg:6,sm:6},r.a.createElement(O.a,{style:{minHeight:380,display:"flex"},elevation:0},r.a.createElement(f.a,{style:{marginLeft:20}}," License Requests "),r.a.createElement(je.a,{style:{marginTop:50},type:"donut",options:Ge(m).options,series:Ge(m).series,width:380}))))))})),Ke=t(333),Je=t(314),Xe=t(791),Ze=t(790),$e=t(782),ea=t(783),aa=t(788),ta=t(789),la=t(792);const ra=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),na=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));function oa(e){var a;const{toggleUser:t,displayData:l,selectedRows:n,openEdit:o}=e;var i="ENABLED"==l[null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.index].data[5];return r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(Je.a,{control:r.a.createElement(Xe.a,{disabled:e.toggling,checked:i,onChange:()=>{var e,a;t(null===(e=l[null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])},value:"vertical",color:"primary"}),label:i?"Deactivate License":"Activate License"}),r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(la.a,null),onClick:()=>{var e,a;return o(null===(e=l[null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])}},"Edit"))}var ia=Object(_.c)((function(e){const a=na(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),[i,s]=Object(l.useState)(!1),[c,u]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[d,m]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;m(e),b(e.access_token)},[]);const[E,g]=Object(l.useState)("No licenses available...."),b=e=>{const a=G.a.create((new Q).getHeaders(e));u({...c,loading:!0}),a.get((new Q).LICENSES).then((function(e){u({...c,loading:!1});const a=e.data;if(0==a.data.length)g("There are no users available.");else{var t=a.data;u({...c,data:t}),g("Licenses loaded")}})).catch((function(e){var a,t;u({...c,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),g(l),L(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[h,S]=Object(l.useState)({value:"",error:""}),[O,w]=Object(l.useState)({value:"",error:""}),[j,A]=Object(l.useState)({value:"",error:""}),R=e=>{""===e.target.value?S({value:"",error:"Please enter valid license name"}):S({value:e.target.value,error:""})},N=e=>{""===e.target.value?w({value:"",error:"Please enter valid license code"}):w({value:e.target.value,error:""})},I=e=>{""===e.target.value?A({value:"",error:"Please enter valid description"}):A({value:e.target.value,error:""})},k=()=>{const e=G.a.create((new Q).getHeaders(d.token));u({...c,saving:!0});const a={name:h.value,code:O.value,description:j.value,license_category:"INSTITUTION_LICENSE"};e.post((new Q).LICENSES,a).then((function(e){u({...c,saving:!1});var a=e.data,t=c.data;const l=a.data;t.unshift(l),u({...c,data:t}),z(),L("success",e.data.message),s(!1)})).catch((function(e){var a,t;u({...c,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),L(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},z=()=>{S({value:"",error:""}),A({value:"",error:""}),w({value:"",error:""})},L=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},P=[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"name",label:"License Name",options:{filter:!1,sort:!0}},{name:"code",label:"License Code",options:{filter:!1,sort:!1}},{name:"description",label:"Description",options:{filter:!1,sort:!1}},{name:"created_at",label:"Created At",options:{filter:!0,sort:!0}},{name:"status",label:"Status",options:{filter:!0,sort:!1,customBodyRenderLite:function(e,a){var t;return r.a.createElement(Ke.a,{avatar:r.a.createElement(de.a,null,"enabled"==c.data[e].status.toLowerCase()?r.a.createElement($e.a,{fontSize:"small"}):r.a.createElement(ea.a,{fontSize:"small"})),variant:"outlined",color:"enabled"==c.data[e].status.toLowerCase()?"primary":"default",size:"small",label:ra(null===(t=c.data[e])||void 0===t?void 0:t.status)})}}}],D={filterType:"multiselect",elevation:0,selectableRows:"single",searchPlaceholder:"Search user...",selectableRowsOnClick:!0,fixedHeader:!0,onCellClick:(e,a)=>{c.data[a.dataIndex]},searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:E}},customToolbarSelect:(e,a,t)=>r.a.createElement(oa,{selectedRows:e,displayData:a,setSelectedRows:t,toggleUser:()=>{},openEdit:()=>{},toggling:c.toggling})};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:i,maxWidth:"sm",fullWidth:!0,onClose:()=>{s(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Add New License Type"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:h.value,placeholder:"Name",label:"License Name",fullWidth:!0,onChange:R,helperText:h.error,error:""!==h.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:O.value,placeholder:"Code",label:"License Code",fullWidth:!0,onChange:N,helperText:O.error,error:""!==O.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:j.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:I,helperText:j.error,error:""!==j.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{s(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:c.saving,variant:"contained",color:"primary",onClick:()=>{""===h.value?S({value:"",error:"Please provide valid name"}):""===O.value?w({value:"",error:"Please provide valid code"}):"'"===j.value?A({value:"",error:"Please fulfill description"}):k()},disableElevation:!0},c.saving?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(aa.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"Institution License Types")),r.a.createElement(v.a,{className:a.btn,color:"primary",variant:"contained",size:"medium",startIcon:r.a.createElement(ta.a,null),disableElevation:!0,onClick:()=>{s(!0)}},"New License Type")),r.a.createElement(y.a,{style:{marginTop:20}}),c.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of License Types",data:c.data,columns:P,options:D}))})),sa=t(868),ca=t(794),ua=t(865),da=t(799),ma=t(248),va=t(253),pa=t(251),Ea=t(741),ga=t(795),ba=t(796),ya=t(797),fa=t(798),ha=t(800),Sa=t(863),Oa=t(137),Ca=t.n(Oa);const xa=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{borderRadius:15},paper:{padding:15},action:{borderRadius:15},card:{borderRadius:15}}));var wa=Object(_.c)((function(e){const a=xa(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),[i,s]=Object(l.useState)(!1),[c,u]=Object(l.useState)({saving:!1,loading:!1,page:0,pages:1,count:20,per_page:20,data:[]}),d=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},m=Object(Te.a)(),E=Object(re.a)(m.breakpoints.up("sm")),[g,b]=Object(l.useState)(0),h=["Organization Info","Representative Info","Review"],[w,j]=Object(l.useState)(null),[N,I]=Object(l.useState)(null),[k,z]=Object(l.useState)({value:"",error:""}),[L,P]=Object(l.useState)({value:"",error:""}),[D,M]=Object(l.useState)({value:"",error:""}),[W,q]=Object(l.useState)({value:"",error:""}),[H,F]=Object(l.useState)({value:"",error:""}),[V,Y]=Object(l.useState)({value:"",error:""});Object(l.useEffect)(()=>{const e=(new Q).accountData;j(e),(e=>{const a=G.a.create((new Q).getHeaders(e));u({...c,loading:!0}),a.get((new Q).ORGANIZATIONS).then((function(e){u({...c,loading:!1});var a=e.data.data;u({...c,data:a})})).catch((function(e){var a,t;u({...c,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),d(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))})(e.access_token)},[]);const K=e=>{""===e.target.value?z({value:"",error:"Please enter valid name"}):z({value:e.target.value,error:""})},J=e=>{""===e.target.value?P({value:"",error:"Please enter valid name"}):P({value:e.target.value,error:""})},X=e=>{""===e.target.value?q({value:"",error:"Please enter representative name"}):q({value:e.target.value,error:""})},Z=e=>{""===e.target.value?F({value:"",error:"Please enter representative phone"}):F({value:e.target.value,error:""})},$=()=>{const e=G.a.create((new Q).getHeaders(w.token));u({...c,saving:!0});const a={name:k.value,tin:L.value,province:D.value,representative_name:W.value,representative_phone_number:H.value,organization_type:V.value};e.post((new Q).ORGANIZATIONS,a).then((function(e){u({...c,saving:!1});var a=e.data,t=c.data;const l=a.data;t.unshift(l),u({...c,data:t}),ee(),d("success",e.data.message),s(!1)})).catch((function(e){var a,t;u({...c,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),d(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},ee=()=>{b(0),z({value:"",error:""}),P({value:"",error:""}),M({value:"",error:""}),q({value:"",error:""}),F({value:"",error:""}),Y({value:"",error:""})};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:i,maxWidth:"sm",fullWidth:!0,onClose:()=>s(!1)},r.a.createElement(oe.a,{id:"new-op"},"New Organization"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{width:1},r.a.createElement(sa.a,{activeStep:g,alternativeLabel:!0,style:{padding:0}},h.map(e=>r.a.createElement(ca.a,{key:e},r.a.createElement(ua.a,null,e)))),r.a.createElement("div",null,g===h.length?r.a.createElement("div",null,r.a.createElement(f.a,{className:a.instructions},"All steps completed"),r.a.createElement(v.a,null,"Reset")):r.a.createElement("div",null,0==g?r.a.createElement(y.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",type:"text",value:k.value,placeholder:"Organization Name",label:"Organization Name",fullWidth:!0,onChange:K,helperText:k.error,error:""!==k.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",type:"text",value:L.value,placeholder:"Organization TIN",label:"Organization TIN",fullWidth:!0,onChange:J,helperText:L.error,error:""!==L.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:a.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==V.error},r.a.createElement(va.a,{id:"type"},"Organization Type"),r.a.createElement(pa.a,{label:"Organization Type",value:V.value,onChange:e=>{""===e.target.value?Y({value:"",error:"Please select organization type"}):Y({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"EMONEY"},"EMONEY"),r.a.createElement(R.a,{value:"REMITTANCE"},"REMITTANCE"),r.a.createElement(R.a,{value:"PAYMENT_AGGREGATOR"},"PAYMENT_AGGREGATOR"),r.a.createElement(R.a,{value:"PAYMENT_SYSTEM_OPERATOR"},"PAYMENT SYSTEM OPERATOR"),r.a.createElement(R.a,{value:"CHEQUE_PRINTING_COMPANY"},"CHEQUE PRINTING COMPANY"),r.a.createElement(R.a,{value:"CSD_STOCK_BROKER"},"CSD STOCK BROKER")),r.a.createElement(Ea.a,null,V.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:a.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==D.error},r.a.createElement(va.a,{id:"type"},"Province"),r.a.createElement(pa.a,{label:"Province",value:D.value,onChange:e=>{""===e.target.value?M({value:"",error:"Please select province"}):M({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"Kigali"},"Kigali"),r.a.createElement(R.a,{value:"Western"},"Western"),r.a.createElement(R.a,{value:"Northern"},"Northern"),r.a.createElement(R.a,{value:"Eastern"},"Eastern"),r.a.createElement(R.a,{value:"Sourthern"},"Sourthern")),r.a.createElement(Ea.a,null,D.error)))):1===g?r.a.createElement(y.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",type:"text",value:W.value,placeholder:"Representative Name",label:"Representative Name",fullWidth:!0,onChange:X,helperText:W.error,error:""!==W.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",type:"text",value:H.value,placeholder:"Representative Phone",label:"Representative Phone",fullWidth:!0,onChange:Z,helperText:H.error,error:""!==H.error})}))):r.a.createElement(y.a,{m:4},r.a.createElement(f.a,{align:"center"},"DONE")))),r.a.createElement(y.a,{mt:3}),r.a.createElement(ce.a,null,r.a.createElement(v.a,{variant:"outlined",color:"primary",disableElevation:!0,onClick:()=>{0===g?s(!1):b(g-1)}},0===g?"Cancel":"Back"),r.a.createElement(v.a,{variant:"contained",color:"primary",disableElevation:!0,disabled:c.saving,onClick:()=>{g==h.length-1?""===H.value?F({value:"",error:"Please enter representative phone"}):""===W.value?q({value:"",error:"Please enter representative name"}):""===D.value?M({value:"",error:"Please select province"}):""===V.value?Y({value:"",error:"Please select organization type"}):""===L.value?P({value:"",error:"Please enter valid name"}):""===k.value?z({value:"",error:"Please enter valid name"}):$():b(g+1)}},c.saving?r.a.createElement(x.a,{size:25}):g===h.length-1?"Save":"Continue"))))),r.a.createElement(y.a,{style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(ga.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"Organizations")),r.a.createElement(p.a,{color:"primary"},r.a.createElement(ba.a,null)),E?r.a.createElement(y.a,{ml:2,display:"flex",height:40},r.a.createElement(v.a,{className:a.btn,color:"primary",variant:"outlined",size:"medium",startIcon:r.a.createElement(fa.a,null),disableElevation:!0},"Filter")):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{onClick:e=>I(e.currentTarget)},r.a.createElement(ya.a,null)),r.a.createElement(A.a,{id:"menu-appbar",anchorEl:N,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"bottom",horizontal:"right"},open:null!=N,onClose:()=>I(null)},r.a.createElement(R.a,{onClick:()=>{}},"Filter")))),r.a.createElement(y.a,{mt:3,style:{marginTop:10}}),r.a.createElement(S.a,{container:!0,spacing:2},r.a.createElement(S.a,{item:!0,xs:6,sm:4,md:4,lg:2},r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement(da.a,{className:a.action,onClick:()=>{s(!0)}},r.a.createElement(y.a,{width:1,style:{height:"150px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",border:1,borderStyle:"dotted",borderRadius:"borderRadius",borderColor:"grey.300"},className:a.btn2},r.a.createElement(ta.a,{fontSize:"large"}))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(f.a,{color:"inherit"},"Add new"),r.a.createElement(f.a,{color:"textSecondary",variant:"caption"},"New Organization")))),0==c.data.length&&!c.loading&&r.a.createElement(y.a,{p:2,style:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",height:500}},r.a.createElement(y.a,{style:{marginTop:10,marginLeft:200}},r.a.createElement("img",{src:Ca.a,alt:"Empty data",height:200})),r.a.createElement("br",null),r.a.createElement(y.a,{style:{marginTop:10,marginLeft:200}},r.a.createElement(f.a,{color:"textSecondary"},"There are no organization available yet, create one first"))),c.loading?[1,2,3,4,5].map((e,a)=>r.a.createElement(S.a,{item:!0,xs:6,sm:4,md:4,lg:2},r.a.createElement(y.a,{width:1,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:15}},r.a.createElement(ha.a,{variant:"rect",height:150,width:"100%",style:{borderRadius:15}}),r.a.createElement(ha.a,{variant:"text",width:"68%",style:{borderRadius:7}})))):c.data.map((e,t)=>r.a.createElement(S.a,{item:!0,xs:6,sm:4,md:4,lg:2},r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement(da.a,{className:a.action,onClick:()=>{}},r.a.createElement(O.a,{className:a.card,elevation:0},r.a.createElement(y.a,{width:1,style:{height:"150px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",border:0,borderRadius:"borderRadius",borderColor:"grey.300"}},"DISABLED"==e.status&&r.a.createElement(y.a,{height:1,width:1,p:1,style:{position:"absolute",display:"flex",justifyContent:"flex-end",alignItems:"flex-start"}},r.a.createElement(ea.a,{color:"secondary"})),r.a.createElement(ga.a,{fontSize:"large"})))),r.a.createElement(y.a,{mt:1},r.a.createElement(f.a,{color:"inherit"},e.name)))))),r.a.createElement(y.a,{width:1,style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(Sa.a,{disabled:c.loading||null==c.pages,count:c.pages,page:c.page+1,onChange:(e,a)=>{},size:"large"})))})),Ta=t(261),_a=t(332),ja=t(802),Aa=t(804),Ra=t(807),Na=t(808),Ia=t(809),ka=t(351),za=t.n(ka);const La=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize",marginLeft:10},btn2:{textTransform:"capitalize"},paper:{padding:15},action:{borderRadius:15}}));var Pa=Object(_.c)((function(e){var a;const t=La(),n=Object(Te.a)(),o=Object(re.a)(n.breakpoints.up("sm")),i=Object(B.f)(),[s,c]=Object(l.useState)(!1),[u,d]=Object(l.useState)(!1),[m,E]=Object(l.useState)(!1),{enqueueSnackbar:g,closeSnackbar:b}=Object(U.b)(),[h,w]=Object(l.useState)(null),[j,N]=Object(l.useState)({saving:!1,loading:!1,toggling:"none",page:0,pages:1,count:20,per_page:20,data:[],data2:[]}),[I,k]=Object(l.useState)(null);Object(l.useEffect)(()=>{const e=(new Q).accountData;k(e),je(e.access_token),Ae(e.access_token,0,!0)},[]);const[z,L]=Object(l.useState)([]),[P,D]=Object(l.useState)([]),[M,W]=Object(l.useState)([]),[q,H]=Object(l.useState)([]),[F,V]=Object(l.useState)({open:!1}),[Y,J]=Object(l.useState)("none"),[X,le]=Object(l.useState)("none"),[ue,de]=Object(l.useState)(null),[me,ve]=Object(l.useState)(null),[pe,ge]=Object(l.useState)({data:[]}),[be,ye]=Object(l.useState)(!1),[fe,he]=Object(l.useState)(!1),[Se,Oe]=Object(l.useState)({value:"",error:""}),[Ce,xe]=Object(l.useState)({value:"",error:""}),[we,_e]=Object(l.useState)({value:"",error:""}),je=e=>{const a=G.a.create((new Q).getHeaders(e));N({...j,loading:!0}),J("none"),console.log("getting roles ....."),a.get((new Q).ROLES).then((function(e){N({...j,loading:!1});const a=e.data;N({...j,data:a.data,data2:a.data})})).catch((function(e){var a,t;N({...j,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),Ne(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},Ae=function(e,a){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const l=G.a.create((new Q).getHeaders(e));c(!0),L([]),D([]),console.log("getting privileges .....");const r=t?(new Q).PRIVILEGE:(new Q).GET_ROLE_PRIVILEGE+a;l.get(r).then((function(e){c(!1);const a=e.data;if(t)W(a.data),H(a.data);else{L(a.data),D(a.data);var l=(new K).difference(a.data,M);console.log(l.length)}})).catch((function(e){var a,t;c(!1);var l=e.message;e.response&&(l=e.response.data.message),Ne(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},Re=()=>{Oe({value:"",error:""}),xe({value:"",error:""})},Ne=(e,a,t)=>{401==t&&i.push("/",{expired:!0}),g(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{b(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})};return r.a.createElement("div",{className:t.root},r.a.createElement(ne.a,{open:be,maxWidth:"sm",fullWidth:!0,onClose:()=>ye(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(oe.a,{id:"alert-dialog-title"},"Add new role"),r.a.createElement(ie.a,null,r.a.createElement(se.a,{id:"alert-dialog-description"},"Create new role and adjust privileges later."),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",value:Se.value,placeholder:"Name",label:"Name",fullWidth:!0,onChange:e=>{""===e.target.value?Oe({value:"",error:"Name is required"}):Oe({value:e.target.value,error:""})},helperText:Se.error,error:""!==Se.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",multiline:!0,rows:3,rowsMax:5,value:Ce.value,placeholder:"Description",label:"Description",fullWidth:!0,onChange:e=>{""===e.target.value?xe({value:"",error:"Description is required"}):xe({value:e.target.value,error:""})},helperText:Ce.error,error:""!==Ce.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{variant:"outlined",onClick:()=>{ye(!1),Re()},color:"primary"},"Cancel"),r.a.createElement(v.a,{variant:"contained",color:"primary",autoFocus:!0,disabled:j.saving,onClick:()=>{(()=>{const e=G.a.create((new Q).getHeaders());N({...j,saving:!0}),console.log("Create role .....");const a={description:Ce.value,name:Se.value},t=(new Q).ROLES;e.post(t,a).then((function(e){N({...j,saving:!1});const a=e.data,t=j.data;t.push(a.data),N({...j,data:t,data2:t}),J({index:Y.index,role:a.data}),Ne("success",a.message),Re(),E(!1),ye(!1)})).catch((function(e){var a,t;N({...j,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),Ne(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))})()},disableElevation:!0},j.saving?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(ne.a,{open:fe,onClose:()=>he(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"sm",fullWidth:!0},r.a.createElement(oe.a,{id:"alert-dialog-title"},"All privileges"),r.a.createElement(ie.a,null,r.a.createElement(se.a,{id:"alert-dialog-description"},"List of all available privileges"),r.a.createElement(y.a,null,r.a.createElement(C.a,{size:"small",variant:"outlined",placeholder:"Search privilege",fullWidth:!0,InputProps:{startAdornment:r.a.createElement(ja.a,{position:"start"},r.a.createElement(ba.a,null))},onChange:()=>{}})),r.a.createElement($.a,null,M.map((e,a)=>r.a.createElement(r.a.Fragment,null,0!=a&&a!=M.length&&r.a.createElement(Z.a,{variant:"middle"}),r.a.createElement(ee.a,{key:a,dense:!0,onMouseEnter:()=>le({index:a,priv:e,role:!1}),onMouseLeave:()=>le("none"),selected:X.index==a},r.a.createElement(te.a,{primary:e.name.split("_").join(" "),secondary:e.description}),r.a.createElement(Aa.a,null,X.index==a&&r.a.createElement(p.a,{onMouseEnter:()=>le({index:a,priv:e,role:!1}),onClick:e=>de(null===e||void 0===e?void 0:e.currentTarget)},r.a.createElement(la.a,{fontSize:"small"})))))))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>he(!1),color:"primary"},"Close"))),r.a.createElement(Ta.a,{id:"pop-id",open:null!=ue,anchorEl:ue,onClose:()=>de(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},elevation:4},r.a.createElement(y.a,{style:{padding:10}},r.a.createElement(f.a,{color:"textSecondary"},"Edit priviledge detailed description here"),r.a.createElement(y.a,{style:{marginTop:10,marginBottom:10}},r.a.createElement(C.a,{label:"Description",placeholder:"Priviledge description",multiline:!0,fullWidth:!0,variant:"outlined",rows:2,rowsMax:5,defaultValue:null===(a=X.priv)||void 0===a?void 0:a.description,onChange:()=>{},error:""!=we.error,helperText:we.error})),r.a.createElement(v.a,{variant:"outlined",size:"small",color:"primary",className:t.btn2,onClick:()=>de(null)},"Close"),r.a.createElement(v.a,{disabled:u,variant:"contained",size:"small",color:"primary",className:t.btn,disableElevation:!0,onClick:()=>{}},u?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(Ta.a,{id:"pop-id-2",style:{minWidth:200},open:null!=me,anchorEl:me,onClose:()=>{ve(null),ge({data:[]})},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},elevation:4},r.a.createElement(y.a,{style:{margin:10}},r.a.createElement(C.a,{size:"small",variant:"outlined",placeholder:"Search privilege",fullWidth:!0,InputProps:{startAdornment:r.a.createElement(ja.a,{position:"start"},r.a.createElement(ba.a,null))},onChange:()=>{}})),0!=pe.data.length&&r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",width:"250px",marginBottom:20,padding:10,position:"fixed",zIndex:100,bottom:0}},r.a.createElement(v.a,{color:"primary",size:"large",variant:"contained",onClick:()=>((e,a)=>{var t;const l=G.a.create((new Q).getHeaders(I.token));c(!0),console.log("Assigning privilege ....."),ve(null);const r=a,n=(new Q).ASSIGN_PRIV_ROLE+(null===Y||void 0===Y||null===(t=Y.role)||void 0===t?void 0:t.id);l.put(n,r).then((function(e){var a;c(!1);const t=e.data;Ae(I.token,null===Y||void 0===Y||null===(a=Y.role)||void 0===a?void 0:a.id),le("none"),Ne("success",t.message)})).catch((function(e){var a,t;c(!1);var l=e.message;e.response&&(l=e.response.data.message),Ne(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))})(pe.role,pe.data)},"Add all ","("+pe.data.length+")")),r.a.createElement($.a,null,r.a.createElement(ee.a,{key:"987hh"},r.a.createElement(ae.a,null,r.a.createElement(_a.a,{disabled:0==M.length,color:"primary",checked:pe.all,onChange:e=>{var a=pe.data;e.target.checked?(M.forEach((e,t)=>{a.push(e.id)}),ge({role:Y.role.role_id,data:a,all:!0})):ge({...pe,data:[],all:!1})}})),r.a.createElement(te.a,{primary:"Select all"})),0!=M.length?M.map((e,a)=>r.a.createElement(r.a.Fragment,null,0!=a&&a!=M.length&&r.a.createElement(Z.a,{variant:"middle"}),r.a.createElement(ee.a,{key:a,dense:!0,selected:pe.data.includes(e.id)},r.a.createElement(ae.a,null,r.a.createElement(_a.a,{color:"primary",checked:pe.data.includes(e.id),onChange:a=>{var t=pe.data;if(a.target.checked)t.push(e.id),ge({role:Y.role.role_id,data:t});else{const a=t.indexOf(e.id);t.splice(a,1),ge({...pe,data:t})}}})),r.a.createElement(te.a,{primary:e.name.split("_").join(" "),secondary:e.description})))):r.a.createElement(y.a,{p:2,mt:3,mb:3,height:1,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},r.a.createElement(y.a,{mt:2},r.a.createElement("img",{src:Ca.a,alt:"Empty data",height:200})),r.a.createElement(f.a,{color:"textSecondary"},"There are no privilegesfor your search.")))),r.a.createElement(ne.a,{open:F.open,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(oe.a,{id:"alert-dialog-title"},"Warning"),r.a.createElement(ie.a,null,r.a.createElement(se.a,{id:"alert-dialog-description"},"You are about to remove this privilege to all users who have this role.")),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{V({...F,open:!1})},color:"primary"},"Cancel"),r.a.createElement(v.a,{onClick:()=>{},color:"primary",autoFocus:!0},"Remove"))),r.a.createElement(y.a,{style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(Ee.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:t.title},r.a.createElement("b",null,"Roles and privileges")),o?r.a.createElement(y.a,{style:{display:"flex"}},r.a.createElement(v.a,{className:t.btn2,color:"primary",size:"medium",variant:"outlined",startIcon:r.a.createElement(Ra.a,null),onClick:()=>{he(!0),W(q)}},"All priviledges"),r.a.createElement(v.a,{className:t.btn,color:"primary",variant:"contained",size:"medium",startIcon:r.a.createElement(ta.a,null),disableElevation:!0,onClick:()=>ye(!0)},"Create role")):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{onClick:e=>w(e.currentTarget)},r.a.createElement(ya.a,null)),r.a.createElement(A.a,{id:"menu-appbar",anchorEl:h,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"bottom",horizontal:"right"},open:null!=h,onClose:()=>w(null)},r.a.createElement(R.a,{onClick:()=>{he(!0),W(q)}},"All privileges"),r.a.createElement(R.a,{onClick:()=>ye(!0)},"Create role")))),r.a.createElement(y.a,{style:{marginTop:20}}),r.a.createElement(S.a,{container:!0,spacing:1},r.a.createElement(S.a,{xs:12},r.a.createElement(y.a,{style:{margin:10}},r.a.createElement(f.a,{color:"textSecondary"},"A role is a group of permissions that you can assign to users. You can create a role and add priviledge to it, or copy an existing role and adjust its privileges"))),r.a.createElement(S.a,{item:!0,xs:12,sm:12,md:5},r.a.createElement(O.a,{elevation:0,style:{minHeight:500}},r.a.createElement(y.a,{style:{paddingTop:10,paddingRight:5,paddingLeft:5}},r.a.createElement(C.a,{size:"small",variant:"outlined",placeholder:"Search role",fullWidth:!0,InputProps:{startAdornment:r.a.createElement(ja.a,{position:"start"},r.a.createElement(ba.a,null))},onChange:e=>{const a=e.target.value,t=j.data2;if(""==a)N({...j,data:t});else{const e=t.filter(e=>e.name.toLowerCase().split("_").join(" ").includes(a.toLowerCase()));N({...j,data:e})}}})),!j.loading&&0==j.data.length&&r.a.createElement(y.a,{style:{padding:10,marginTop:10,height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"}},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement("img",{src:Ca.a,alt:"Empty data",height:100})),r.a.createElement(f.a,{color:"textSecondary"},"There are no roles found at the moment.")),r.a.createElement($.a,null,j.loading?[1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9,0,0].map((e,a)=>r.a.createElement(ee.a,{key:a},r.a.createElement(ae.a,null,r.a.createElement(ha.a,{variant:"circle",width:20})),r.a.createElement(te.a,{primary:r.a.createElement(ha.a,{variant:"text",width:"100%",style:{borderRadius:7}})}))):j.data.map((e,a)=>r.a.createElement(ee.a,{key:a,button:!0,selected:Y.index==a,onClick:()=>{J({index:a,role:e}),Ae(I.token,e.id,!1)}},r.a.createElement(ae.a,null,r.a.createElement(Na.a,null)),r.a.createElement(te.a,{primary:e.name}),r.a.createElement(Aa.a,null,r.a.createElement(Xe.a,{color:"primary",checked:"ENABLED"==e.role_status,value:a,disabled:j.toggling==a,onChange:()=>{e.id,e.status}}))))))),r.a.createElement(S.a,{item:!0,xs:12,sm:12,md:7},"none"==Y?r.a.createElement(y.a,{height:1,style:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginTop:30,flexDirection:"column"}},r.a.createElement("img",{src:za.a,alt:"select item",height:250}),r.a.createElement(y.a,{mt:2}," ",r.a.createElement(f.a,{color:"textSecondary",align:"center"},"Select one role to adjust priviledges"))):r.a.createElement(y.a,null,r.a.createElement(y.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(f.a,{variant:"h5"},Y.role.name),r.a.createElement(p.a,{color:"primary",onClick:()=>J("none")},r.a.createElement(T.a,null))),r.a.createElement(f.a,{color:"textSecondary",gutterBottom:!0},Y.role.description),r.a.createElement(v.a,{disabled:!0},r.a.createElement(f.a,{color:"DISABLED"==Y.role.role_status?"error":"primary"},Y.role.role_status)),r.a.createElement(y.a,{style:{display:"flex"}},r.a.createElement(v.a,{color:"primary",variant:"outlined",className:t.btn,disableElevation:!0,onClick:e=>{ve(null===e||void 0===e?void 0:e.currentTarget),W(q)},startIcon:r.a.createElement(ta.a,null)},"Assign privileges")),r.a.createElement(y.a,{mt:2},r.a.createElement(f.a,{variant:"h5"},"Privileges assigned to this role"),r.a.createElement(y.a,{mt:2,ml:2,mr:2},r.a.createElement(C.a,{size:"small",variant:"outlined",placeholder:"Search in assigned privileges",fullWidth:!0,InputProps:{startAdornment:r.a.createElement(ja.a,{position:"start"},r.a.createElement(ba.a,null))}})),!s&&0==z.length&&r.a.createElement(y.a,{style:{marginTop:15,padding:10,height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"}},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement("img",{src:Ca.a,alt:"Empty data",height:200})),r.a.createElement(f.a,{color:"textSecondary"},"There are no privileges found.")),r.a.createElement($.a,null,s?[1,2,3,4,5].map((e,a)=>r.a.createElement(ee.a,{key:a},r.a.createElement(te.a,{primary:r.a.createElement(ha.a,{variant:"text",width:"100%",style:{borderRadius:7}})}))):z.map((e,a)=>{var t;return r.a.createElement(r.a.Fragment,null,0!=a&&a!=z.length&&r.a.createElement(Z.a,{variant:"middle"}),r.a.createElement(ee.a,{key:a,dense:!0,onMouseEnter:()=>le({index:a,priv:e.privilege_id,role:!0}),onMouseLeave:()=>le("none"),selected:X.index==a},r.a.createElement(te.a,{primary:e.privilege_id.name.split("_").join(" "),secondary:null===(t=e.privilege_id)||void 0===t?void 0:t.description}),r.a.createElement(Aa.a,null,r.a.createElement(y.a,null," ",X.index==a&&r.a.createElement(p.a,{onMouseEnter:()=>le({index:a,priv:e.privilege_id,role:!0}),onClick:a=>{console.log(e),de(a.currentTarget)},size:"small"},r.a.createElement(la.a,{fontSize:"small"})),r.a.createElement(p.a,{onClick:t=>V({role:Y.role.id,priv:e.role_privilege_id,open:!0,index:a}),size:"small"},r.a.createElement(Ia.a,{fontSize:"small"}))))))})))))))})),Da=t(813),Ma=t(814),Wa=t(815),qa=t(810),Ua=t(811);var Ga=Object(_.c)(e=>{let{languages:a,activeLanguage:t,setActiveLanguage:l,close:n}=e;const[o,i]=r.a.useState(!1),s=()=>{i(!o)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{onClose:s,action:r.a.createElement(v.a,{color:"secondary",onClick:s},"Close"),open:o,autoHideDuration:3e3,message:"This language is not currently available in this version mode"}),r.a.createElement($.a,{dense:!0,fullWidth:!0},a.map(e=>r.a.createElement(ee.a,{button:!0,onClick:()=>{var a;"fr"!=(a=e.code)&&"rw"!=a?(l(a),n(a)):s()}},r.a.createElement(qa.a,null,r.a.createElement(de.a,null,r.a.createElement(Ua.a,null))),r.a.createElement(te.a,{primary:e.name,secondary:e.code===t.code?"active":""})))))});const Ba=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));var Ha=Object(_.c)((function(e){var a,t,n,o,i,s;const c=Ba(),[u,d]=Object(l.useState)({open:!1,loading:!1,saving:!1}),[m,E]=Object(l.useState)({open:!1,loading:!1,saving:!1}),g=Object(B.f)(),{enqueueSnackbar:b,closeSnackbar:h}=Object(U.b)(),[w,j]=Object(l.useState)({value:"",error:""}),[A,R]=Object(l.useState)({value:"",error:""}),[N,I]=Object(l.useState)({value:"",error:""}),[k,z]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;z(e)},[]);const L=e=>{""==e.target.value?j({value:"",error:"Invalid password"}):j({value:e.target.value,error:""})},P=e=>{""==e.target.value?R({value:"",error:"Invalid password"}):R({value:e.target.value,error:""})},D=e=>{""==e.target.value?I({value:"",error:"Invalid password"}):I({value:e.target.value,error:""})},M=(e,a,t)=>{401==t&&g.push("/",{expired:!0}),b(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{h(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})};return r.a.createElement("div",{className:c.root},r.a.createElement(ne.a,{open:u.open,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"sm",fullWidth:!0,onClose:()=>d({...u,open:!1})},r.a.createElement(oe.a,{id:"alert-dialog-title"},"Change your password"),r.a.createElement(ie.a,null,r.a.createElement(se.a,{id:"alert-dialog-description"},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",type:"password",value:w.value,placeholder:"Old Password",label:"Old Password",fullWidth:!0,onChange:L,helperText:w.error,error:""!==w.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",type:"password",value:A.value,placeholder:"New Password",label:"New Password",fullWidth:!0,onChange:P,helperText:A.error,error:""!==A.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",type:"password",value:N.value,placeholder:"Confirm Password",label:"Confirm Password",fullWidth:!0,onChange:D,helperText:N.error,error:""!==N.error})})))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{d({...u,open:!1})},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:u.saving,variant:"contained",color:"primary",onClick:()=>(()=>{if(""===A.value)j({value:"",error:"Invalid password"});else if(""===w.value)R({value:"",error:"Invalid password"});else if(A.value!==N.value)I({value:"",error:"Passwords don't match"});else{const e=G.a.create((new Q).getHeaders(k.token));d({...u,saving:!0});const a={username:k.user.username,old_password:w.value,new_password:A.value};e.put((new Q).USERS+"/changePassword",a).then((function(e){d({...u,saving:!1}),d({...u,open:!1}),M("success",e.data.message),I({value:"",error:""}),j({value:"",error:""}),R({value:"",error:""})})).catch((function(e){var a,t;d({...u,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),M(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))}})(),disableElevation:!0},u.saving?r.a.createElement(x.a,{size:23}):"Change"))),r.a.createElement(ne.a,{open:m.open,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"sm",fullWidth:!0,onClose:()=>E({...m,open:!1})},r.a.createElement(oe.a,{id:"alert-dialog-title"},"Choose preffered language"),r.a.createElement(ie.a,null,r.a.createElement(Ga,{close:e=>{}})),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{E({...m,open:!1})},color:"primary"},"Cancel"))),r.a.createElement(y.a,{style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(ye.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:c.title},r.a.createElement("b",null,"Settings"))),r.a.createElement(S.a,{container:!0,spacing:1,justify:"center"},r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(y.a,{m:2},r.a.createElement(f.a,null,"You can change system settings here"))),r.a.createElement(S.a,{item:!0,xs:12,md:6},r.a.createElement(y.a,{style:{margin:10,display:"flex",width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement(de.a,{style:{height:120,width:120}}),r.a.createElement(y.a,{mt:2},r.a.createElement(f.a,{gutterBottom:!0,variant:"h5",align:"center"},`${null===k||void 0===k||null===(a=k.user)||void 0===a?void 0:a.first_name} ${null===k||void 0===k||null===(t=k.user)||void 0===t?void 0:t.last_name}`),r.a.createElement(f.a,{color:"textSecondary",align:"center"},`${null===k||void 0===k||null===(n=k.user)||void 0===n||null===(o=n.organization_id)||void 0===o?void 0:o.name} :: ${null===k||void 0===k||null===(i=k.user)||void 0===i||null===(s=i.role_id)||void 0===s?void 0:s.name}`)))),r.a.createElement(S.a,{item:!0,xs:12,md:7},r.a.createElement(da.a,{onClick:()=>{d({...u,open:!0})}},r.a.createElement(O.a,{className:c.paper,elevation:0},r.a.createElement(y.a,{style:{display:"flex",alignItems:"center"},width:1},r.a.createElement(y.a,{mr:2},r.a.createElement(Da.a,{fontSize:"large"})),r.a.createElement(y.a,{flexGrow:1},r.a.createElement(f.a,null,"Change your password")),r.a.createElement(Ma.a,null))))),r.a.createElement(S.a,{item:!0,xs:12,md:7},r.a.createElement(da.a,{onClick:()=>{E({...m,open:!0})}},r.a.createElement(O.a,{className:c.paper,elevation:0},r.a.createElement(y.a,{style:{display:"flex",alignItems:"center"}},r.a.createElement(y.a,{mr:2},r.a.createElement(Wa.a,{fontSize:"large"})),r.a.createElement(y.a,{flexGrow:1},r.a.createElement(f.a,null,"System language")),r.a.createElement(Ma.a,null)))))))}));function Fa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const[a,t]=Object(l.useState)([]);Object(l.useEffect)(()=>{var e=(new Q).accountData;0==a.length&&r(e.token)},[a]);const r=a=>{G.a.create((new Q).getHeaders(a)).get((new Q).LICENSES).then((function(a){if(null==e){const e=a.data;t(e.data)}else{const l=a.data.data.filter(a=>a.license_category===e);t(l)}})).catch((function(e){}))};return a}function Va(){const[e,a]=Object(l.useState)([]);Object(l.useEffect)(()=>{var a=(new Q).accountData;0===e.length&&t(a.token)},[e]);const t=e=>{G.a.create((new Q).getHeaders(e)).get((new Q).VENDOR).then((function(e){const t=e.data.data;a(t)})).catch((function(e){}))};return e}function Ya(){const[e,a]=Object(l.useState)([]);Object(l.useEffect)(()=>{var a=(new Q).accountData;0===e.length&&t(a.token)},[e]);const t=e=>{G.a.create((new Q).getHeaders(e)).get((new Q).SYSTME_TOOLS).then((function(e){const t=e.data.data;a(t)})).catch((function(e){}))};return e}function Qa(){const[e,a]=Object(l.useState)([]);Object(l.useEffect)(()=>{var a=(new Q).accountData;0===e.length&&t(a.token)},[e]);const t=e=>{G.a.create((new Q).getHeaders(e)).get((new Q).FUNCTION).then((function(e){const t=e.data.data;a(t)})).catch((function(e){}))};return e}function Ka(){const[e,a]=Object(l.useState)([]);Object(l.useEffect)(()=>{var a=(new Q).accountData;0===e.length&&t(a.token)},[e]);const t=e=>{G.a.create((new Q).getHeaders(e)).get((new Q).DEPARTMENT).then((function(e){const t=e.data.data;a(t)})).catch((function(e){}))};return e}var Ja=t(864);const Xa=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));function Za(e){var a;const{toggleUser:t,displayData:l,selectedRows:n,openEdit:o}=e;var i="ENABLED"===l[null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.index].data[5];return r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(Je.a,{control:r.a.createElement(Xe.a,{disabled:e.toggling,checked:i,onChange:()=>{var e,a;t(null===(e=l[null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])},value:"vertical",color:"primary"}),label:i?"Deactivate User":"Activate User"}),r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(la.a,null),onClick:()=>{var e,a;return o(null===(e=l[null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])}},"Edit"))}var $a=Object(_.c)((function(e){const a=Xa(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),i=function(){const[e,a]=Object(l.useState)([]);Object(l.useEffect)(()=>{var a=(new Q).accountData;0==e.length&&t(a.token)},[e]);const t=e=>{G.a.create((new Q).getHeaders(e)).get((new Q).ORGANIZATIONS).then((function(e){const t=e.data;a(t.data)})).catch((function(e){}))};return e}(),s=function(){const[e,a]=Object(l.useState)([]);Object(l.useEffect)(()=>{var a=(new Q).accountData;0==e.length&&t(a.token)},[e]);const t=e=>{G.a.create((new Q).getHeaders(e)).get((new Q).ROLES).then((function(e){const t=e.data;a(t.data)})).catch((function(e){}))};return e}(),c=Ka(),[u,d]=Object(l.useState)(!1),[m,E]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[g,b]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;b(e),h(e.access_token)},[]);const h=e=>{const a=G.a.create((new Q).getHeaders(e));E({...m,loading:!0}),a.get((new Q).USERS).then((function(e){console.log("entering",e),E({...m,loading:!1});const a=e.data;if(console.log("GETTING USERS",a),0===a.data.length)w("There are no users available.");else{var t=a.data;t=t.map(e=>{var a,t;return{...e,role:null===(a=e.role_id)||void 0===a?void 0:a.name,organization:null===(t=e.organization_id)||void 0===t?void 0:t.name}}),E({...m,data:t}),w("Licenses loaded")}})).catch((function(e){var a,t;E({...m,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),w(l),S(404===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},S=(e,a,l)=>{401===l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},[O,w]=Object(l.useState)("No users available...."),[_,j]=Object(l.useState)({value:"",error:""}),[A,N]=Object(l.useState)({value:"",error:""}),[I,k]=Object(l.useState)({value:"",error:""}),[z,L]=Object(l.useState)({value:"",error:""}),[P,D]=Object(l.useState)({value:"",error:""}),M=()=>{const e=G.a.create((new Q).getHeaders(g.token));E({...m,saving:!0});const a={email:_.value,role_id:A.value,organization_id:I.value,user_type:z.value,department_id:P.value};e.post((new Q).USERS,a).then((function(e){E({...m,saving:!1});var a=e.data,t=m.data,l=a.data;l.role=l.role_id.name,l.organization=l.organization_id.name,t.unshift(l),E({...m,data:t}),W(),S("success",e.data.message),d(!1)})).catch((function(e){var a,t;E({...m,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),S(404===(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},W=()=>{j({value:"",error:""}),N({value:"",error:""}),k({value:"",error:""}),L({value:"",error:""}),D({value:"",error:""})},q=[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"username",label:"Username",options:{filter:!1,sort:!1}},{name:"email",label:"Email",options:{filter:!0,sort:!0}},{name:"role",label:"Role",options:{filter:!0,sort:!0}},{name:"organization",label:"Organization",options:{filter:!0,sort:!0}},{name:"created_at",label:"Created At",options:{filter:!0,sort:!0}},{name:"status",label:"Status",options:{filter:!0,sort:!1,customBodyRenderLite:function(e,a){var t;return r.a.createElement(Ke.a,{avatar:r.a.createElement(de.a,null,"enabled"===m.data[e].status.toLowerCase()?r.a.createElement($e.a,{fontSize:"small"}):r.a.createElement(ea.a,{fontSize:"small"})),variant:"outlined",color:"enabled"===m.data[e].status.toLowerCase()?"primary":"default",size:"small",label:ra(null===(t=m.data[e])||void 0===t?void 0:t.status)})}}}],H={filterType:"multiselect",elevation:0,selectableRows:"single",searchPlaceholder:"Search user...",selectableRowsOnClick:!0,fixedHeader:!0,onCellClick:(e,a)=>{m.data[a.dataIndex]},searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:O}},customToolbarSelect:(e,a,t)=>r.a.createElement(Za,{selectedRows:e,displayData:a,setSelectedRows:t,toggleUser:()=>{},openEdit:()=>{},toggling:m.toggling})};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:u,maxWidth:"sm",fullWidth:!0,onClose:()=>{d(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Add New User"),r.a.createElement(ie.a,null,r.a.createElement(y.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:_.value,placeholder:"Email",label:"Email Name",fullWidth:!0,onChange:e=>{""===e.target.value?j({value:"",error:"Please enter email"}):j({value:e.target.value,error:""})},helperText:_.error,error:""!==_.error})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:a.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==z.error},r.a.createElement(va.a,{id:"type"},"User Type"),r.a.createElement(pa.a,{label:"User Type",value:z.value,onChange:e=>{""===e.target.value?L({value:"",error:"Please select user type"}):L({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"SUPER_ADMIN"},"SUPER ADMIN"),r.a.createElement(R.a,{value:"CONTRACT_MANAGER"},"CONTRACT MANAGER"),r.a.createElement(R.a,{value:"LICENSE_OWNER"},"LICENSE OWNER")),r.a.createElement(Ea.a,null,z.error))),"LICENSE_OWNER"===z.value&&r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,openOnFocus:!0,options:c,getOptionLabel:e=>e.name,onChange:(e,a)=>{D(null===a?{value:"",error:"Please select department"}:{value:a.id,error:""})},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Department",variant:"outlined",size:"small",helperText:P.error,error:""!==P.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,openOnFocus:!0,options:s,getOptionLabel:e=>e.name,onChange:(e,a)=>{N(null==a?{value:"",error:"Please select role"}:{value:a.id,error:""})},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Role",variant:"outlined",size:"small",helperText:A.error,error:""!==A.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,openOnFocus:!0,options:i,getOptionLabel:e=>e.name,onChange:(e,a)=>{console.log("event",e),console.log("v",a),k(null==a?{value:"",error:"Please select organization"}:{value:a.id,error:""})},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Organization",variant:"outlined",size:"small",helperText:I.error,error:""!==I.error}))})))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{d(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:m.saving,variant:"contained",color:"primary",onClick:()=>{""===_.value?j({value:"",error:"Please enter valid email"}):""===A.value?N({value:"",error:"Please Select Role"}):""===I.value?k({value:"",error:"Please select organization"}):""===z.value?L({value:"",error:"Please select user type"}):M()},disableElevation:!0},m.saving?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(be.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"Users")),r.a.createElement(v.a,{className:a.btn,color:"primary",variant:"contained",size:"medium",startIcon:r.a.createElement(ta.a,null),disableElevation:!0,onClick:()=>{d(!0)}},"New User")),r.a.createElement(y.a,{style:{marginTop:20}}),m.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of users",data:m.data,columns:q,options:H}))}));const et=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));var at=Object(_.c)((function(e){const a=et();return r.a.createElement("div",{className:a.root})}));const tt=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));var lt=Object(_.c)((function(e){const a=tt();return r.a.createElement("div",{className:a.root})})),rt=t(817);const nt=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));function ot(e){var a;const{toggleUser:t,displayData:l,selectedRows:n,openEdit:o}=e;var i="ENABLED"==l[null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.index].data[5];return r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(Je.a,{control:r.a.createElement(Xe.a,{disabled:e.toggling,checked:i,onChange:()=>{var e,a;t(null===(e=l[null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])},value:"vertical",color:"primary"}),label:i?"Deactivate License":"Activate License"}),r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(la.a,null),onClick:()=>{var e,a;return o(null===(e=l[null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])}},"Edit"))}var it=Object(_.c)((function(e){const a=nt(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),[i,s]=Object(l.useState)(!1),c=Va(),[u,d]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[m,E]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;E(e),h(e.access_token)},[]);const[g,b]=Object(l.useState)("No licenses available...."),h=e=>{const a=G.a.create((new Q).getHeaders(e));d({...u,loading:!0}),a.get((new Q).LICENSES).then((function(e){d({...u,loading:!1});const a=e.data.data.filter(e=>"SOFTWARE_LICENSE"===e.license_category);if(0==a.length)b("There are no users available.");else{var t=a;t.map(e=>e.vendor_name=e.vendor.vendor_name),d({...u,data:t}),b("Licenses loaded")}})).catch((function(e){var a,t;d({...u,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),b(l),M(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[S,O]=Object(l.useState)({value:"",error:""}),[w,j]=Object(l.useState)({value:"",error:""}),[A,R]=Object(l.useState)({value:"",error:""}),[N,I]=Object(l.useState)({value:"",error:""}),k=e=>{""===e.target.value?O({value:"",error:"Please enter valid license name"}):O({value:e.target.value,error:""})},z=e=>{""===e.target.value?j({value:"",error:"Please enter valid license code"}):j({value:e.target.value,error:""})},L=e=>{""===e.target.value?R({value:"",error:"Please enter valid description"}):R({value:e.target.value,error:""})},P=()=>{const e=G.a.create((new Q).getHeaders(m.token));d({...u,saving:!0});const a={name:S.value,code:w.value,description:A.value,vendor_id:N.value,license_category:"SOFTWARE_LICENSE"};e.post((new Q).LICENSES,a).then((function(e){d({...u,saving:!1});var a=e.data,t=u.data;const l=a.data;l.vendor_name=l.vendor.vendor_name,t.unshift(l),d({...u,data:t}),D(),M("success",e.data.message),s(!1)})).catch((function(e){var a,t;d({...u,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),M(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},D=()=>{O({value:"",error:""}),R({value:"",error:""}),j({value:"",error:""}),I({value:"",error:""})},M=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},W=[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"vendor_name",label:"Vendor",options:{filter:!1,sort:!0}},{name:"name",label:"License Name",options:{filter:!1,sort:!0}},{name:"code",label:"License Code",options:{filter:!1,sort:!1}},{name:"description",label:"Description",options:{filter:!1,sort:!1}},{name:"created_at",label:"Created At",options:{filter:!0,sort:!0}},{name:"status",label:"Status",options:{filter:!0,sort:!1,customBodyRenderLite:function(e,a){var t;return r.a.createElement(Ke.a,{avatar:r.a.createElement(de.a,null,"enabled"==u.data[e].status.toLowerCase()?r.a.createElement($e.a,{fontSize:"small"}):r.a.createElement(ea.a,{fontSize:"small"})),variant:"outlined",color:"enabled"==u.data[e].status.toLowerCase()?"primary":"default",size:"small",label:ra(null===(t=u.data[e])||void 0===t?void 0:t.status)})}}}],q={filterType:"multiselect",elevation:0,selectableRows:"single",searchPlaceholder:"Search user...",selectableRowsOnClick:!0,fixedHeader:!0,onCellClick:(e,a)=>{u.data[a.dataIndex]},searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:g}},customToolbarSelect:(e,a,t)=>r.a.createElement(ot,{selectedRows:e,displayData:a,setSelectedRows:t,toggleUser:()=>{},openEdit:()=>{},toggling:u.toggling})};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:i,maxWidth:"sm",fullWidth:!0,onClose:()=>{s(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Add New License Type"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,openOnFocus:!0,options:c,getOptionLabel:e=>e.vendor_name,onChange:(e,a)=>{null===a?I({value:"",error:"Please select vendor"}):(console.log("vendor ID:: "+a.id),I({value:a.id,error:""}))},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Vendor",variant:"outlined",size:"small",helperText:N.error,error:""!==N.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:S.value,placeholder:"Name",label:"License Name",fullWidth:!0,onChange:k,helperText:S.error,error:""!==S.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:w.value,placeholder:"Code",label:"License Code",fullWidth:!0,onChange:z,helperText:w.error,error:""!==w.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:A.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:L,helperText:A.error,error:""!==A.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{s(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:u.saving,variant:"contained",color:"primary",onClick:()=>{""===S.value?O({value:"",error:"Please provide valid name"}):""===w.value?j({value:"",error:"Please provide valid code"}):""===A.value?R({value:"",error:"Please fulfill description"}):""===N.value?R({value:"",error:"Please select vendor"}):P()},disableElevation:!0},u.saving?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(rt.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"Software License Types")),r.a.createElement(v.a,{className:a.btn,color:"primary",variant:"contained",size:"medium",startIcon:r.a.createElement(ta.a,null),disableElevation:!0,onClick:()=>{s(!0)}},"New License Type")),r.a.createElement(y.a,{style:{marginTop:20}}),u.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of Software License Types",data:u.data,columns:W,options:q}))}));const st=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));function ct(e){const{displayData:a,selectedRows:t,openEdit:l}=e;return r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(la.a,null),onClick:()=>{var e,r;return l(null===(e=a[null===t||void 0===t||null===(r=t.data[0])||void 0===r?void 0:r.index])||void 0===e?void 0:e.data[0])}},"Edit"))}var ut=Object(_.c)((function(e){const a=st(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),[i,s]=Object(l.useState)(!1),[c,u]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[d,m]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;m(e),b(e.access_token)},[]);const[E,g]=Object(l.useState)("No vendors available...."),b=e=>{const a=G.a.create((new Q).getHeaders(e));u({...c,loading:!0}),a.get((new Q).VENDOR).then((function(e){u({...c,loading:!1});const a=e.data;if(0==a.data.length)g("There are no vendors available.");else{var t=a.data;u({...c,data:t}),g("Licenses loaded")}})).catch((function(e){var a,t;u({...c,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),g(l),L(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[h,S]=Object(l.useState)({value:"",error:""}),[O,w]=Object(l.useState)({value:"",error:""}),[j,A]=Object(l.useState)({value:"",error:""}),R=e=>{""===e.target.value?S({value:"",error:"Please enter valid vendor name"}):S({value:e.target.value,error:""})},N=e=>{w({value:e.target.value,error:""})},I=e=>{A({value:e.target.value,error:""})},k=()=>{const e=G.a.create((new Q).getHeaders(d.token));u({...c,saving:!0});const a={name:h.value,website:O.value,description:j.value};e.post((new Q).VENDOR,a).then((function(e){u({...c,saving:!1});var a=e.data,t=c.data;const l=a.data;t.unshift(l),u({...c,data:t}),z(),L("success",e.data.message),s(!1)})).catch((function(e){var a,t;u({...c,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),L(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},z=()=>{S({value:"",error:""}),A({value:"",error:""}),w({value:"",error:""})},L=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},P=[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"vendor_name",label:"Vendor Name",options:{filter:!1,sort:!0}},{name:"vendor_website",label:"Website",options:{filter:!1,sort:!1}},{name:"description",label:"Description",options:{filter:!1,sort:!1}},{name:"created_at",label:"Created At",options:{filter:!0,sort:!0}},{name:"status",label:"Status",options:{filter:!0,sort:!1,customBodyRenderLite:function(e,a){var t;return r.a.createElement(Ke.a,{avatar:r.a.createElement(de.a,null,"enabled"==c.data[e].status.toLowerCase()?r.a.createElement($e.a,{fontSize:"small"}):r.a.createElement(ea.a,{fontSize:"small"})),variant:"outlined",color:"enabled"==c.data[e].status.toLowerCase()?"primary":"default",size:"small",label:ra(null===(t=c.data[e])||void 0===t?void 0:t.status)})}}}],D={filterType:"multiselect",elevation:0,selectableRows:"single",searchPlaceholder:"Search user...",selectableRowsOnClick:!0,fixedHeader:!0,onCellClick:(e,a)=>{c.data[a.dataIndex]},searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:E}},customToolbarSelect:(e,a,t)=>r.a.createElement(ct,{selectedRows:e,displayData:a,setSelectedRows:t,toggleUser:()=>{},openEdit:()=>{},toggling:c.toggling})};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:i,maxWidth:"sm",fullWidth:!0,onClose:()=>{s(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Add New Vendor"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:h.value,placeholder:"Name",label:"Vendor Name",fullWidth:!0,onChange:R,helperText:h.error,error:""!==h.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",value:O.value,placeholder:"Website",label:"Website",fullWidth:!0,onChange:N,helperText:O.error,error:""!==O.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",value:j.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:I,helperText:j.error,error:""!==j.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{s(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:c.saving,variant:"contained",color:"primary",onClick:()=>{""===h.value?S({value:"",error:"Please provide valid name"}):k()},disableElevation:!0},c.saving?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(ga.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"Vendors")),r.a.createElement(v.a,{className:a.btn,color:"primary",variant:"contained",size:"medium",startIcon:r.a.createElement(ta.a,null),disableElevation:!0,onClick:()=>{s(!0)}},"New Vendor")),r.a.createElement(y.a,{style:{marginTop:20}}),c.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of vendors",data:c.data,columns:P,options:D}))})),dt=t(818);const mt=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));function vt(e){var a;const{toggleUser:t,displayData:l,selectedRows:n,openEdit:o}=e;l[null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.index].data[5];return r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(la.a,null),onClick:()=>{var e,a;return o(null===(e=l[null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])}},"Edit"))}var pt=Object(_.c)((function(e){const a=mt(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),i=Qa(),[s,c]=Object(l.useState)(!1),[u,d]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[m,E]=Object(l.useState)(null),[g,b]=Object(l.useState)({value:"",error:""});Object(l.useEffect)(()=>{var e,a,t=(new Q).accountData;(console.log("accData",t),E(t),"SUPER_ADMIN"!==t.user)&&b({value:null===t||void 0===t||null===(e=t.user)||void 0===e||null===(a=e.department)||void 0===a?void 0:a.id,error:""});O(t.access_token)},[]);const[h,S]=Object(l.useState)("No systemTools available...."),O=e=>{const a=G.a.create((new Q).getHeaders(e));d({...u,loading:!0}),a.get((new Q).SYSTME_TOOLS).then((function(e){d({...u,loading:!1});const a=e.data;if(0==a.data.length)S("There are no system tools available.");else{var t=a.data;d({...u,data:t}),S("System Tools loaded")}})).catch((function(e){var a,t;d({...u,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),S(l),q(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[w,j]=Object(l.useState)({value:"",error:""}),[A,R]=Object(l.useState)({value:"",error:""}),[N,I]=Object(l.useState)({value:[],error:""}),k=e=>{""===e.target.value?j({value:"",error:"Please enter valid license name"}):j({value:e.target.value,error:""})},z=e=>{""===e.target.value?R({value:"",error:"Please enter valid description"}):R({value:e.target.value,error:""})},[L,P]=Object(l.useState)([]),D=e=>{P([]);G.a.create((new Q).getHeaders(m.token)).put((new Q).CHECK_FUNCTION,e).then((function(e){const a=e.data.data;P(a)})).catch((function(e){var a,t,l=e.message;e.response&&(l=e.response.data.message),q(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},M=()=>{const e=G.a.create((new Q).getHeaders(m.token));d({...u,saving:!0});const a={name:w.value,description:A.value,department:g.value};e.post((new Q).SYSTME_TOOLS,a).then((function(e){var a=e.data,t=u.data;const l=a.data;var r,n,o;t.unshift(l),d({...u,data:t}),W(),r=l.id,n=N.value,o=e.data.message,G.a.create((new Q).getHeaders(m.token)).put((new Q).ASSIGN_FUNCTION+r,n).then((function(e){e.data.data,P([]),d({...u,saving:!1}),q("success",o),c(!1)})).catch((function(e){var a,t,l=e.message;e.response&&(l=e.response.data.message),q(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))})).catch((function(e){var a,t;d({...u,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),q(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},W=()=>{j({value:"",error:""}),R({value:"",error:""})},q=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},H={filterType:"multiselect",elevation:0,selectableRows:"single",searchPlaceholder:"Search System Tool...",selectableRowsOnClick:!0,fixedHeader:!0,onCellClick:(e,a)=>{u.data[a.dataIndex]},searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:h}},customToolbarSelect:(e,a,t)=>r.a.createElement(vt,{selectedRows:e,displayData:a,setSelectedRows:t,toggleUser:()=>{},openEdit:()=>{},toggling:u.toggling})};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:s,maxWidth:"sm",fullWidth:!0,onClose:()=>{c(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Add New System/Tool"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:w.value,placeholder:"System/Tool",label:"System/tool Name",fullWidth:!0,onChange:k,helperText:w.error,error:""!==w.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,multiple:!0,openOnFocus:!0,options:i,getOptionLabel:e=>""+e.name,onChange:(e,a)=>{if(console.log(a),I([]),null===a)I({value:[],error:"Please select at least one function"});else{const e=a.map(e=>e.id);console.log("ids",e),D(e),I({value:e,error:""})}},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Functions/Roles",variant:"outlined",size:"small",helperText:N.error,error:""!==N.error}))})),r.a.createElement(y.a,null,r.a.createElement(f.a,{style:{fontSize:"12px"}},L.map(e=>`${e.system_tool_name}(${e.total})`))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:A.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:z,helperText:A.error,error:""!==A.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{c(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:u.saving,variant:"contained",color:"primary",onClick:()=>{""===w.value?j({value:"",error:"Please provide valid System/Tool name"}):"'"===A.value?R({value:"",error:"Please fulfill description"}):M()},disableElevation:!0},u.saving?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(dt.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null," Systems / Tools")),r.a.createElement(v.a,{className:a.btn,color:"primary",variant:"contained",size:"medium",startIcon:r.a.createElement(ta.a,null),disableElevation:!0,onClick:()=>{c(!0)}},"New System/Tool")),r.a.createElement(y.a,{style:{marginTop:20}}),u.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of Systems/Tools",data:u.data,columns:[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"system_tool_name",label:"System / Tool",options:{filter:!1,sort:!0}},{name:"description",label:"Description",options:{filter:!1,sort:!1}},{name:"created_at",label:"Created At",options:{filter:!0,sort:!0}}],options:H}))}));const Et=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));function gt(e){var a;const{toggleUser:t,displayData:l,selectedRows:n,openEdit:o}=e;l[null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.index].data[5];return r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(la.a,null),onClick:()=>{var e,a;return o(null===(e=l[null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])}},"Edit"))}var bt=Object(_.c)((function(e){const a=Et(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),[i,s]=Object(l.useState)(!1),[c,u]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[d,m]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;m(e),b(e.access_token)},[]);const[E,g]=Object(l.useState)("No departments available...."),b=e=>{const a=G.a.create((new Q).getHeaders(e));u({...c,loading:!0}),a.get((new Q).DEPARTMENT).then((function(e){u({...c,loading:!1});const a=e.data;if(0==a.data.length)g("There are no departments available.");else{const e=a.data;u({...c,data:e}),g("Departments loaded")}})).catch((function(e){var a,t;u({...c,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),g(l),I(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[h,S]=Object(l.useState)({value:"",error:""}),[O,w]=Object(l.useState)({value:"",error:""}),j=e=>{""===e.target.value?S({value:"",error:"Please enter valid license name"}):S({value:e.target.value,error:""})},A=e=>{""===e.target.value?w({value:"",error:"Please enter valid description"}):w({value:e.target.value,error:""})},R=()=>{const e=G.a.create((new Q).getHeaders(d.token));u({...c,saving:!0});const a={name:h.value,description:O.value};e.post((new Q).DEPARTMENT,a).then((function(e){var a=e.data,t=c.data;const l=a.data;t.unshift(l),u({...c,data:t}),N(),s(!1),I("success",e.data.message)})).catch((function(e){var a,t;u({...c,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),I(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},N=()=>{S({value:"",error:""}),w({value:"",error:""})},I=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},k={filterType:"multiselect",elevation:0,selectableRows:"single",searchPlaceholder:"Search System Tool...",selectableRowsOnClick:!0,fixedHeader:!0,onCellClick:(e,a)=>{c.data[a.dataIndex]},searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:E}},customToolbarSelect:(e,a,t)=>r.a.createElement(gt,{selectedRows:e,displayData:a,setSelectedRows:t,toggleUser:()=>{},openEdit:()=>{},toggling:c.toggling})};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:i,maxWidth:"sm",fullWidth:!0,onClose:()=>{s(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Add New Department"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:h.value,placeholder:"Department Name",label:"Department Name",fullWidth:!0,onChange:j,helperText:h.error,error:""!==h.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",value:O.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:A,helperText:O.error,error:""!==O.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{s(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:c.saving,variant:"contained",color:"primary",onClick:()=>{""===h.value?S({value:"",error:"Please provide valid System/Tool name"}):""===O.value?w({value:"",error:"Please fulfill description"}):R()},disableElevation:!0},c.saving?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(ge.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null," Departments")),r.a.createElement(v.a,{className:a.btn,color:"primary",variant:"contained",size:"medium",startIcon:r.a.createElement(ta.a,null),disableElevation:!0,onClick:()=>{s(!0)}},"New Department")),r.a.createElement(y.a,{style:{marginTop:20}}),c.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of Departments",data:c.data,columns:[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"name",label:"Department",options:{filter:!1,sort:!0}},{name:"description",label:"Description",options:{filter:!1,sort:!1}},{name:"created_at",label:"Created At",options:{filter:!0,sort:!0}}],options:k}))}));const yt=[{path:"/bnr",exact:!0,permission:"CAN_VIEW_HOME",main:()=>r.a.createElement(Qe,null)},{path:"/bnr/home",exact:!0,permission:"CAN_VIEW_HOME",main:()=>r.a.createElement(Qe,null)},{path:"/bnr/license",exact:!0,permission:"CAN_VIEW_LICENSE",main:()=>r.a.createElement(ia,null)},{path:"/bnr/softwareLicense",exact:!0,permission:"CAN_VIEW_SOFTWARE_LICENSE",main:()=>r.a.createElement(it,null)},{path:"/bnr/organization",exact:!0,permission:"CAN_VIEW_ORGANIZATION",main:()=>r.a.createElement(wa,null)},{path:"/bnr/rolePermission",exact:!0,permission:"CAN_VIEW_ROLE_PERMISSION",main:()=>r.a.createElement(Pa,null)},{path:"/bnr/user",exact:!0,permission:"CAN_VIEW_ROLE_USER",main:()=>r.a.createElement($a,null)},{path:"/bnr/licenseTracking",exact:!0,main:()=>r.a.createElement(at,null)},{path:"/bnr/licenseOrganization",exact:!0,main:()=>r.a.createElement(lt,null)},{path:"/bnr/settings",permission:"CAN_VIEW_SETTINGS",exact:!0,main:()=>r.a.createElement(Ha,null)},{path:"/bnr/systemTool",permission:"CAN_VIEW_SYSTEM_TOOL",exact:!0,main:()=>r.a.createElement(pt,null)},{path:"/bnr/departments",permission:"CAN_VIEW_DEPARTMENT",exact:!0,main:()=>r.a.createElement(bt,null)},{main:()=>r.a.createElement(r.a.Fragment,null)}],ft=[{name:"Home",icon:r.a.createElement(pe.a,{color:"primary"}),path:"/bnr/home",permission:"CAN_VIEW_HOME"},{name:"Roles & Permissions",icon:r.a.createElement(Ee.a,{color:"primary"}),path:"/bnr/rolePermission",permission:"CAN_VIEW_ROLE_PERMISSION"},{name:"Departments",icon:r.a.createElement(ge.a,{color:"primary"}),path:"/bnr/departments",permission:"CAN_VIEW_DEPARTMENT"},{name:"Users",icon:r.a.createElement(be.a,{color:"primary"}),path:"/bnr/user",permission:"CAN_VIEW_ROLE_USER"}],ht=[{name:"Settings",icon:r.a.createElement(ye.a,{color:"primary"}),path:"/bnr/settings",permission:"CAN_VIEW_SETTINGS"},{name:"Logout",icon:r.a.createElement(fe.a,{color:"primary"}),path:"/bnr/logout"}],St=Object(we.a)(e=>({root:{width:"100%"},content:{flexGrow:1,padding:e.spacing(2)},title:{flexGrow:1},drawer:{[e.breakpoints.up("sm")]:{width:250,flexShrink:0}},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(2),[e.breakpoints.up("sm")]:{display:"none"}},toolbar:e.mixins.toolbar,drawerPaper:{width:250,border:0},btn:{textTransform:"capitalize"},paper:{padding:15},icon:{height:45,marginRight:10,display:"block",[e.breakpoints.down("sm")]:{display:"none"}},icon2:{height:35},nested:{paddingLeft:e.spacing(4)}}));var Ot=Object(_.c)((function(e){var a,t,n,o;const{window:i}=e,s=St(),c=Object(Te.a)(),u=Object(B.f)(),{themer:d}=e,[m,h]=Object(l.useState)(!1),[S,O]=Object(l.useState)(null),C=Boolean(S),[x,w]=Object(l.useState)(!1),[T,_]=Object(l.useState)("none"),[j,N]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;N(e)},[]);const I=()=>{O(null)},k=()=>{h(!m)},z=r.a.createElement("div",null,r.a.createElement("div",{className:s.toolbar}),r.a.createElement(Z.a,null),r.a.createElement($.a,null,ft.map((e,a)=>r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{button:!0,key:e.name,onClick:()=>{e.submenu?_(T==a?"none":a):(u.push(e.path),h(!1))},selected:e.path==u.location.pathname&&!e.submenu},r.a.createElement(ae.a,null,e.icon),r.a.createElement(te.a,{primary:e.name}),e.submenu?T==a?r.a.createElement(he.a,null):r.a.createElement(Se.a,null):r.a.createElement("div",null)),e.submenu&&r.a.createElement(le.a,{in:T==a,timeout:"auto",unmountOnExit:!0},r.a.createElement($.a,{component:"div",disablePadding:!0},e.submenu.map((e,a)=>r.a.createElement(ee.a,{button:!0,className:s.nested,onClick:()=>{u.push(e.path),h(!1)},selected:e.path==u.location.pathname},r.a.createElement(ae.a,null,r.a.createElement(Oe.a,null)),r.a.createElement(te.a,{primary:e.name})))))))),r.a.createElement(Z.a,null),r.a.createElement($.a,null,ht.map((e,a)=>r.a.createElement(ee.a,{button:!0,key:e.name,onClick:()=>{"/bnr/logout"===e.path?w(!0):u.push(e.path),h(!1)}},r.a.createElement(ae.a,null,e.icon),r.a.createElement(te.a,{primary:e.name}))))),L=void 0!==i?()=>i().document.body:void 0,P=Object(re.a)(c.breakpoints.up("sm"));return r.a.createElement("div",{className:s.root},r.a.createElement(E.a,null),r.a.createElement(ne.a,{open:x,onClose:()=>w(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(oe.a,{id:"alert-dialog-title"},"Logout"),r.a.createElement(ie.a,null,r.a.createElement(se.a,{id:"alert-dialog-description"},"Are you sure you want to logout of your account?")),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>w(!1),color:"primary"},"Cancel"),r.a.createElement(v.a,{onClick:()=>{localStorage.removeItem("LMIS"),u.replace("/")},color:"primary",autoFocus:!0},"Logout"))),r.a.createElement(g.a,{position:"fixed",color:0==d?"primary":"default",elevation:0,className:s.appBar},r.a.createElement(b.a,null,r.a.createElement(p.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:k,className:s.menuButton},r.a.createElement(Ce.a,null)),r.a.createElement("img",{src:F.a,alt:"icon",className:s.icon}),r.a.createElement(y.a,{className:s.title},r.a.createElement(f.a,{variant:"h5",noWrap:!0},"Licence MIS")),r.a.createElement(y.a,{mr:P&&2},r.a.createElement(p.a,{color:"inherit",onClick:()=>{}},r.a.createElement(ue.a,{badgeContent:0,showZero:!1,variant:"standard",color:"secondary"},r.a.createElement(xe.a,null)))),r.a.createElement("div",null,r.a.createElement(v.a,{onClick:e=>{O(e.currentTarget)},color:"inherit",variant:P&&"outlined",size:"small",className:s.btn,startIcon:P&&r.a.createElement("img",{src:F.a,className:s.icon2,alt:"Safaribus"})},r.a.createElement(de.a,null,`${null===j||void 0===j||null===(a=j.user)||void 0===a||null===(t=a.first_name)||void 0===t?void 0:t.substr(0,1)}${null===j||void 0===j||null===(n=j.user)||void 0===n||null===(o=n.last_name)||void 0===o?void 0:o.substr(0,1)}`)),r.a.createElement(A.a,{id:"menu-appbar",anchorEl:S,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"bottom",horizontal:"right"},open:C,onClose:I},r.a.createElement(R.a,{onClick:()=>{I(),u.push("/brn/users/system")}},"System users"),r.a.createElement(R.a,{onClick:()=>{I(),u.push("/bnr/settings")}},"Settings"),r.a.createElement(R.a,{onClick:()=>{I(),w(!0)}},"Logout"))))),r.a.createElement("nav",{className:s.drawer,"aria-label":""},r.a.createElement(me.a,{smUp:!0,implementation:"css"},r.a.createElement(ve.a,{container:L,variant:"temporary",anchor:"rtl"===c.direction?"right":"left",open:m,onClose:k,classes:{paper:s.drawerPaper},elevation:0,ModalProps:{keepMounted:!0}},z)),r.a.createElement(me.a,{xsDown:!0,implementation:"css"},r.a.createElement(ve.a,{classes:{paper:s.drawerPaper},variant:"permanent",open:!0},z))),r.a.createElement("main",{className:s.content},r.a.createElement("div",{className:s.toolbar}),r.a.createElement(B.c,null,yt.map((e,a)=>r.a.createElement(B.a,{key:a,exact:e.exact,path:e.path,component:e.main})))))})),Ct=t(844),xt=t(836),wt=t(199),Tt=t.n(wt),_t=t(249),jt=t.n(_t),At=t(200),Rt=t.n(At),Nt=t(201),It=t.n(Nt);const kt=Object(w.a)(e=>({root:{flexShrink:0,flexFlow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},paper:{padding:e.spacing(2),height:200,elevation:0},paper3:{padding:e.spacing(2),height:"100px",elevation:0},paper1:{padding:e.spacing(2),height:380,elevation:0},paper2:{padding:e.spacing(2),elevation:0},title:{[e.breakpoints.down("sm")]:{fontSize:"12px"}},formTitle:{flexGrow:1}}));var zt=Object(_.c)((function(){var e,a,t,n,o,i,s,c;const u=kt(),{enqueueSnackbar:d,closeSnackbar:m}=Object(U.b)(),v=function(){const[e,a]=Object(l.useState)([]);Object(l.useEffect)(()=>{var a=(new Q).accountData;0==e.length&&t(a.token)},[e]);const t=e=>{G.a.create((new Q).getHeaders(e)).get((new Q).LICENSE_REQUEST_TYPE_STATS).then((function(e){const t=e.data;a(t.data)})).catch((function(e){}))};return e}(),[p,E]=Ae(),[g,b]=Re();return Object(l.useEffect)(()=>{},[]),r.a.createElement("div",{className:u.root},r.a.createElement(y.a,{style:{display:"flex"}},r.a.createElement(y.a,{style:{display:"flex"},className:u.formTitle},r.a.createElement(Ne.a,{color:"primary",fontSize:"medium"}),r.a.createElement(f.a,{variant:"h6"},"Dashboard")),r.a.createElement(Ie.a,{fontSize:"large",color:"primary"}),r.a.createElement(f.a,{variant:"h6"},Object(Le.a)(new Date,["yyyy-MM-dd"]))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(S.a,{container:!0,spacing:1},r.a.createElement(S.a,{item:!0,xs:12,md:3},r.a.createElement(O.a,{className:u.paper3,elevation:0},r.a.createElement(S.a,{container:!0},r.a.createElement(S.a,{item:!0,xs:8,md:8},r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{variant:"h8"},r.a.createElement("b",null,"Pending"))),r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(f.a,{variant:"h6"},void 0===(null===(e=v.find(e=>"PENDING"===e.request_status))||void 0===e?void 0:e.total)?0:null===(a=v.find(e=>"PENDING"===e.request_status))||void 0===a?void 0:a.total))),r.a.createElement(S.a,{item:!0,xs:4,md:4},r.a.createElement(y.a,{style:{padding:5}},r.a.createElement("img",{src:jt.a,width:"50px",height:"50px"})))))),r.a.createElement(S.a,{item:!0,xs:12,md:3},r.a.createElement(O.a,{className:u.paper3,elevation:0},r.a.createElement(S.a,{container:!0},r.a.createElement(S.a,{item:!0,xs:8,md:8},r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{variant:"h8"},r.a.createElement("b",null,"Reviewed"))),r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(f.a,{variant:"h6"},void 0===(null===(t=v.find(e=>"REVIEWED"===e.request_status))||void 0===t?void 0:t.total)?0:null===(n=v.find(e=>"REVIEWED"===e.request_status))||void 0===n?void 0:n.total))),r.a.createElement(S.a,{item:!0,xs:4,md:4},r.a.createElement(y.a,{style:{padding:5}},r.a.createElement("img",{src:Tt.a,width:"50px",height:"50px"})))))),r.a.createElement(S.a,{item:!0,xs:12,md:3,lg:3,sm:3},r.a.createElement(O.a,{className:u.paper3,elevation:0},r.a.createElement(S.a,{container:!0},r.a.createElement(S.a,{item:!0,xs:8,md:8},r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{variant:"h8"},r.a.createElement("b",null,"Approved"))),r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(f.a,{variant:"h6"},void 0===(null===(o=v.find(e=>"APPROVED"===e.request_status))||void 0===o?void 0:o.total)?0:null===(i=v.find(e=>"APPROVED"===e.request_status))||void 0===i?void 0:i.total))),r.a.createElement(S.a,{item:!0,xs:4,md:4},r.a.createElement(y.a,{style:{padding:5}},r.a.createElement("img",{src:It.a,width:"50px",height:"50px"})))))),r.a.createElement(S.a,{item:!0,xs:12,md:3,lg:3,sm:3},r.a.createElement(O.a,{className:u.paper3,elevation:0},r.a.createElement(S.a,{container:!0},r.a.createElement(S.a,{item:!0,xs:8,md:8},r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{variant:"h8"},r.a.createElement("b",null,"Rejected"))),r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(f.a,{variant:"h6"},void 0===(null===(s=v.find(e=>"REJECTED"===e.request_status))||void 0===s?void 0:s.total)?0:null===(c=v.find(e=>"REJECTED"===e.request_status))||void 0===c?void 0:c.total))),r.a.createElement(S.a,{item:!0,xs:4,md:4},r.a.createElement(y.a,{style:{padding:5}},r.a.createElement("img",{src:Rt.a,width:"50px",height:"50px"})))))),r.a.createElement(S.a,{item:!0,xs:12,md:4,lg:4,sm:4},r.a.createElement(O.a,{style:{minHeight:380},elevation:0},r.a.createElement(f.a,{style:{marginLeft:20}},r.a.createElement("b",null,"Licenses Status")),r.a.createElement(je.a,{type:"pie",options:He(p).options,series:He(p).series,width:380}))),r.a.createElement(S.a,{item:!0,xs:12,md:8,lg:8,sm:8},r.a.createElement(O.a,{style:{minHeight:380},elevation:0},r.a.createElement(f.a,{style:{marginLeft:20}},r.a.createElement("b",null,"Licenses Allocated")),r.a.createElement(je.a,{options:Fe(g).options,series:Fe(g).series,type:"area",height:350}))))))})),Lt=t(829),Pt=t(830),Dt=t(831);const Mt=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));function Wt(e){var a,t;const{toggleUser:l,displayData:n,selectedRows:o,openReview:i}=e;var s="ENABLED"==n[null===o||void 0===o||null===(a=o.data[0])||void 0===a?void 0:a.index].data[5];return console.log("check",s),console.log(n[null===o||void 0===o||null===(t=o.data[0])||void 0===t?void 0:t.index].data[6]),r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(Dt.a,null),onClick:()=>{var e,a;return i(null===(e=n[null===o||void 0===o||null===(a=o.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])}},"Review Request"))}var qt=Object(_.c)((function(e){const a=Mt(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),[i,s]=(Fa(),Object(l.useState)(!1)),[c,u]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[d,m]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;m(e),b(e.access_token)},[]);const[E,g]=Object(l.useState)("No licenses requests available...."),b=e=>{const a=G.a.create((new Q).getHeaders(e));u({...c,loading:!0}),a.get((new Q).LICENSE_REQUEST).then((function(e){u({...c,loading:!1});const a=e.data;if(0==a.data.length)g("There are no license requests available.");else{var t=a.data;t.map(e=>{e.license_name=e.license_id.name,e.organization_name=e.organization_id.name}),t=t.filter(e=>"INSTITUTION_LICENSE"===e.license_id.license_category),u({...c,data:t}),g("Licenses loaded")}})).catch((function(e){var a,t;u({...c,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),g(l),I(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[h,S]=Object(l.useState)({value:"",error:""}),[O,C]=Object(l.useState)({value:"",error:""}),[w,_]=Object(l.useState)({value:"",error:""}),[j,A]=Object(l.useState)({value:"",error:""}),[R,N]=Object(l.useState)({value:"",error:""}),I=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},k=[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"organization_name",label:"Organization Name",options:{filter:!1,sort:!0}},{name:"request_type",label:"Request Type",options:{filter:!1,sort:!0}},{name:"license_name",label:"License",options:{filter:!1,sort:!1}},{name:"description",label:"Description",options:{filter:!1,sort:!1}},{name:"license_period",label:"Period Type",options:{filter:!0,sort:!0}},{name:"license_period_count",label:"Period Count",options:{filter:!0,sort:!0}},{name:"created_at",label:"Requested At",options:{filter:!0,sort:!0}},{name:"request_status",label:"Status",options:{filter:!0,sort:!1,customBodyRenderLite:function(e,a){var t;return r.a.createElement(Ke.a,{avatar:r.a.createElement(de.a,null,"approved"==c.data[e].request_status.toLowerCase()?r.a.createElement($e.a,{fontSize:"small"}):r.a.createElement(ea.a,{fontSize:"small"})),variant:"outlined",color:"approved"==c.data[e].request_status.toLowerCase()?"primary":"default",size:"small",label:ra(null===(t=c.data[e])||void 0===t?void 0:t.request_status)})}}}],z={filterType:"multiselect",elevation:0,selectableRows:"single",searchPlaceholder:"Search License Request...",selectableRowsOnClick:!0,fixedHeader:!0,searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:E}},customToolbarSelect:(e,a,t)=>r.a.createElement(Wt,{selectedRows:e,displayData:a,setSelectedRows:t,toggleUser:()=>{},openReview:D,toggling:c.toggling})},[L,P]=Object(l.useState)(null),D=e=>{const a=c.data.filter(a=>a.id==e)[0];P(a),console.log("request",a),"PENDING"===a.request_status&&M(e),s(!0)},M=e=>{const a=G.a.create((new Q).getHeaders(d.token));u({...c,saving:!0});const t={user_id:d.user.id};a.put((new Q).REVIEW_LICENSE_REQUEST+e,t).then((function(a){u({...c,saving:!1});var t=c.data.findIndex(a=>a.id==e),l=c.data;l[t].request_status="REVIEWED",u({...c,data:l})})).catch((function(e){var a,t;u({...c,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),I(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},W=e=>{const a=G.a.create((new Q).getHeaders(d.token));u({...c,saving:!0});const t={user_id:d.user.id,decision:e};a.put((new Q).DECISION_LICENSE_REQUEST+L.id,t).then((function(a){u({...c,saving:!1});var t=c.data.findIndex(e=>e.id==L.id),l=c.data;l[t].request_status=e,u({...c,data:l}),u({...c,data:l}),I("success",a.data.message),s(!1)})).catch((function(e){var a,t;u({...c,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),I(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:i,maxWidth:"sm",fullWidth:!0,onClose:()=>{s(!1)}},r.a.createElement(ie.a,null,"APPROVED"!=(null===L||void 0===L?void 0:L.request_status)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(Lt.a,{style:{fontSize:"60"}})),r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},"Please decide whether license request is approved or reject")),"APPROVED"==(null===L||void 0===L?void 0:L.request_status)&&r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},"Decision already taken!")),r.a.createElement(ce.a,null,"APPROVED"!=(null===L||void 0===L?void 0:L.request_status)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{onClick:()=>{W("REJECTED")},variant:"outlined",color:"primary"},"Reject"),r.a.createElement(v.a,{disabled:c.saving,variant:"contained",color:"primary",onClick:()=>{W("APPROVED")},disableElevation:!0},c.saving?r.a.createElement(x.a,{size:23}):"Approve")))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(Pt.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"License Requests"))),r.a.createElement(y.a,{style:{marginTop:20}}),c.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of Requested Licenses",data:c.data,columns:k,options:z}))}));const Ut=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));var Gt=Object(_.c)((function(e){var a,t,n,o,i,s;const c=Ut(),[u,d]=Object(l.useState)({open:!1,loading:!1,saving:!1}),[m,E]=Object(l.useState)({open:!1,loading:!1,saving:!1}),g=Object(B.f)(),{enqueueSnackbar:b,closeSnackbar:h}=Object(U.b)(),[w,j]=Object(l.useState)({value:"",error:""}),[A,R]=Object(l.useState)({value:"",error:""}),[N,I]=Object(l.useState)({value:"",error:""}),[k,z]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;z(e)},[]);const L=e=>{""==e.target.value?j({value:"",error:"Invalid password"}):j({value:e.target.value,error:""})},P=e=>{""==e.target.value?R({value:"",error:"Invalid password"}):R({value:e.target.value,error:""})},D=e=>{""==e.target.value?I({value:"",error:"Invalid password"}):I({value:e.target.value,error:""})},M=(e,a,t)=>{401==t&&g.push("/",{expired:!0}),b(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{h(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})};return r.a.createElement("div",{className:c.root},r.a.createElement(ne.a,{open:u.open,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"sm",fullWidth:!0,onClose:()=>d({...u,open:!1})},r.a.createElement(oe.a,{id:"alert-dialog-title"},"Change your password"),r.a.createElement(ie.a,null,r.a.createElement(se.a,{id:"alert-dialog-description"},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",type:"password",value:w.value,placeholder:"Old Password",label:"Old Password",fullWidth:!0,onChange:L,helperText:w.error,error:""!==w.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",type:"password",value:A.value,placeholder:"New Password",label:"New Password",fullWidth:!0,onChange:P,helperText:A.error,error:""!==A.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",type:"password",value:N.value,placeholder:"Confirm Password",label:"Confirm Password",fullWidth:!0,onChange:D,helperText:N.error,error:""!==N.error})})))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{d({...u,open:!1})},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:u.saving,variant:"contained",color:"primary",onClick:()=>(()=>{if(""===A.value)j({value:"",error:"Invalid password"});else if(""===w.value)R({value:"",error:"Invalid password"});else if(A.value!==N.value)I({value:"",error:"Passwords don't match"});else{const e=G.a.create((new Q).getHeaders(k.token));d({...u,saving:!0});const a={username:k.user.username,old_password:w.value,new_password:A.value};e.put((new Q).USERS+"/changePassword",a).then((function(e){d({...u,saving:!1}),d({...u,open:!1}),M("success",e.data.message),I({value:"",error:""}),j({value:"",error:""}),R({value:"",error:""})})).catch((function(e){var a,t;d({...u,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),M(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))}})(),disableElevation:!0},u.saving?r.a.createElement(x.a,{size:23}):"Change"))),r.a.createElement(ne.a,{open:m.open,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"sm",fullWidth:!0,onClose:()=>E({...m,open:!1})},r.a.createElement(oe.a,{id:"alert-dialog-title"},"Choose preffered language"),r.a.createElement(ie.a,null,r.a.createElement(Ga,{close:e=>{}})),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{E({...m,open:!1})},color:"primary"},"Cancel"))),r.a.createElement(y.a,{style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(ye.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:c.title},r.a.createElement("b",null,"Settings"))),r.a.createElement(S.a,{container:!0,spacing:1,justify:"center"},r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(y.a,{m:2},r.a.createElement(f.a,null,"You can change system settings here"))),r.a.createElement(S.a,{item:!0,xs:12,md:6},r.a.createElement(y.a,{style:{margin:10,display:"flex",width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement(de.a,{style:{height:120,width:120}}),r.a.createElement(y.a,{mt:2},r.a.createElement(f.a,{gutterBottom:!0,variant:"h5",align:"center"},`${null===k||void 0===k||null===(a=k.user)||void 0===a?void 0:a.first_name} ${null===k||void 0===k||null===(t=k.user)||void 0===t?void 0:t.last_name}`),r.a.createElement(f.a,{color:"textSecondary",align:"center"},`${null===k||void 0===k||null===(n=k.user)||void 0===n||null===(o=n.organization_id)||void 0===o?void 0:o.name} :: ${null===k||void 0===k||null===(i=k.user)||void 0===i||null===(s=i.role_id)||void 0===s?void 0:s.name}`)))),r.a.createElement(S.a,{item:!0,xs:12,md:7},r.a.createElement(da.a,{onClick:()=>{d({...u,open:!0})}},r.a.createElement(O.a,{className:c.paper,elevation:0},r.a.createElement(y.a,{style:{display:"flex",alignItems:"center"},width:1},r.a.createElement(y.a,{mr:2},r.a.createElement(Da.a,{fontSize:"large"})),r.a.createElement(y.a,{flexGrow:1},r.a.createElement(f.a,null,"Change your password")),r.a.createElement(Ma.a,null))))),r.a.createElement(S.a,{item:!0,xs:12,md:7},r.a.createElement(da.a,{onClick:()=>{E({...m,open:!0})}},r.a.createElement(O.a,{className:c.paper,elevation:0},r.a.createElement(y.a,{style:{display:"flex",alignItems:"center"}},r.a.createElement(y.a,{mr:2},r.a.createElement(Wa.a,{fontSize:"large"})),r.a.createElement(y.a,{flexGrow:1},r.a.createElement(f.a,null,"System language")),r.a.createElement(Ma.a,null)))))))})),Bt=t(832),Ht=t(833),Ft=t(834),Vt=t(835);const Yt=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));function Qt(e){var a,t;const{setCurrentRequest:l,displayData:n,selectedRows:o,openReview:i}=e;var s="ENABLED"==n[null===o||void 0===o||null===(a=o.data[0])||void 0===a?void 0:a.index].data[5];return console.log("check",s),console.log(n[null===o||void 0===o||null===(t=o.data[0])||void 0===t?void 0:t.index].data[6]),r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(Dt.a,null),onClick:()=>{var e,a,t,l,r,s;i(null===(e=n[null===o||void 0===o||null===(a=o.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0]),console.log(null===(t=n[null===o||void 0===o||null===(l=o.data[0])||void 0===l?void 0:l.index])||void 0===t?void 0:t.data[0]),console.log(null===(r=n[null===o||void 0===o||null===(s=o.data[0])||void 0===s?void 0:s.index])||void 0===r?void 0:r.data)}},"Review Request"))}var Kt=Object(_.c)((function(e){const a=Yt(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),[i,s]=(Fa(),Object(l.useState)(!1)),[c,u]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[d,m]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;m(e),b(e.access_token)},[]);const[E,g]=Object(l.useState)("No licenses requests available...."),b=e=>{const a=G.a.create((new Q).getHeaders(e));u({...c,loading:!0}),a.get((new Q).LICENSE_REQUEST).then((function(e){u({...c,loading:!1});const a=e.data;if(0==a.data.length)g("There are no license requests available.");else{var t=a.data;t.map(e=>{var a,t;e.license_name=e.license_id.name,e.organization_name=e.organization_id.name,e.vendor_name=null===(a=e.license_id)||void 0===a||null===(t=a.vendor)||void 0===t?void 0:t.vendor_name}),t=t.filter(e=>"SOFTWARE_LICENSE"===e.license_id.license_category),u({...c,data:t}),g("Licenses loaded")}})).catch((function(e){var a,t;u({...c,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),g(l),I(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[h,S]=Object(l.useState)({value:"",error:""}),[O,C]=Object(l.useState)({value:"",error:""}),[w,_]=Object(l.useState)({value:"",error:""}),[j,A]=Object(l.useState)({value:"",error:""}),[R,N]=Object(l.useState)({value:"",error:""}),I=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},[k,z]=Object(l.useState)(null),L=[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"vendor_name",label:"Vendor Name",options:{filter:!1,sort:!0}},{name:"request_type",label:"Request Type",options:{filter:!1,sort:!0}},{name:"license_name",label:"License",options:{filter:!1,sort:!1}},{name:"description",label:"Description",options:{filter:!1,sort:!1}},{name:"license_period",label:"Period Type",options:{filter:!0,sort:!0}},{name:"license_period_count",label:"Period Count",options:{filter:!0,sort:!0}},{name:"created_at",label:"Requested At",options:{filter:!0,sort:!0}},{name:"request_status",label:"Status",options:{filter:!0,sort:!1,customBodyRenderLite:function(e,a){var t;return r.a.createElement(Ke.a,{avatar:r.a.createElement(de.a,null,"approved"==c.data[e].request_status.toLowerCase()?r.a.createElement($e.a,{fontSize:"small"}):r.a.createElement(Bt.a,{fontSize:"small"})),variant:"outlined",color:"approved"==c.data[e].request_status.toLowerCase()?"primary":"default",size:"small",label:ra(null===(t=c.data[e])||void 0===t?void 0:t.request_status)})}}}],P={filterType:"multiselect",elevation:0,selectableRows:"single",searchPlaceholder:"Search License Request...",selectableRowsOnClick:!0,fixedHeader:!0,searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:E}},customToolbarSelect:(e,a,t)=>r.a.createElement(Qt,{selectedRows:e,displayData:a,setSelectedRows:t,setCurrentRequest:D,openReview:q,toggling:c.toggling})},D=e=>{const a=c.filter(a=>a.id===e);z(a)},[M,W]=Object(l.useState)(null),q=e=>{const a=c.data.filter(a=>a.id===e)[0];W(a),console.log("request",a),"PENDING"===a.request_status&&H(e),s(!0)},H=e=>{const a=G.a.create((new Q).getHeaders(d.token));u({...c,saving:!0});const t={user_id:d.user.id};a.put((new Q).REVIEW_LICENSE_REQUEST+e,t).then((function(a){u({...c,saving:!1});var t=c.data.findIndex(a=>a.id==e),l=c.data;l[t].request_status="REVIEWED",u({...c,data:l})})).catch((function(e){var a,t;u({...c,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),I(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},F=e=>{const a=G.a.create((new Q).getHeaders(d.token));u({...c,saving:!0});const t={user_id:d.user.id,decision:e};a.put((new Q).DECISION_LICENSE_REQUEST+M.id,t).then((function(a){u({...c,saving:!1});var t=c.data.findIndex(e=>e.id==M.id),l=c.data;l[t].request_status=e,u({...c,data:l}),u({...c,data:l}),I("success",a.data.message),s(!1)})).catch((function(e){var a,t;u({...c,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),I(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:i,maxWidth:"sm",fullWidth:!0,onClose:()=>{s(!1)}},r.a.createElement(ie.a,null,"APPROVED"!=(null===M||void 0===M?void 0:M.request_status)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(Lt.a,{style:{fontSize:"60"}})),r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},"Please review and decide whether license request is approved or reject"),r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center",justifyItems:"center"}},r.a.createElement($.a,{dense:!0},r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(ga.a,null)),r.a.createElement(te.a,{primary:"Vendor",secondary:null===M||void 0===M?void 0:M.vendor_name})),r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(Pt.a,null)),r.a.createElement(te.a,{primary:"License",secondary:null===M||void 0===M?void 0:M.license_name})),r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(Ht.a,null)),r.a.createElement(te.a,{primary:"Duration",secondary:`${null===M||void 0===M?void 0:M.license_period_count} ${null===M||void 0===M?void 0:M.license_period}`})),r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(Ft.a,null)),r.a.createElement(te.a,{primary:"Request Type",secondary:null===M||void 0===M?void 0:M.request_type})),r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(Vt.a,null)),r.a.createElement(te.a,{primary:"Description",secondary:null===M||void 0===M?void 0:M.description}))))),"APPROVED"==(null===M||void 0===M?void 0:M.request_status)&&r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},"Decision already taken!")),r.a.createElement(ce.a,null,"APPROVED"!=(null===M||void 0===M?void 0:M.request_status)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{onClick:()=>{F("REJECTED")},variant:"outlined",color:"primary"},"Reject"),r.a.createElement(v.a,{disabled:c.saving,variant:"contained",color:"primary",onClick:()=>{F("APPROVED")},disableElevation:!0},c.saving?r.a.createElement(x.a,{size:23}):"Approve")))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(xt.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"Software Licenses"))),r.a.createElement(y.a,{style:{marginTop:20}}),c.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of Requested Licenses",data:c.data,columns:L,options:P}))})),Jt=t(837),Xt=t(838);const Zt=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));function $t(e){var a,t;const{toggleUser:l,displayData:n,selectedRows:o,openReview:i}=e;var s="ENABLED"==n[null===o||void 0===o||null===(a=o.data[0])||void 0===a?void 0:a.index].data[5];return console.log("check",s),console.log(n[null===o||void 0===o||null===(t=o.data[0])||void 0===t?void 0:t.index].data[6]),r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(Xt.a,null),onClick:()=>{var e,a;return i(null===(e=n[null===o||void 0===o||null===(a=o.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])}},"Renewal License"))}var el=Object(_.c)((function(e){const a=Zt(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),[i,s]=(Fa(),Object(l.useState)(!1)),[c,u]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[d,m]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;m(e),b(e.access_token)},[]);const[E,g]=Object(l.useState)("No licenses requests available...."),b=e=>{const a=G.a.create((new Q).getHeaders(e));u({...c,loading:!0}),a.get((new Q).EXPIRE_LICENSE_REPORT+(new Date).getFullYear()).then((function(e){u({...c,loading:!1});const a=e.data;if(0==a.data.length)g("There are no license requests available.");else{var t=a.data;t.map(e=>{e.organization_licenses_expires_at=Object(Le.a)(new Date(e.organization_licenses_expires_at),"yyyy/MM/dd")}),u({...c,data:t}),g("Expire License Report Loaded")}})).catch((function(e){var a,t;u({...c,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),g(l),D(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[h,S]=Object(l.useState)({value:"",error:""}),[O,w]=Object(l.useState)({value:"",error:""}),[j,A]=Object(l.useState)({value:"",error:""}),[N,I]=Object(l.useState)({value:"",error:""}),[k,z]=Object(l.useState)({value:"",error:""}),L=e=>{""===e.target.value?z({value:"",error:"Please enter valid description"}):z({value:e.target.value,error:""})},P=e=>{""===e.target.value?A({value:"",error:"Please enter valid license period count"}):A({value:e.target.value,error:""})},D=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},M={filterType:"multiselect",elevation:0,selectableRows:"single",searchPlaceholder:"Search License Request...",selectableRowsOnClick:!0,fixedHeader:!0,searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:E}},customToolbarSelect:(e,a,t)=>r.a.createElement($t,{selectedRows:e,displayData:a,setSelectedRows:t,toggleUser:()=>{},openReview:H,toggling:c.toggling})},[W,q]=Object(l.useState)(null),H=e=>{const a=c.data.filter(a=>a.organization_licenses_id==e)[0];q(a),console.log("request",a),s(!0)},F=()=>{const e=G.a.create((new Q).getHeaders(d.token));u({...c,saving:!0});const a={license_id:W.license_id,organization_id:d.user.organization_id.id,license_period:O.value,license_period_count:parseInt(j.value),requested_by:d.user.id,request_type:"RENEWAL",description:k.value};e.post((new Q).LICENSE_REQUEST,a).then((function(e){u({...c,saving:!1}),w({value:"",error:""}),A({value:"",error:""}),I({value:"",error:""}),z({value:"",error:""}),D("success",e.data.message),s(!1)})).catch((function(e){var a,t;u({...c,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),D(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:i,maxWidth:"sm",fullWidth:!0,onClose:()=>{s(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Renewal License Request"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:a.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==N.error},r.a.createElement(va.a,{id:"type"},"License Period"),r.a.createElement(pa.a,{label:"License Period",value:O.value,onChange:e=>{""===e.target.value?w({value:"",error:"Please select license period"}):w({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"MONTH"},"MONTH"),r.a.createElement(R.a,{value:"YEAR"},"YEAR")),r.a.createElement(Ea.a,null,N.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:j.value,placeholder:"License Period Count",label:"License Period Count",fullWidth:!0,onChange:P,helperText:j.error,error:""!==j.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:k.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:L,helperText:k.error,error:""!==k.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{s(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:c.saving,variant:"contained",color:"primary",onClick:()=>{"'"===k.value?z({value:"",error:"Please fulfill description"}):"'"===O.value?w({value:"",error:"Please select license period"}):"'"===j.value?w({value:"",error:"Please enter license period count"}):F()},disableElevation:!0},c.saving?r.a.createElement(x.a,{size:23}):"Request"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(Jt.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"License Expiration Reports"))),r.a.createElement(y.a,{style:{marginTop:20}}),c.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"License Expiration Reports",data:c.data,columns:[{name:"organization_licenses_id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"day_left",label:"Day(s) Left",options:{filter:!1,sort:!0}},{name:"license_license_category",label:"License Category",options:{filter:!1,sort:!0}},{name:"license_name",label:"License",options:{filter:!1,sort:!1}},{name:"organization_licenses_expires_at",label:"Expires At",options:{filter:!1,sort:!1}},{name:"organization_licenses_license_period",label:"License Period Type",options:{filter:!0,sort:!0}},{name:"organization_licenses_license_period_count",label:"License Period Count",options:{filter:!0,sort:!0}},{name:"license_description",label:"Description",options:{filter:!0,sort:!0}}],options:M}))})),al=t(839),tl=t(840),ll=t(841),rl=t(842),nl=t(843),ol=t(94),il=t(59),sl=t(862);const cl=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));var ul=Object(_.c)((function(e){const a=cl(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),i=Va(),s=Ka(),c=Ya(),[u,d]=Object(l.useState)(!1),[m,E]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[g,b]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;b(e),w(e.access_token)},[]);const[h,O]=Object(l.useState)("No contracts requests available...."),w=e=>{const a=G.a.create((new Q).getHeaders(e));E({...m,loading:!0}),a.get((new Q).CONTRACT).then((function(e){E({...m,loading:!1});const a=e.data;if(0==a.data.length)O("There are no license requests available.");else{var t=a.data;t.map(e=>{e.start_date=""+Object(Le.a)(new Date(e.start_date),"yyyy/MM/dd"),e.end_date=""+Object(Le.a)(new Date(e.end_date),"yyyy/MM/dd"),e.vendor=e.vendor.vendor_name,e.department_name=""+e.department.name,e.annual_license_fees=`${e.currency} ${e.annual_license_fees}`}),E({...m,data:t}),O("Licenses loaded")}})).catch((function(e){var a,t;E({...m,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),O(l),he(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[j,A]=Object(l.useState)({value:"",error:""}),[N,I]=Object(l.useState)({value:"",error:""}),[k,z]=Object(l.useState)({value:"",error:""}),[L,P]=Object(l.useState)({value:"",error:""}),[D,M]=Object(l.useState)({value:"",error:""}),[W,q]=Object(l.useState)({value:Object(Le.a)(new Date,["yyyy-MM-dd"]),error:""}),[H,F]=Object(l.useState)({value:Object(Le.a)(new Date,["yyyy-MM-dd"]),error:""}),[V,Y]=Object(l.useState)({value:"",error:""}),[K,J]=Object(l.useState)({value:"",error:""}),[X,Z]=Object(l.useState)({value:"",error:""}),[le,re]=Object(l.useState)({value:"",error:""}),[se,ue]=Object(l.useState)({value:0,error:""}),[me,ve]=Object(l.useState)({value:"",error:""}),pe=e=>{""===e.target.value?ue({value:"",error:"Please specify users, or 0(not applicable)"}):ue({value:e.target.value,error:""})},Ee=(e,a)=>{null===a?J({value:"",error:"Please select system tool"}):(console.log("system tool ID:: "+a.id),J({value:a.id,error:""}))},ge=e=>{""===e.target.value?z({value:"",error:"Please enter annual fees"}):z({value:e.target.value,error:""})},be=e=>{""===e.target.value?re({value:"",error:"Please enter contract number"}):re({value:e.target.value,error:""})},ye=()=>{const e=G.a.create((new Q).getHeaders(g.token));E({...m,saving:!0});const a={vendor:D.value,contract_number:le.value,annual_license_fees:parseFloat(k.value),start_date:W.value,end_date:H.value,description:L.value,currency:V.value,payment_frequency:N.value,system:K.value,department:parseInt(me.value),number_system_users:parseInt(se.value)};e.post((new Q).CONTRACT,a).then((function(e){E({...m,saving:!1});var a=e.data,t=m.data;const l=a.data;l.start_date=""+Object(Le.a)(new Date(l.start_date),"yyyy/MM/dd"),l.end_date=""+Object(Le.a)(new Date(l.end_date),"yyyy/MM/dd"),l.vendor=l.vendor.vendor_name,t.unshift(l),E({...m,data:t}),fe(),he("success",e.data.message),d(!1)})).catch((function(e){var a,t;E({...m,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),he(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},fe=()=>{A({value:"",error:""}),I({value:"",error:""}),z({value:"",error:""}),P({value:"",error:""})},he=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},[Se,Oe]=Object(l.useState)(null),Ce=Boolean(Se),xe=Ce?"simple-popover":void 0,[we,Te]=Object(l.useState)({value:"",error:""}),_e=()=>{Oe(null)},je=[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"department_name",label:"Department",options:{filter:!1,sort:!0}},{name:"contract_number",label:"Contract No",options:{filter:!1,sort:!0}},{name:"vendor",label:"Vendor",options:{filter:!1,sort:!0}},{name:"payment_frequency",label:"Payment Frequency",options:{filter:!1,sort:!1}},{name:"annual_license_fees",label:"Annual License Fees",options:{filter:!1,sort:!1}},{name:"approval_status",label:"Approval Status",options:{filter:!0,sort:!1,customBodyRenderLite:function(e,a){var t;return r.a.createElement(Ke.a,{avatar:r.a.createElement(de.a,null,"approved"===m.data[e].approval_status.toLowerCase()?r.a.createElement($e.a,{fontSize:"small"}):r.a.createElement(ea.a,{fontSize:"small"})),variant:"outlined",color:"approved"===m.data[e].approval_status.toLowerCase()?"primary":"default",size:"small",label:ra(null===(t=m.data[e])||void 0===t?void 0:t.approval_status)})}}},{name:"number_system_users",label:"No of Users",options:{filter:!0,sort:!0}},{name:"start_date",label:"Start Date",options:{filter:!0,sort:!0}},{name:"end_date",label:"End Date",options:{filter:!0,sort:!0}},{name:"id",label:"Actions",options:{filter:!0,sort:!0,customBodyRender:(e,a,t)=>{const l=m.data.find(a=>a.id==e);return r.a.createElement(y.a,null,r.a.createElement(p.a,{"aria-label":"delete",onClick:a=>{const t=l.payments;We(t.filter(e=>"PENDING"===e.payment_status)),Te({value:e,error:""}),sa(t.sort((e,a)=>e.order_number-a.order_number)),Oe(a.currentTarget)}},r.a.createElement(ya.a,null)),r.a.createElement(Ta.a,{id:xe,open:Ce,variant:"outlined",anchorEl:Se,onClose:_e,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},elevation:1},r.a.createElement(y.a,{p:2},r.a.createElement($.a,{component:"nav"},r.a.createElement(ee.a,{button:!0,onClick:()=>{fa("Approve"),Sa(!0),_e()}},r.a.createElement(ae.a,null,r.a.createElement(al.a,{style:{color:"green"}})),r.a.createElement(te.a,{primary:"Approve"})),r.a.createElement(ee.a,{button:!0,onClick:()=>{fa("Reject"),Sa(!0),_e()}},r.a.createElement(ae.a,null,r.a.createElement(tl.a,{style:{color:"orange"}})),r.a.createElement(te.a,{primary:"Reject"}))))))}}}],Ae={filterType:"multiselect",elevation:0,selectableRows:!1,searchPlaceholder:"Search user...",selectableRowsOnClick:!1,fixedHeader:!0,searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:h}}},[Re,Ne]=Object(l.useState)(!1),[Ie,ke]=Object(l.useState)(!1),[Pe,De]=Object(l.useState)({value:"",error:""}),[Me,We]=Object(l.useState)([]),[qe,Ue]=Object(l.useState)({value:"",error:""}),[Ge,Be]=Object(l.useState)(!1),[He,Fe]=Object(l.useState)({value:"",error:""}),[Ve,Ye]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),Qe=e=>{Fe({value:e.target.value,error:""})},aa=e=>{""===e.target.value?P({value:"",error:"Please enter valid description"}):P({value:e.target.value,error:""})},ta=()=>{var e;const a=G.a.create((new Q).getHeaders(g.token));Ye({...Ve,saving:!0});const t={description:L.value,start_date:W.value,end_date:H.value,payment_reference:He.value,period_cost:Pe.value,payment_status:Ge?"PAID":"PENDING",payment_period:qe.value,user:null===g||void 0===g||null===(e=g.user)||void 0===e?void 0:e.id};a.post((new Q).RECORD_LICENSE,t).then((function(e){Ye({...Ve,saving:!1}),la(),he("success",e.data.message),w(g.access_token),ke(!1)})).catch((function(e){var a,t;Ye({...Ve,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),he(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},la=()=>{Te({value:"",error:""}),De({value:"",error:""}),P({value:"",error:""})},[na,oa]=Object(l.useState)(!1),[ia,sa]=Object(l.useState)([]),[ca,ua]=Object(l.useState)(!1),[da,ga]=Object(l.useState)({value:"",error:""}),[ba,fa]=Object(l.useState)(""),[ha,Sa]=Object(l.useState)(!1);return r.a.createElement(il.a,{utils:ol.a},r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:u,maxWidth:"sm",fullWidth:!0,onClose:()=>{d(!1)}},r.a.createElement(oe.a,{id:"new-op"},"New Contract"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,openOnFocus:!0,options:i,getOptionLabel:e=>e.vendor_name,onChange:(e,a)=>{null===a?M({value:"",error:"Please select vendor"}):(console.log("vendor ID:: "+a.id),M({value:a.id,error:""}))},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Vendor",variant:"outlined",size:"small",helperText:D.error,error:""!==D.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"text",value:le.value,placeholder:"Contract Number",label:"Contract Number",fullWidth:!0,onChange:be,helperText:le.error,error:""!==le.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,openOnFocus:!0,options:c,getOptionLabel:e=>e.system_tool_name,onChange:Ee,renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"System/Tool",variant:"outlined",size:"small",helperText:K.error,error:""!==K.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,disabled:!0,openOnFocus:!0,defaultValue:s[3],options:s,getOptionLabel:e=>e.name,onChange:Ee,renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Department",variant:"outlined",size:"small",helperText:me.error,error:""!==me.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:a.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==N.error},r.a.createElement(va.a,{id:"type"},"Payment Frequency"),r.a.createElement(pa.a,{label:"Payment Frequency",value:N.value,onChange:e=>{""===e.target.value?I({value:"",error:"Please select license period"}):I({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"MONTH"},"Monthly"),r.a.createElement(R.a,{value:"YEAR"},"Yearly")),r.a.createElement(Ea.a,null,N.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:k.value,placeholder:"Annual License Fees",label:"Annual License Fees",fullWidth:!0,onChange:ge,helperText:k.error,error:""!==k.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:se.value,placeholder:"System Users",label:"System Users",fullWidth:!0,onChange:pe,helperText:se.error,error:""!==se.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:V.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==V.error},r.a.createElement(va.a,{id:"type"},"Currency"),r.a.createElement(pa.a,{label:"Currency",value:V.value,onChange:e=>{""===e.target.value?Y({value:"",error:"Please select currency"}):Y({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"USD"},"USD"),r.a.createElement(R.a,{value:"RWF"},"RWF"),r.a.createElement(R.a,{value:"RWF"},"EURO")),r.a.createElement(Ea.a,null,V.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",label:"Start Date",value:W.value,onChange:e=>{q("Invalid Date"==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",label:"End Date",value:H.value,onChange:e=>{F("Invalid Date"==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",type:"text",value:X.value,placeholder:"Document Link",label:"Document Link",fullWidth:!0,onChange:e=>{Z({value:e.target.value,error:""})}})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:L.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:aa,helperText:L.error,error:""!==L.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{d(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:m.saving,variant:"contained",color:"primary",onClick:()=>{""===L.value?P({value:"",error:"Please fulfill description"}):""===N.value?I({value:"",error:"Please select license period"}):""===k.value?I({value:"",error:"Please enter license period count"}):""===me.value?ve({value:"",error:"Please select department"}):ye()},disableElevation:!0},m.saving?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(ne.a,{open:Ie,maxWidth:"sm",fullWidth:!0,onClose:()=>{ke(!1)}},r.a.createElement(oe.a,{id:"new-op"},"License Renewal"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,openOnFocus:!0,options:Me,getOptionLabel:e=>`${Object(Le.a)(new Date(e.start_period),["yyyy-MM-dd"])} - ${Object(Le.a)(new Date(e.end_period),["yyyy-MM-dd"])}`,onChange:(e,a)=>{if(null===a)Ue({value:"",error:"Please select payment period"});else{const e=Me.filter(e=>e.id===a.id)[0];De({value:e.payment_fee,error:""}),q({value:Object(Le.a)(new Date(e.start_period),["yyyy-MM-dd"]),error:""}),F({value:Object(Le.a)(new Date(e.end_period),["yyyy-MM-dd"]),error:""}),Ue({value:a.id,error:""})}},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Period",variant:"outlined",size:"small",helperText:qe.error,error:""!==qe.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,disabled:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:Pe.value,placeholder:"Cost",label:"Cost",fullWidth:!0,helperText:Pe.error,error:""!==Pe.error})})),r.a.createElement(S.a,{container:!0,spacing:2},r.a.createElement(S.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",value:W.value,onChange:e=>{q("Invalid Date"==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(S.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",value:H.value,onChange:e=>{F("Invalid Date"==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:L.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:aa,helperText:L.error,error:""!==L.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Je.a,{control:r.a.createElement(Xe.a,{checked:Ge,onChange:e=>{Be(e.target.checked)},value:"vertical",color:"primary"}),label:"Is payment paid?"})),Ge&&r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"text",value:He.value,placeholder:"Payment Reference",label:"Payment Reference",fullWidth:!0,onChange:Qe,helperText:He.error,error:""!==He.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{ke(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:Ve.saving,variant:"contained",color:"primary",onClick:()=>{""===we.value?Te({value:"",error:"Please select contract"}):""===qe.value?Ue({value:"",error:"Please select period"}):""===L.value?P({value:"",error:"Please fulfill description"}):Ge&&""===He.value?Fe({value:"",error:"Please enter payment reference"}):ta()},disableElevation:!0},Ve.saving?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(ne.a,{open:na,maxWidth:"sm",fullWidth:!0,onClose:()=>{oa(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Payment Reports"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement($.a,null,ia.map(e=>r.a.createElement(ee.a,null,r.a.createElement(qa.a,null,r.a.createElement(de.a,null,r.a.createElement(ll.a,null))),r.a.createElement(te.a,{primary:Object(Le.a)(new Date(e.start_period),"yyyy/MM/dd")+" To "+Object(Le.a)(new Date(e.end_period),"yyyy/MM/dd"),secondary:"$"+e.payment_fee}),r.a.createElement(Aa.a,null,r.a.createElement(Ke.a,{label:e.payment_status,color:"PAID"===e.payment_status?"primary":"secondary",onDelete:()=>{},deleteIcon:"PAID"===e.payment_status?r.a.createElement(rl.a,null):r.a.createElement(nl.a,{fontSize:"small"})}))))))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{oa(!1)},variant:"outlined",color:"primary"},"Close"))),r.a.createElement(ne.a,{open:ha,maxWidth:"sm",fullWidth:!0,onClose:()=>{Sa(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Contract Approval Status"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:da.value,placeholder:"Comment",label:"Comment",multiline:!0,minRows:5,fullWidth:!0,onChange:e=>{ga({value:e.target.value,error:""})},helperText:da.error,error:""!==da.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{Sa(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:ca,variant:"contained",color:"primary",onClick:()=>{(()=>{const e=G.a.create((new Q).getHeaders(g.token));let a="";"Approve"==ba?a="APPROVED":"Reject"==ba&&(a="REJECTED");let t={comment:da.value};E({...m,loading:!0}),ua(!0),e.put(`${(new Q).CONTRACT}/approvalStatus/${we.value}/${a}`,t).then((function(e){ua(!1),E({...m,loading:!1}),Sa(!1),ga({value:"",error:""}),he("success",e.data.message),w(g.access_token)})).catch((function(e){var a,t;ua(!1),E({...m,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),he(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))})()},disableElevation:!0},ca?r.a.createElement(x.a,{size:23}):ba))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(Ct.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"License Contracts"))),r.a.createElement(y.a,{style:{marginTop:20}}),m.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of License Contracts",data:m.data,columns:je,options:Ae})))}));const dl=[{path:"/licenseManager",exact:!0,permission:"CAN_VIEW_HOME",main:()=>r.a.createElement(zt,null)},{path:"/licenseManager/home",exact:!0,permission:"CAN_VIEW_HOME",main:()=>r.a.createElement(zt,null)},{path:"/licenseManager/softwareLicenseRequest",exact:!0,permission:"CAN_VIEW_SOFTWARE_LICENSE_REQUEST",main:()=>r.a.createElement(Kt,null)},{path:"/licenseManager/license",exact:!0,permission:"CAN_VIEW_LICENSE_REQUEST",main:()=>r.a.createElement(qt,null)},{path:"/licenseManager/settings",exact:!0,permission:"CAN_VIEW_SETTINGS",main:()=>r.a.createElement(Gt,null)},{path:"/licenseManager/expirationReport",exact:!0,permission:"CAN_VIEW_REPORTS",main:()=>r.a.createElement(el,null)},{path:"/licenseManager/contracts",exact:!0,permission:"CAN_VIEW_CONTRACT",main:()=>r.a.createElement(ul,null)},{path:"/licenseManager/vendors",exact:!0,permission:"CAN_VIEW_VENDOR",main:()=>r.a.createElement(ut,null)},{main:()=>r.a.createElement(r.a.Fragment,null)}],ml=[{name:"Home",icon:r.a.createElement(pe.a,{color:"primary"}),path:"/licenseManager/home",permission:"CAN_VIEW_HOME"},{name:"Vendors",icon:r.a.createElement(ga.a,{color:"primary"}),path:"/licenseManager/vendors",permission:"CAN_VIEW_VENDOR"},{name:"Contracts",icon:r.a.createElement(Ct.a,{color:"primary"}),path:"/licenseManager/contracts",permission:"CAN_VIEW_CONTRACT"},{name:"License Records",icon:r.a.createElement(xt.a,{color:"primary"}),path:"/licenseManager/softwareLicenseRequest",permission:"CAN_VIEW_SOFTWARE_LICENSE_REQUEST"}],vl=[{name:"Settings",icon:r.a.createElement(ye.a,{color:"primary"}),path:"/licenseManager/settings",permission:"CAN_VIEW_SETTINGS"},{name:"Logout",icon:r.a.createElement(fe.a,{color:"primary"}),path:"/licenseManager/logout"}],pl=Object(we.a)(e=>({root:{width:"100%"},content:{flexGrow:1,padding:e.spacing(2)},title:{flexGrow:1},drawer:{[e.breakpoints.up("sm")]:{width:250,flexShrink:0}},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(2),[e.breakpoints.up("sm")]:{display:"none"}},toolbar:e.mixins.toolbar,drawerPaper:{width:250,border:0},btn:{textTransform:"capitalize"},paper:{padding:15},icon:{height:45,marginRight:10,display:"block",[e.breakpoints.down("sm")]:{display:"none"}},icon2:{height:35},nested:{paddingLeft:e.spacing(4)}}));var El=Object(_.c)((function(e){var a,t,n,o;const{window:i}=e,s=pl(),c=Object(Te.a)(),u=Object(B.f)(),{themer:d}=e,[m,h]=Object(l.useState)(!1),[S,O]=Object(l.useState)(null),C=Boolean(S),[x,w]=Object(l.useState)(!1),[T,_]=Object(l.useState)("none"),[j,N]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;N(e)},[]);const I=()=>{O(null)},k=()=>{h(!m)},z=r.a.createElement("div",null,r.a.createElement("div",{className:s.toolbar}),r.a.createElement(Z.a,null),r.a.createElement($.a,null,ml.map((e,a)=>r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{button:!0,key:e.name,onClick:()=>{e.submenu?_(T==a?"none":a):(u.push(e.path),h(!1))},selected:e.path==u.location.pathname&&!e.submenu},r.a.createElement(ae.a,null,e.icon),r.a.createElement(te.a,{primary:e.name}),e.submenu?T==a?r.a.createElement(he.a,null):r.a.createElement(Se.a,null):r.a.createElement("div",null)),e.submenu&&r.a.createElement(le.a,{in:T==a,timeout:"auto",unmountOnExit:!0},r.a.createElement($.a,{component:"div",disablePadding:!0},e.submenu.map((e,a)=>r.a.createElement(ee.a,{button:!0,className:s.nested,onClick:()=>{u.push(e.path),h(!1)},selected:e.path==u.location.pathname},r.a.createElement(ae.a,null,r.a.createElement(Oe.a,null)),r.a.createElement(te.a,{primary:e.name})))))))),r.a.createElement(Z.a,null),r.a.createElement($.a,null,vl.map((e,a)=>r.a.createElement(ee.a,{button:!0,key:e.name,onClick:()=>{"/licenseManager/logout"===e.path?w(!0):u.push(e.path),h(!1)}},r.a.createElement(ae.a,null,e.icon),r.a.createElement(te.a,{primary:e.name}))))),L=void 0!==i?()=>i().document.body:void 0,P=Object(re.a)(c.breakpoints.up("sm"));return r.a.createElement("div",{className:s.root},r.a.createElement(E.a,null),r.a.createElement(ne.a,{open:x,onClose:()=>w(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(oe.a,{id:"alert-dialog-title"},"Logout"),r.a.createElement(ie.a,null,r.a.createElement(se.a,{id:"alert-dialog-description"},"Are you sure you want to logout of your account?")),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>w(!1),color:"primary"},"Cancel"),r.a.createElement(v.a,{onClick:()=>{localStorage.removeItem("LMIS"),u.replace("/")},color:"primary",autoFocus:!0},"Logout"))),r.a.createElement(g.a,{position:"fixed",color:0==d?"primary":"default",elevation:0,className:s.appBar},r.a.createElement(b.a,null,r.a.createElement(p.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:k,className:s.menuButton},r.a.createElement(Ce.a,null)),r.a.createElement("img",{src:F.a,alt:"icon",className:s.icon}),r.a.createElement(y.a,{className:s.title},r.a.createElement(f.a,{variant:"h5",noWrap:!0},"Licence MIS")),r.a.createElement(y.a,{mr:P&&2},r.a.createElement(p.a,{color:"inherit",onClick:()=>{}},r.a.createElement(ue.a,{badgeContent:0,showZero:!1,variant:"standard",color:"secondary"},r.a.createElement(xe.a,null)))),r.a.createElement("div",null,r.a.createElement(v.a,{onClick:e=>{O(e.currentTarget)},color:"inherit",variant:P&&"outlined",size:"small",className:s.btn,startIcon:P&&r.a.createElement("img",{src:F.a,className:s.icon2,alt:"Safaribus"})},r.a.createElement(de.a,null,`${null===j||void 0===j||null===(a=j.user)||void 0===a||null===(t=a.first_name)||void 0===t?void 0:t.substr(0,1)}${null===j||void 0===j||null===(n=j.user)||void 0===n||null===(o=n.last_name)||void 0===o?void 0:o.substr(0,1)}`)),r.a.createElement(A.a,{id:"menu-appbar",anchorEl:S,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"bottom",horizontal:"right"},open:C,onClose:I},r.a.createElement(R.a,{onClick:()=>{I(),u.push("/brn/users/system")}},"System users"),r.a.createElement(R.a,{onClick:()=>{I(),u.push("/bnr/settings")}},"Settings"),r.a.createElement(R.a,{onClick:()=>{I(),w(!0)}},"Logout"))))),r.a.createElement("nav",{className:s.drawer,"aria-label":""},r.a.createElement(me.a,{smUp:!0,implementation:"css"},r.a.createElement(ve.a,{container:L,variant:"temporary",anchor:"rtl"===c.direction?"right":"left",open:m,onClose:k,classes:{paper:s.drawerPaper},elevation:0,ModalProps:{keepMounted:!0}},z)),r.a.createElement(me.a,{xsDown:!0,implementation:"css"},r.a.createElement(ve.a,{classes:{paper:s.drawerPaper},variant:"permanent",open:!0},z))),r.a.createElement("main",{className:s.content},r.a.createElement("div",{className:s.toolbar}),r.a.createElement(B.c,null,dl.map((e,a)=>r.a.createElement(B.a,{key:a,exact:e.exact,path:e.path,component:e.main})))))})),gl=t(859),bl=t(852),yl=t(860),fl=t(202),hl=t.n(fl);const Sl=Object(w.a)(e=>({root:{flexShrink:0,flexFlow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},paper:{padding:e.spacing(2),height:200,elevation:0},paper3:{padding:e.spacing(2),height:"100px",elevation:0,cursor:"pointer"},paper1:{padding:e.spacing(2),height:380,elevation:0,cursor:"pointer"},paper2:{padding:e.spacing(2),elevation:0},title:{[e.breakpoints.down("sm")]:{fontSize:"12px"}},formTitle:{flexGrow:1}}));var Ol=Object(_.c)((function(){var e,a,t,n,o;const i=Object(B.f)(),s=Sl(),{enqueueSnackbar:c,closeSnackbar:u}=Object(U.b)(),[d,m]=function(){const e=Object(B.f)(),[a,t]=Object(l.useState)({status:"loading"});return Object(l.useEffect)(()=>{var e=(new Q).accountData;console.log(e.user)},[a]),[a,(a,l)=>{const r=G.a.create((new Q).getHeaders(a)),n=(new Q).ALL_METRICS;r.get(n).then((function(e){const a=e.data.data.reduce((e,a)=>parseInt(a.total)+e,0);console.log("total",a);const l=e.data.data.map(e=>100*parseInt(e.total)/a),r=e.data.data.map(e=>e.name);console.log(l,r);const n={labels:r,series:l};console.log(n),t({data:n,status:"success"})})).catch((function(a){var l,r;a.response?404===(null===a||void 0===a||null===(l=a.response)||void 0===l?void 0:l.status)?t({data:{labels:[],series:[]},status:"empty"}):401===(null===a||void 0===a||null===(r=a.response)||void 0===r?void 0:r.status)?e.push("/",{expired:!0}):t({data:{labels:[],series:[]},status:"error"}):t({data:{labels:[],series:[]},status:"error"})}))}]}(),[v,p]=function(){const e=Object(B.f)(),[a,t]=Object(l.useState)({status:"loading"});Object(l.useEffect)(()=>{var e=(new Q).accountData;null==a.data&&r(e.token,e.user.department.id)},[a]);const r=(a,l)=>{const r=G.a.create((new Q).getHeaders(a)),n=`${(new Q).REPORT}/certificatesDepartment/${l}`;r.get(n).then((function(e){const a=e.data.data;t({data:a,status:"success"})})).catch((function(a){var l,r;a.response?404==(null===a||void 0===a||null===(l=a.response)||void 0===l?void 0:l.status)?t({data:{labels:[],series:[]},status:"empty"}):401==(null===a||void 0===a||null===(r=a.response)||void 0===r?void 0:r.status)?e.push("/",{expired:!0}):t({data:{labels:[],series:[]},status:"error"}):t({data:{labels:[],series:[]},status:"error"})}))};return[a,r]}(),[E,g]=function(){const e=Object(B.f)(),[a,t]=Object(l.useState)({status:"loading"});Object(l.useEffect)(()=>{var e=(new Q).accountData;null==a.data&&r(e.token,e.user.department.id)},[a]);const r=(a,l)=>{const r=G.a.create((new Q).getHeaders(a)),n=`${(new Q).REPORT}/contractPeriodPayments/${l}`;r.get(n).then((function(e){const a=e.data.data;t({data:a,status:"success"})})).catch((function(a){var l,r;a.response?404==(null===a||void 0===a||null===(l=a.response)||void 0===l?void 0:l.status)?t({data:{labels:[],series:[]},status:"empty"}):401==(null===a||void 0===a||null===(r=a.response)||void 0===r?void 0:r.status)?e.push("/",{expired:!0}):t({data:{labels:[],series:[]},status:"error"}):t({data:{labels:[],series:[]},status:"error"})}))};return[a,r]}(),[b,h]=function(){const e=Object(B.f)(),[a,t]=Object(l.useState)({status:"loading"});Object(l.useEffect)(()=>{var e=(new Q).accountData;null==a.data&&r(e.token,e.user.department.id)},[a]);const r=(a,l)=>{const r=G.a.create((new Q).getHeaders(a)),n=`${(new Q).REPORT}/totalContractDepartment/${l}`;r.get(n).then((function(e){const a=e.data.data;t({data:a,status:"success"})})).catch((function(a){var l,r;a.response?404==(null===a||void 0===a||null===(l=a.response)||void 0===l?void 0:l.status)?t({data:{labels:[],series:[]},status:"empty"}):401==(null===a||void 0===a||null===(r=a.response)||void 0===r?void 0:r.status)?e.push("/",{expired:!0}):t({data:{labels:[],series:[]},status:"error"}):t({data:{labels:[],series:[]},status:"error"})}))};return[a,r]}(),[C,x]=function(){const e=Object(B.f)(),[a,t]=Object(l.useState)({status:"loading"});Object(l.useEffect)(()=>{var e=(new Q).accountData;null==a.data&&r(e.token,e.user.department.id)},[a]);const r=(a,l)=>{const r=G.a.create((new Q).getHeaders(a)),n=(new Q).SYSTME_TOOLS;r.get(n).then((function(e){const a=e.data.data;t({data:{total:a.length},status:"success"})})).catch((function(a){var l,r;a.response?404==(null===a||void 0===a||null===(l=a.response)||void 0===l?void 0:l.status)?t({data:{total:0},status:"empty"}):401==(null===a||void 0===a||null===(r=a.response)||void 0===r?void 0:r.status)?e.push("/",{expired:!0}):t({data:{total:0},status:"error"}):t({data:{total:0},status:"error"})}))};return[a,r]}(),[w,T]=function(){const e=Object(B.f)(),[a,t]=Object(l.useState)({status:"loading"});Object(l.useEffect)(()=>{var e=(new Q).accountData;null==a.data&&r(e.token,e.user.department.id,e.user.id)},[a]);const r=(a,l,r)=>{const n=G.a.create((new Q).getHeaders(a)),o=(new Q).REPORT+"/metrics/certificate?user_id="+r;n.get(o).then((function(e){const a=e.data.data.map(e=>parseInt(e.total)),l=e.data.data.map(e=>e.month);console.log(a,l);t({data:{labels:l,series:a},status:"success"})})).catch((function(a){var l,r;a.response?404==(null===a||void 0===a||null===(l=a.response)||void 0===l?void 0:l.status)?t({data:{labels:[],series:[]},status:"empty"}):401==(null===a||void 0===a||null===(r=a.response)||void 0===r?void 0:r.status)?e.push("/",{expired:!0}):t({data:{labels:[],series:[]},status:"error"}):t({data:{labels:[],series:[]},status:"error"})}))};return[a,r]}();return Object(l.useEffect)(()=>{(new Q).accountData},[]),r.a.createElement("div",{className:s.root},r.a.createElement(y.a,{style:{display:"flex"}},r.a.createElement(y.a,{style:{display:"flex"},className:s.formTitle},r.a.createElement(Ne.a,{color:"primary",fontSize:"medium"}),r.a.createElement(f.a,{variant:"h6"},"Dashboard")),r.a.createElement(Ie.a,{fontSize:"large",color:"primary"}),r.a.createElement(f.a,{variant:"h6"},Object(Le.a)(new Date,["yyyy-MM-dd"])||0)),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(S.a,{container:!0,spacing:1},r.a.createElement(S.a,{item:!0,xs:12,md:3},r.a.createElement(O.a,{className:s.paper3,elevation:0,onClick:()=>{i.push("/orgAdmin/certificates")}},r.a.createElement(S.a,{container:!0},r.a.createElement(S.a,{item:!0,xs:8,md:8},r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{variant:"h8"},r.a.createElement("b",null,"Certificates"))),r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(f.a,{variant:"h6"},(null===v||void 0===v||null===(e=v.data)||void 0===e?void 0:e.total_certificates)||0))),r.a.createElement(S.a,{item:!0,xs:4,md:4},r.a.createElement(y.a,{style:{padding:5}},r.a.createElement("img",{src:Tt.a,width:"50px",height:"50px"})))))),r.a.createElement(S.a,{item:!0,xs:12,md:3,lg:3,sm:3},r.a.createElement(O.a,{className:s.paper3,elevation:0,onClick:()=>{i.push("/orgAdmin/systemTool")}},r.a.createElement(S.a,{container:!0},r.a.createElement(S.a,{item:!0,xs:8,md:8},r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{variant:"h8"},r.a.createElement("b",null,"System/Tools"))),r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(f.a,{variant:"h6"},(null===C||void 0===C||null===(a=C.data)||void 0===a?void 0:a.total)||0))),r.a.createElement(S.a,{item:!0,xs:4,md:4},r.a.createElement(y.a,{style:{padding:5}},r.a.createElement("img",{src:hl.a,width:"50px",height:"50px"})))))),r.a.createElement(S.a,{item:!0,xs:12,md:3,lg:3,sm:3},r.a.createElement(O.a,{className:s.paper3,elevation:0},r.a.createElement(S.a,{container:!0},r.a.createElement(S.a,{item:!0,xs:8,md:8},r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{variant:"h8"},r.a.createElement("b",null,"Paid Payment Periods"))),r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(f.a,{variant:"h6"},(null===E||void 0===E||null===(t=E.data)||void 0===t||null===(n=t.find(e=>"PAID"===e.payment_status))||void 0===n?void 0:n.count)||0))),r.a.createElement(S.a,{item:!0,xs:4,md:4},r.a.createElement(y.a,{style:{padding:5}},r.a.createElement("img",{src:It.a,width:"50px",height:"50px"})))))),r.a.createElement(S.a,{item:!0,xs:12,md:3,lg:3,sm:3},r.a.createElement(O.a,{className:s.paper3,elevation:0,onClick:()=>{i.push("/orgAdmin/contracts")}},r.a.createElement(S.a,{container:!0},r.a.createElement(S.a,{item:!0,xs:8,md:8},r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{variant:"h8"},r.a.createElement("b",null,"Contracts"))),r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(f.a,{variant:"h6"},(null===b||void 0===b||null===(o=b.data)||void 0===o?void 0:o.total_contracts)||0))),r.a.createElement(S.a,{item:!0,xs:4,md:4},r.a.createElement(y.a,{style:{padding:5}},r.a.createElement("img",{src:Rt.a,width:"50px",height:"50px"})))))),r.a.createElement(S.a,{item:!0,xs:12,md:4,lg:4,sm:4},r.a.createElement(O.a,{style:{minHeight:400,display:"flex",flexDirection:"column"},elevation:0},r.a.createElement(f.a,{style:{marginLeft:10,marginTop:10}},r.a.createElement("b",null,"License Requests Summary")),r.a.createElement(je.a,{style:{marginTop:50},type:"donut",options:Be(d).options,series:Be(d).series,width:380}))),r.a.createElement(S.a,{item:!0,xs:12,md:8,lg:8,sm:8},r.a.createElement(O.a,{style:{minHeight:300,display:"flex",flexDirection:"column"},elevation:0},r.a.createElement(f.a,{style:{marginLeft:10,marginTop:10}},r.a.createElement("b",null,"Certificate Expiration Summary")),r.a.createElement(y.a,null,r.a.createElement(je.a,{options:Ve(w).options,series:Ve(w).series,type:"area",height:350})))))))}));const Cl=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));var xl=Object(_.c)((function(e){const a=Cl(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),i=Fa("INSTITUTION_LICENSE"),[s,c]=Object(l.useState)(!1),[u,d]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[m,E]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;E(e),h(e.access_token,e.user.organization_id.id)},[]);const[g,b]=Object(l.useState)("No licenses requests available...."),h=(e,a)=>{const t=G.a.create((new Q).getHeaders(e));d({...u,loading:!0}),t.get((new Q).ORGANIZATION_LICENSE_REQUEST+a).then((function(e){d({...u,loading:!1});const a=e.data;if(0==a.data.length)b("There are no license requests available.");else{var t=a.data;t.map(e=>{console.log(e),e.license_name=e.license_id.name}),t=t.filter(e=>"INSTITUTION_LICENSE"===e.license_id.license_category),d({...u,data:t}),b("Licenses loaded")}})).catch((function(e){var a,t;d({...u,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),b(l),q(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[S,O]=Object(l.useState)({value:"",error:""}),[w,j]=Object(l.useState)({value:"",error:""}),[A,N]=Object(l.useState)({value:"",error:""}),[I,k]=Object(l.useState)({value:"",error:""}),[z,L]=Object(l.useState)({value:"",error:""}),P=e=>{""===e.target.value?L({value:"",error:"Please enter valid description"}):L({value:e.target.value,error:""})},D=e=>{""===e.target.value?N({value:"",error:"Please enter valid license period count"}):N({value:e.target.value,error:""})},M=()=>{const e=G.a.create((new Q).getHeaders(m.token));d({...u,saving:!0});const a={license_id:S.value,organization_id:m.user.organization_id.id,license_period:w.value,license_period_count:parseInt(A.value),requested_by:m.user.id,request_type:I.value,description:z.value};e.post((new Q).LICENSE_REQUEST,a).then((function(e){d({...u,saving:!1});var a=e.data,t=u.data;const l=a.data;l.license_name=l.license_id.name,t.unshift(l),d({...u,data:t}),W(),q("success",e.data.message),c(!1)})).catch((function(e){var a,t;d({...u,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),q(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},W=()=>{O({value:"",error:""}),j({value:"",error:""}),N({value:"",error:""}),k({value:"",error:""}),L({value:"",error:""})},q=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},H=[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"request_type",label:"Request Type",options:{filter:!1,sort:!0}},{name:"license_name",label:"License",options:{filter:!1,sort:!1}},{name:"description",label:"Description",options:{filter:!1,sort:!1}},{name:"license_period",label:"Period Type",options:{filter:!0,sort:!0}},{name:"license_period_count",label:"Period Count",options:{filter:!0,sort:!0}},{name:"created_at",label:"Requested At",options:{filter:!0,sort:!0}},{name:"request_status",label:"Status",options:{filter:!0,sort:!1,customBodyRenderLite:function(e,a){var t;return r.a.createElement(Ke.a,{avatar:r.a.createElement(de.a,null,"approved"==u.data[e].request_status.toLowerCase()?r.a.createElement($e.a,{fontSize:"small"}):r.a.createElement(ea.a,{fontSize:"small"})),variant:"outlined",color:"approved"==u.data[e].request_status.toLowerCase()?"primary":"default",size:"small",label:ra(null===(t=u.data[e])||void 0===t?void 0:t.request_status)})}}}],F={filterType:"multiselect",elevation:0,selectableRows:!1,searchPlaceholder:"Search user...",selectableRowsOnClick:!1,fixedHeader:!0,searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:g}}};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:s,maxWidth:"sm",fullWidth:!0,onClose:()=>{c(!1)}},r.a.createElement(oe.a,{id:"new-op"},"New License Request"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,openOnFocus:!0,options:i,getOptionLabel:e=>e.name,onChange:(e,a)=>{O(null===a?{value:"",error:"Please select license"}:{value:a.id,error:""})},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"License Type",variant:"outlined",size:"small",helperText:S.error,error:""!==S.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:a.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==I.error},r.a.createElement(va.a,{id:"type"},"Request Type"),r.a.createElement(pa.a,{label:"Request Type",value:I.value,onChange:e=>{""===e.target.value?k({value:"",error:"Please select request type"}):k({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"NEW"},"NEW"),r.a.createElement(R.a,{value:"RENEWAL"},"RENEWAL")),r.a.createElement(Ea.a,null,I.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:a.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==I.error},r.a.createElement(va.a,{id:"type"},"License Period"),r.a.createElement(pa.a,{label:"License Period",value:w.value,onChange:e=>{""===e.target.value?j({value:"",error:"Please select license period"}):j({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"MONTH"},"MONTH"),r.a.createElement(R.a,{value:"YEAR"},"YEAR")),r.a.createElement(Ea.a,null,I.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:A.value,placeholder:"License Period Count",label:"License Period Count",fullWidth:!0,onChange:D,helperText:A.error,error:""!==A.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:z.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:P,helperText:z.error,error:""!==z.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{c(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:u.saving,variant:"contained",color:"primary",onClick:()=>{""===S.value?O({value:"",error:"Please select license type"}):""===I.value?k({value:"",error:"Please select request type"}):"'"===z.value?L({value:"",error:"Please fulfill description"}):"'"===w.value?j({value:"",error:"Please select license period"}):"'"===A.value?j({value:"",error:"Please enter license period count"}):M()},disableElevation:!0},u.saving?r.a.createElement(x.a,{size:23}):"Request"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(Pt.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"License Requests")),r.a.createElement(v.a,{className:a.btn,color:"primary",variant:"contained",size:"medium",startIcon:r.a.createElement(ta.a,null),disableElevation:!0,onClick:()=>{c(!0)}},"New License Request")),r.a.createElement(y.a,{style:{marginTop:20}}),u.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of Requested Licenses",data:u.data,columns:H,options:F}))})),wl=t(845),Tl=t(846);const _l=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));function jl(e){const{toggleUser:a,displayData:t,selectedRows:l,openEdit:n}=e;return r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(Tl.a,null),onClick:()=>{var e,a;n(null===(e=t[null===l||void 0===l||null===(a=l.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])}},"View License"))}var Al=Object(_.c)((function(e){const a=_l(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),[i,s]=Object(l.useState)(!1),[c,u]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[d,m]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;m(e),b(e.access_token,e.user.organization_id.id)},[]);const[E,g]=Object(l.useState)("No licenses requests available...."),b=(e,a)=>{const t=G.a.create((new Q).getHeaders(e));u({...c,loading:!0}),t.get((new Q).ORGANIZATION_LICENSE_REQUEST+a).then((function(e){u({...c,loading:!1});const a=e.data;if(0==a.data.length)g("There are no license requests available.");else{var t=a.data.filter(e=>"APPROVED"==e.request_status);t.map(e=>{console.log(e),e.license_name=e.license_id.name}),u({...c,data:t}),g("Licenses loaded")}})).catch((function(e){var a,t;u({...c,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),g(l),h(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},h=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},[S,O]=Object(l.useState)(null),[C,x]=Object(l.useState)(!1),w=[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"license_name",label:"License",options:{filter:!1,sort:!1}},{name:"description",label:"Description",options:{filter:!1,sort:!1}},{name:"license_period",label:"Period Type",options:{filter:!0,sort:!0}},{name:"license_period_count",label:"Period Count",options:{filter:!0,sort:!0}},{name:"created_at",label:"Requested At",options:{filter:!0,sort:!0}},{name:"request_status",label:"Status",options:{filter:!0,sort:!1,customBodyRenderLite:function(e,a){var t;return r.a.createElement(Ke.a,{avatar:r.a.createElement(de.a,null,"approved"==c.data[e].request_status.toLowerCase()?r.a.createElement($e.a,{fontSize:"small"}):r.a.createElement(ea.a,{fontSize:"small"})),variant:"outlined",color:"approved"==c.data[e].request_status.toLowerCase()?"primary":"default",size:"small",label:ra(null===(t=c.data[e])||void 0===t?void 0:t.request_status)})}}}],_={filterType:"multiselect",elevation:0,selectableRows:"single",searchPlaceholder:"Search License...",selectableRowsOnClick:!0,fixedHeader:!0,onCellClick:(e,a)=>{c.data[a.dataIndex]},searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:E}},customToolbarSelect:(e,a,t)=>r.a.createElement(jl,{selectedRows:e,displayData:a,setSelectedRows:t,toggleUser:()=>{},openEdit:e=>{const a=c.data.filter(a=>a.id===e)[0];console.log(a),"SOFTWARE_LICENSE"==a.license_id.license_category?(O(a),x(!0)):window.open("http://localhost:8000/api/v1/licenseRequest/download/"+e,"_blank")},toggling:c.toggling})};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:C,maxWidth:"sm",fullWidth:!0,onClose:()=>{x(!1)}},r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(f.a,{variant:"h5"},"License Details")),r.a.createElement(y.a,{style:{display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center",justifyItems:"center"}},r.a.createElement($.a,{dense:!0},r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(Pt.a,null)),r.a.createElement(te.a,{primary:"License",secondary:null===S||void 0===S?void 0:S.license_name})),r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(Ht.a,null)),r.a.createElement(te.a,{primary:"Duration",secondary:`${null===S||void 0===S?void 0:S.license_period_count} ${null===S||void 0===S?void 0:S.license_period}`})),r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(Ft.a,null)),r.a.createElement(te.a,{primary:"Request Type",secondary:""+(null===S||void 0===S?void 0:S.request_type)})),r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(Vt.a,null)),r.a.createElement(te.a,{primary:"Description",secondary:""+(null===S||void 0===S?void 0:S.description)}))))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{x(!1)},variant:"outlined",color:"primary"},"Close"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(wl.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"Approved Licenses"))),r.a.createElement(y.a,{style:{marginTop:20}}),c.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of Approved License",data:c.data,columns:w,options:_}))}));const Rl=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));var Nl=Object(_.c)((function(e){const a=Rl(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),i=Fa("SOFTWARE_LICENSE"),[s,c]=Object(l.useState)(!1),[u,d]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[m,E]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;E(e),h(e.access_token,e.user.organization_id.id)},[]);const[g,b]=Object(l.useState)("No licenses requests available...."),h=(e,a)=>{const t=G.a.create((new Q).getHeaders(e));d({...u,loading:!0}),t.get((new Q).ORGANIZATION_LICENSE_REQUEST+a).then((function(e){d({...u,loading:!1});const a=e.data;if(0==a.data.length)b("There are no license requests available.");else{var t=a.data;t.map(e=>{console.log(e),e.license_name=e.license_id.name}),t=t.filter(e=>"SOFTWARE_LICENSE"===e.license_id.license_category),d({...u,data:t}),b("Licenses loaded")}})).catch((function(e){var a,t;d({...u,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),b(l),q(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[S,O]=Object(l.useState)({value:"",error:""}),[w,j]=Object(l.useState)({value:"",error:""}),[A,N]=Object(l.useState)({value:"",error:""}),[I,k]=Object(l.useState)({value:"",error:""}),[z,L]=Object(l.useState)({value:"",error:""}),P=e=>{""===e.target.value?L({value:"",error:"Please enter valid description"}):L({value:e.target.value,error:""})},D=e=>{""===e.target.value?N({value:"",error:"Please enter valid license period count"}):N({value:e.target.value,error:""})},M=()=>{const e=G.a.create((new Q).getHeaders(m.token));d({...u,saving:!0});const a={license_id:S.value,organization_id:m.user.organization_id.id,license_period:w.value,license_period_count:parseInt(A.value),requested_by:m.user.id,request_type:I.value,description:z.value};e.post((new Q).LICENSE_REQUEST,a).then((function(e){d({...u,saving:!1});var a=e.data,t=u.data;const l=a.data;l.license_name=l.license_id.name,t.unshift(l),d({...u,data:t}),W(),q("success",e.data.message),c(!1)})).catch((function(e){var a,t;d({...u,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),q(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},W=()=>{O({value:"",error:""}),j({value:"",error:""}),N({value:"",error:""}),k({value:"",error:""}),L({value:"",error:""})},q=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},H=[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"request_type",label:"Request Type",options:{filter:!1,sort:!0}},{name:"license_name",label:"License",options:{filter:!1,sort:!1}},{name:"description",label:"Description",options:{filter:!1,sort:!1}},{name:"license_period",label:"Period Type",options:{filter:!0,sort:!0}},{name:"license_period_count",label:"Period Count",options:{filter:!0,sort:!0}},{name:"created_at",label:"Requested At",options:{filter:!0,sort:!0}},{name:"request_status",label:"Status",options:{filter:!0,sort:!1,customBodyRenderLite:function(e,a){var t;return r.a.createElement(Ke.a,{avatar:r.a.createElement(de.a,null,"approved"==u.data[e].request_status.toLowerCase()?r.a.createElement($e.a,{fontSize:"small"}):r.a.createElement(ea.a,{fontSize:"small"})),variant:"outlined",color:"approved"==u.data[e].request_status.toLowerCase()?"primary":"default",size:"small",label:ra(null===(t=u.data[e])||void 0===t?void 0:t.request_status)})}}}],F={filterType:"multiselect",elevation:0,selectableRows:!1,searchPlaceholder:"Search user...",selectableRowsOnClick:!1,fixedHeader:!0,searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:g}}};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:s,maxWidth:"sm",fullWidth:!0,onClose:()=>{c(!1)}},r.a.createElement(oe.a,{id:"new-op"},"New License Request"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,openOnFocus:!0,options:i,getOptionLabel:e=>e.name,onChange:(e,a)=>{O(null===a?{value:"",error:"Please select license"}:{value:a.id,error:""})},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"License Type",variant:"outlined",size:"small",helperText:S.error,error:""!==S.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:a.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==I.error},r.a.createElement(va.a,{id:"type"},"Request Type"),r.a.createElement(pa.a,{label:"Request Type",value:I.value,onChange:e=>{""===e.target.value?k({value:"",error:"Please select request type"}):k({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"NEW"},"NEW"),r.a.createElement(R.a,{value:"RENEWAL"},"RENEWAL")),r.a.createElement(Ea.a,null,I.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:a.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==I.error},r.a.createElement(va.a,{id:"type"},"License Period"),r.a.createElement(pa.a,{label:"License Period",value:w.value,onChange:e=>{""===e.target.value?j({value:"",error:"Please select license period"}):j({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"MONTH"},"MONTH"),r.a.createElement(R.a,{value:"YEAR"},"YEAR")),r.a.createElement(Ea.a,null,I.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:A.value,placeholder:"License Period Count",label:"License Period Count",fullWidth:!0,onChange:D,helperText:A.error,error:""!==A.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:z.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:P,helperText:z.error,error:""!==z.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{c(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:u.saving,variant:"contained",color:"primary",onClick:()=>{""===S.value?O({value:"",error:"Please select license type"}):""===I.value?k({value:"",error:"Please select request type"}):"'"===z.value?L({value:"",error:"Please fulfill description"}):"'"===w.value?j({value:"",error:"Please select license period"}):"'"===A.value?j({value:"",error:"Please enter license period count"}):M()},disableElevation:!0},u.saving?r.a.createElement(x.a,{size:23}):"Request"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(rt.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"Software License Requests")),r.a.createElement(v.a,{className:a.btn,color:"primary",variant:"contained",size:"medium",startIcon:r.a.createElement(ta.a,null),disableElevation:!0,onClick:()=>{c(!0)}},"New License Request")),r.a.createElement(y.a,{style:{marginTop:20}}),u.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of Requested Licenses",data:u.data,columns:H,options:F}))}));const Il=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));function kl(e){var a,t;const{toggleUser:l,displayData:n,selectedRows:o,openReview:i}=e;var s="ENABLED"==n[null===o||void 0===o||null===(a=o.data[0])||void 0===a?void 0:a.index].data[5];return console.log("check",s),console.log(n[null===o||void 0===o||null===(t=o.data[0])||void 0===t?void 0:t.index].data[6]),r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(Xt.a,null),onClick:()=>{var e,a;return i(null===(e=n[null===o||void 0===o||null===(a=o.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])}},"Renewal License"))}var zl=Object(_.c)((function(e){const a=Il(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),[i,s]=Object(l.useState)(!1),[c,u]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[d,m]=Object(l.useState)(null),[E,g]=Object(l.useState)((new Date).getFullYear());Object(l.useEffect)(()=>{var e=(new Q).accountData;m(e),S(e.access_token,(new Date).getFullYear())},[]);const[b,h]=Object(l.useState)("No licenses requests available...."),S=(e,a)=>{const t=G.a.create((new Q).getHeaders(e));u({...c,loading:!0}),t.get((new Q).EXPIRE_LICENSE_REPORT+a).then((function(e){u({...c,loading:!1});const a=e.data;if(0==a.data.length)h("There are no license requests available.");else{var t=a.data;t.map(e=>{e.organization_licenses_expires_at=Object(Le.a)(new Date(e.organization_licenses_expires_at),"yyyy/MM/dd")}),u({...c,data:t}),h("Expire License Report Loaded")}})).catch((function(e){var a,t;u({...c,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),h(l),W(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[O,w]=Object(l.useState)({value:"",error:""}),[j,A]=Object(l.useState)({value:"",error:""}),[N,I]=Object(l.useState)({value:"",error:""}),[k,z]=Object(l.useState)({value:"",error:""}),[L,P]=Object(l.useState)({value:"",error:""}),D=e=>{""===e.target.value?P({value:"",error:"Please enter valid description"}):P({value:e.target.value,error:""})},M=e=>{""===e.target.value?I({value:"",error:"Please enter valid license period count"}):I({value:e.target.value,error:""})},W=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},q={filterType:"multiselect",elevation:0,selectableRows:"single",searchPlaceholder:"Search License Request...",selectableRowsOnClick:!0,fixedHeader:!0,searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:b}},customToolbarSelect:(e,a,t)=>r.a.createElement(kl,{selectedRows:e,displayData:a,setSelectedRows:t,toggleUser:()=>{},openReview:V,toggling:c.toggling})},[H,F]=Object(l.useState)(null),V=e=>{const a=c.data.filter(a=>a.organization_licenses_id==e)[0];F(a),console.log("request",a),s(!0)},Y=()=>{const e=G.a.create((new Q).getHeaders(d.token));u({...c,saving:!0});const a={license_id:H.license_id,organization_id:d.user.organization_id.id,license_period:j.value,license_period_count:parseInt(N.value),requested_by:d.user.id,request_type:"RENEWAL",description:L.value};e.post((new Q).LICENSE_REQUEST,a).then((function(e){u({...c,saving:!1}),A({value:"",error:""}),I({value:"",error:""}),z({value:"",error:""}),P({value:"",error:""}),W("success",e.data.message),s(!1)})).catch((function(e){var a,t;u({...c,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),W(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:i,maxWidth:"sm",fullWidth:!0,onClose:()=>{s(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Renewal License Request"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:a.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==k.error},r.a.createElement(va.a,{id:"type"},"License Period"),r.a.createElement(pa.a,{label:"License Period",value:j.value,onChange:e=>{""===e.target.value?A({value:"",error:"Please select license period"}):A({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"MONTH"},"MONTH"),r.a.createElement(R.a,{value:"YEAR"},"YEAR")),r.a.createElement(Ea.a,null,k.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:N.value,placeholder:"License Period Count",label:"License Period Count",fullWidth:!0,onChange:M,helperText:N.error,error:""!==N.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:L.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:D,helperText:L.error,error:""!==L.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{s(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:c.saving,variant:"contained",color:"primary",onClick:()=>{"'"===L.value?P({value:"",error:"Please fulfill description"}):"'"===j.value?A({value:"",error:"Please select license period"}):"'"===N.value?A({value:"",error:"Please enter license period count"}):Y()},disableElevation:!0},c.saving?r.a.createElement(x.a,{size:23}):"Request"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(Jt.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"License Expiration Report")),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{style:{width:"150px"},openOnFocus:!0,options:["2020","2021","2022","2023","2024","2025","2026","2027","2028","2029","2030"],getOptionLabel:e=>e,onChange:(e,a)=>{g(a),S(d.access_token,a)},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Year",variant:"outlined",size:"small"}))}))),r.a.createElement(y.a,{style:{marginTop:20}}),c.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"License Expiration Reports",data:c.data,columns:[{name:"organization_licenses_id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"day_left",label:"Day(s) Left",options:{filter:!1,sort:!0}},{name:"license_license_category",label:"License Category",options:{filter:!1,sort:!0}},{name:"license_name",label:"License",options:{filter:!1,sort:!1}},{name:"organization_licenses_expires_at",label:"Expires At",options:{filter:!1,sort:!1}},{name:"organization_licenses_license_period",label:"License Period Type",options:{filter:!0,sort:!0}},{name:"organization_licenses_license_period_count",label:"License Period Count",options:{filter:!0,sort:!0}},{name:"license_description",label:"Description",options:{filter:!0,sort:!0}}],options:q}))})),Ll=t(847);const Pl=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));var Dl=Object(_.c)((function(e){const a=Pl(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),i=function(){const[e,a]=Object(l.useState)([]);Object(l.useEffect)(()=>{const a=(new Q).accountData;0===e.length&&t(a.token)},[e]);const t=e=>{G.a.create((new Q).getHeaders(e)).get((new Q).CONTRACT).then((function(e){a(e.data.data)})).catch((function(e){}))};return e}(),[s,c]=Object(l.useState)(!1),[u,d]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[m,E]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e,a;const t=(new Q).accountData;E(t),h(t.access_token,t.user.id,null===t||void 0===t||null===(e=t.user)||void 0===e||null===(a=e.department)||void 0===a?void 0:a.id)},[]);const[g,b]=Object(l.useState)("No licenses requests available...."),h=(e,a,t)=>{const l=G.a.create((new Q).getHeaders(e));d({...u,loading:!0}),l.get(`${(new Q).RECORD_LICENSE}/department/${t}`).then((function(e){d({...u,loading:!1});const a=e.data;if(0===a.data.length)b("There are no license  available.");else{let e=a.data;e.map(e=>{var a,t,l,r,n,o,i,s;e.system=null===(a=e.payment_period)||void 0===a||null===(t=a.contract)||void 0===t||null===(l=t.system_tool)||void 0===l?void 0:l.system_tool_name,e.vendor=null===(r=e.payment_period)||void 0===r||null===(n=r.contract)||void 0===n||null===(o=n.vendor)||void 0===o?void 0:o.vendor_name,e.license_description=e.description,e.annual_license_fees=e.period_cost,e.contract_no=null===(i=e.payment_period)||void 0===i||null===(s=i.contract)||void 0===s?void 0:s.contract_number,e.start_date=Object(Le.a)(new Date(e.start_date),["yyyy-MM-dd"]),e.end_date=Object(Le.a)(new Date(e.end_date),["yyyy-MM-dd"])}),d({...u,data:e}),b("Licenses loaded")}})).catch((function(e){var a,t;d({...u,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),b(l),Z(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[O,w]=Object(l.useState)({value:"",error:""}),[j,A]=Object(l.useState)({value:"",error:""}),[R,N]=Object(l.useState)({value:"",error:""}),[I,k]=Object(l.useState)([]),[z,L]=Object(l.useState)({value:"",error:""}),[P,D]=Object(l.useState)({value:Object(Le.a)(new Date,["yyyy-MM-dd"]),error:""}),[M,W]=Object(l.useState)({value:Object(Le.a)(new Date,["yyyy-MM-dd"]),error:""}),[q,H]=Object(l.useState)(!1),[F,V]=Object(l.useState)({value:"",error:""}),Y=e=>{V({value:e.target.value,error:""})},K=e=>{""===e.target.value?N({value:"",error:"Please enter valid description"}):N({value:e.target.value,error:""})},J=()=>{var e;const a=G.a.create((new Q).getHeaders(m.token));d({...u,saving:!0});const t={description:R.value,start_date:P.value,end_date:M.value,payment_reference:F.value,period_cost:j.value,payment_status:q?"PAID":"PENDING",payment_period:z.value,user:null===m||void 0===m||null===(e=m.user)||void 0===e?void 0:e.id};a.post((new Q).RECORD_LICENSE,t).then((function(e){d({...u,saving:!1}),h(m.access_token,m.user.id),X(),Z("success",e.data.message),c(!1)})).catch((function(e){var a,t;d({...u,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),Z(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},X=()=>{w({value:"",error:""}),A({value:"",error:""}),N({value:"",error:""})},Z=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},$=[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"system",label:"System/Tool",options:{filter:!1,sort:!0}},{name:"vendor",label:"Vendor",options:{filter:!1,sort:!0}},{name:"license_description",label:"Description",options:{filter:!1,sort:!1}},{name:"annual_license_fees",label:"Annual License Fees",options:{filter:!1,sort:!1}},{name:"contract_no",label:"Contract No",options:{filter:!0,sort:!0}},{name:"start_date",label:"Start Date",options:{filter:!0,sort:!0}},{name:"end_date",label:"End Date",options:{filter:!0,sort:!0}},{name:"payment_status",label:"Payment Status",options:{filter:!0,sort:!1,customBodyRenderLite:function(e,a){var t;return r.a.createElement(Ke.a,{avatar:r.a.createElement(de.a,null,"paid"===u.data[e].payment_status.toLowerCase()?r.a.createElement($e.a,{fontSize:"small"}):r.a.createElement(ea.a,{fontSize:"small"})),variant:"outlined",color:"paid"===u.data[e].payment_status.toLowerCase()?"primary":"default",size:"small",label:ra(null===(t=u.data[e])||void 0===t?void 0:t.payment_status)})}}}],ee={filterType:"multiselect",elevation:0,selectableRows:!1,searchPlaceholder:"Search user...",selectableRowsOnClick:!1,fixedHeader:!0,searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:g}}};return r.a.createElement(il.a,{utils:ol.a},r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:s,maxWidth:"sm",fullWidth:!0,onClose:()=>{c(!1)}},r.a.createElement(oe.a,{id:"new-op"},"License Renewal"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,openOnFocus:!0,options:i,getOptionLabel:e=>`${e.system_tool.system_tool_name} - ${e.vendor.vendor_name}`,onChange:(e,a)=>{if(k([]),null===a)w({value:"",error:"Please select contract"});else{const e=i.filter(e=>e.id===a.id)[0].payments;k(e.filter(e=>"PENDING"===e.payment_status)),w({value:a.id,error:""})}},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Contract",variant:"outlined",size:"small",helperText:O.error,error:""!==O.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,openOnFocus:!0,options:I,getOptionLabel:e=>`${Object(Le.a)(new Date(e.start_period),["yyyy-MM-dd"])} - ${Object(Le.a)(new Date(e.end_period),["yyyy-MM-dd"])}`,onChange:(e,a)=>{if(null===a)L({value:"",error:"Please select payment period"});else{const e=I.filter(e=>e.id===a.id)[0];A({value:e.payment_fee,error:""}),D({value:Object(Le.a)(new Date(e.start_period),["yyyy-MM-dd"]),error:""}),W({value:Object(Le.a)(new Date(e.end_period),["yyyy-MM-dd"]),error:""}),L({value:a.id,error:""})}},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Period",variant:"outlined",size:"small",helperText:z.error,error:""!==z.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,disabled:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:j.value,placeholder:"Cost",label:"Cost",fullWidth:!0,helperText:j.error,error:""!==j.error})})),r.a.createElement(S.a,{container:!0,spacing:2},r.a.createElement(S.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",value:P.value,onChange:e=>{console.log("v",e),D("Invalid Date"==e||null==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(S.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",value:M.value,onChange:e=>{W("Invalid Date"==e||null==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:R.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:K,helperText:R.error,error:""!==R.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Je.a,{control:r.a.createElement(Xe.a,{checked:q,onChange:e=>{H(e.target.checked)},value:"vertical",color:"primary"}),label:"Is payment paid?"})),q&&r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"text",value:F.value,placeholder:"Payment Reference",label:"Payment Reference",fullWidth:!0,onChange:Y,helperText:F.error,error:""!==F.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{c(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:u.saving,variant:"contained",color:"primary",onClick:()=>{""===O.value?w({value:"",error:"Please select contract"}):""===z.value?L({value:"",error:"Please select period"}):""===R.value?N({value:"",error:"Please fulfill description"}):q&&""===F.value?V({value:"",error:"Please enter payment reference"}):J()},disableElevation:!0},u.saving?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(rt.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"License Status Renewal")),r.a.createElement(v.a,{className:a.btn,color:"primary",variant:"contained",size:"medium",startIcon:r.a.createElement(Ll.a,null),disableElevation:!0,onClick:()=>{c(!0)}},"Record License")),r.a.createElement(y.a,{style:{marginTop:20}}),u.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of Recorded Licenses",data:u.data,columns:$,options:ee})))})),Ml=t(848),Wl=t(849);const ql=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));var Ul=Object(_.c)((function(e){const a=ql(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),i=Va(),s=Ka(),c=Ya(),[u,d]=Object(l.useState)(!1),[m,E]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[g,b]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;console.log("accData",e.user.department.id),b(e),me({value:e.user.department.id,error:""}),w(e.access_token,e.user.department.id)},[]);const[h,O]=Object(l.useState)("No contracts requests available...."),w=(e,a)=>{const t=G.a.create((new Q).getHeaders(e));E({...m,loading:!0}),t.get(`${(new Q).CONTRACT}/department/${a}`).then((function(e){E({...m,loading:!1});const a=e.data;if(0==a.data.length)O("There are no license requests available.");else{var t=a.data;t.map(e=>{e.start_date=""+Object(Le.a)(new Date(e.start_date),"yyyy/MM/dd"),e.end_date=""+Object(Le.a)(new Date(e.end_date),"yyyy/MM/dd"),e.vendor=e.vendor.vendor_name,e.department_name=""+e.department.name,e.annual_license_fees=`${e.currency} ${e.annual_license_fees}`}),E({...m,data:t}),O("Licenses loaded")}})).catch((function(e){var a,t;E({...m,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),O(l),ye(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[j,A]=Object(l.useState)({value:"",error:""}),[N,I]=Object(l.useState)({value:"",error:""}),[k,z]=Object(l.useState)({value:"",error:""}),[L,P]=Object(l.useState)({value:"",error:""}),[D,M]=Object(l.useState)({value:"",error:""}),[W,q]=Object(l.useState)({value:Object(Le.a)(new Date,["yyyy-MM-dd"]),error:""}),[H,F]=Object(l.useState)({value:Object(Le.a)(new Date,["yyyy-MM-dd"]),error:""}),[V,Y]=Object(l.useState)({value:"",error:""}),[K,J]=Object(l.useState)({value:"",error:""}),[X,Z]=Object(l.useState)({value:"",error:""}),[ae,le]=Object(l.useState)({value:null,error:""}),[re,se]=Object(l.useState)({value:0,error:""}),[ue,me]=Object(l.useState)({value:"",error:""}),ve=e=>{""===e.target.value?se({value:"",error:"Please specify users, or 0(not applicable)"}):se({value:e.target.value,error:""})},pe=e=>{""===e.target.value?z({value:"",error:"Please enter annual fees"}):z({value:e.target.value,error:""})},Ee=e=>{le({value:e.target.value,error:""})},ge=()=>{const e=G.a.create((new Q).getHeaders(g.token));E({...m,saving:!0});const a=[];a.push(K.value);const t={vendor:D.value,contract_number:ae.value,annual_license_fees:parseFloat(k.value),start_date:W.value,end_date:H.value,description:L.value,currency:V.value,payment_frequency:N.value,system_tools:a,department:parseInt(ue.value),number_system_users:parseInt(re.value)};e.post((new Q).CONTRACT,t).then((function(e){E({...m,saving:!1});var a=e.data,t=m.data;const l=a.data;l.start_date=""+Object(Le.a)(new Date(l.start_date),"yyyy/MM/dd"),l.end_date=""+Object(Le.a)(new Date(l.end_date),"yyyy/MM/dd"),l.vendor=l.vendor.vendor_name,l.department_name=""+l.department.name,l.annual_license_fees=`${l.currency} ${l.annual_license_fees}`,t.unshift(l),E({...m,data:t}),be(),ye("success",e.data.message),d(!1)})).catch((function(e){var a,t;E({...m,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),ye(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},be=()=>{A({value:"",error:""}),I({value:"",error:""}),z({value:"",error:""}),P({value:"",error:""})},ye=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},[fe,he]=Object(l.useState)(null),[Se,Oe]=(Boolean(fe),Object(l.useState)({value:"",error:""})),Ce=[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"department_name",label:"Department",options:{filter:!1,sort:!0}},{name:"contract_number",label:"Contract No",options:{filter:!1,sort:!0}},{name:"vendor",label:"Vendor",options:{filter:!1,sort:!0}},{name:"payment_frequency",label:"Payment Frequency",options:{filter:!1,sort:!1}},{name:"annual_license_fees",label:"Annual License Fees",options:{filter:!1,sort:!1}},{name:"approval_status",label:"Approval Status",options:{filter:!0,sort:!1,customBodyRenderLite:function(e,a){var t;return r.a.createElement(Ke.a,{avatar:r.a.createElement(de.a,null,"approved"===m.data[e].approval_status.toLowerCase()?r.a.createElement($e.a,{fontSize:"small"}):r.a.createElement(ea.a,{fontSize:"small"})),variant:"outlined",color:"approved"===m.data[e].approval_status.toLowerCase()?"primary":"default",size:"small",label:ra(null===(t=m.data[e])||void 0===t?void 0:t.approval_status)})}}},{name:"number_system_users",label:"No of Users",options:{filter:!0,sort:!0}},{name:"start_date",label:"Start Date",options:{filter:!0,sort:!0}},{name:"end_date",label:"End Date",options:{filter:!0,sort:!0}}],xe={filterType:"multiselect",elevation:0,selectableRows:!1,searchPlaceholder:"Search user...",selectableRowsOnClick:!0,fixedHeader:!0,onCellClick:(e,a)=>{var t=m.data[a.dataIndex];console.log("Contract",t),"PENDING"!==t.approval_status?o.push("contractDetails",t):ye("info","Contract still pending...",400)},searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:h}}},[we,Te]=Object(l.useState)(!1),[_e,je]=Object(l.useState)({value:"",error:""}),[Ae,Re]=Object(l.useState)([]),[Ne,Ie]=Object(l.useState)({value:"",error:""}),[ke,Pe]=Object(l.useState)(!1),[De,Me]=Object(l.useState)({value:"",error:""}),[We,qe]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),Ue=e=>{Me({value:e.target.value,error:""})},Ge=e=>{""===e.target.value?P({value:"",error:"Please enter valid description"}):P({value:e.target.value,error:""})},Be=()=>{var e;const a=G.a.create((new Q).getHeaders(g.token));qe({...We,saving:!0});const t={description:L.value,start_date:W.value,end_date:H.value,payment_reference:De.value,period_cost:_e.value,payment_status:ke?"PAID":"PENDING",payment_period:Ne.value,user:null===g||void 0===g||null===(e=g.user)||void 0===e?void 0:e.id};a.post((new Q).RECORD_LICENSE,t).then((function(e){qe({...We,saving:!1}),He(),ye("success",e.data.message),w(g.access_token),Te(!1)})).catch((function(e){var a,t;qe({...We,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),ye(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},He=()=>{Oe({value:"",error:""}),je({value:"",error:""}),P({value:"",error:""}),ba({value:"",error:""})},[Fe,Ve]=Object(l.useState)(!1),[Ye,Qe]=Object(l.useState)([]),[aa,la]=Object(l.useState)(!1),[na,oa]=Object(l.useState)([]),[ia,sa]=Object(l.useState)(null),ca=()=>{sa(null)},ua=Boolean(ia),da=ua?"simple-popover":void 0,[ga,ba]=Object(l.useState)({value:"",error:""}),[ya,fa]=Object(l.useState)(!1),ha=e=>{""===e.target.value?ba({value:"",error:"Please enter valid name"}):ba({value:e.target.value,error:""})};return r.a.createElement(il.a,{utils:ol.a},r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:u,maxWidth:"sm",fullWidth:!0,onClose:()=>{d(!1)}},r.a.createElement(oe.a,{id:"new-op"},"New Contract"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,openOnFocus:!0,options:i,getOptionLabel:e=>e.vendor_name,onChange:(e,a)=>{M(null===a?{value:"",error:"Please select vendor"}:{value:a.id,error:""})},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Vendor",variant:"outlined",size:"small",helperText:D.error,error:""!==D.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",type:"text",value:ae.value,placeholder:"Contract Number",label:"Contract Number",fullWidth:!0,onChange:Ee,helperText:ae.error,error:""!==ae.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,openOnFocus:!0,options:c,getOptionLabel:e=>e.system_tool_name,onChange:(e,a)=>{J(null===a?{value:"",error:"Please select system tool"}:{value:a.id,error:""})},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"System/Tool",variant:"outlined",size:"small",helperText:K.error,error:""!==K.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,disabled:!0,openOnFocus:!0,defaultValue:s[s.findIndex(e=>e.id==g.user.department.id)],options:s,getOptionLabel:e=>e.name,onChange:(e,a)=>{me(null===a?{value:"",error:"Please select department"}:{value:a.id,error:""})},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Department",variant:"outlined",size:"small",helperText:ue.error,error:""!==ue.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:a.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==N.error},r.a.createElement(va.a,{id:"type"},"Payment Frequency"),r.a.createElement(pa.a,{label:"Payment Frequency",value:N.value,onChange:e=>{""===e.target.value?I({value:"",error:"Please select license period"}):I({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"MONTH"},"Monthly"),r.a.createElement(R.a,{value:"YEAR"},"Yearly")),r.a.createElement(Ea.a,null,N.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:k.value,placeholder:"Annual License Fees",label:"Annual License Fees",fullWidth:!0,onChange:pe,helperText:k.error,error:""!==k.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:re.value,placeholder:"System Users",label:"System Users",fullWidth:!0,onChange:ve,helperText:re.error,error:""!==re.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:V.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==V.error},r.a.createElement(va.a,{id:"type"},"Currency"),r.a.createElement(pa.a,{label:"Currency",value:V.value,onChange:e=>{""===e.target.value?Y({value:"",error:"Please select currency"}):Y({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"USD"},"USD"),r.a.createElement(R.a,{value:"RWF"},"RWF"),r.a.createElement(R.a,{value:"EURO"},"EURO")),r.a.createElement(Ea.a,null,V.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",label:"Start Date",value:W.value,onChange:e=>{q("Invalid Date"==e||null==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",label:"End Date",value:H.value,onChange:e=>{F("Invalid Date"==e||null==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",type:"text",value:X.value,placeholder:"Document Link",label:"Document Link",fullWidth:!0,onChange:e=>{Z({value:e.target.value,error:""})}})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:L.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:Ge,helperText:L.error,error:""!==L.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{d(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:m.saving,variant:"contained",color:"primary",onClick:()=>{""===L.value?P({value:"",error:"Please fulfill description"}):""===N.value?I({value:"",error:"Please select license period"}):""===k.value?I({value:"",error:"Please enter license period count"}):""===ue.value?me({value:"",error:"Please select department"}):ge()},disableElevation:!0},m.saving?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(ne.a,{open:we,maxWidth:"sm",fullWidth:!0,onClose:()=>{Te(!1)}},r.a.createElement(oe.a,{id:"new-op"},"License Renewal"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,openOnFocus:!0,options:Ae,getOptionLabel:e=>`${Object(Le.a)(new Date(e.start_period),["yyyy-MM-dd"])} - ${Object(Le.a)(new Date(e.end_period),["yyyy-MM-dd"])}`,onChange:(e,a)=>{if(null===a)Ie({value:"",error:"Please select payment period"});else{const e=Ae.filter(e=>e.id===a.id)[0];je({value:e.payment_fee,error:""}),q({value:Object(Le.a)(new Date(e.start_period),["yyyy-MM-dd"]),error:""}),F({value:Object(Le.a)(new Date(e.end_period),["yyyy-MM-dd"]),error:""}),Ie({value:a.id,error:""})}},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Period",variant:"outlined",size:"small",helperText:Ne.error,error:""!==Ne.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,disabled:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:_e.value,placeholder:"Cost",label:"Cost",fullWidth:!0,helperText:_e.error,error:""!==_e.error})})),r.a.createElement(S.a,{container:!0,spacing:2},r.a.createElement(S.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",value:W.value,onChange:e=>{q("Invalid Date"==e||null==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(S.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",value:H.value,onChange:e=>{F("Invalid Date"==e||null==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:L.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:Ge,helperText:L.error,error:""!==L.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Je.a,{control:r.a.createElement(Xe.a,{checked:ke,onChange:e=>{Pe(e.target.checked)},value:"vertical",color:"primary"}),label:"Is payment paid?"})),ke&&r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"text",value:De.value,placeholder:"Payment Reference",label:"Payment Reference",fullWidth:!0,onChange:Ue,helperText:De.error,error:""!==De.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{Te(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:We.saving,variant:"contained",color:"primary",onClick:()=>{""===Se.value?Oe({value:"",error:"Please select contract"}):""===Ne.value?Ie({value:"",error:"Please select period"}):""===L.value?P({value:"",error:"Please fulfill description"}):ke&&""===De.value?Me({value:"",error:"Please enter payment reference"}):Be()},disableElevation:!0},We.saving?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(ne.a,{open:Fe,maxWidth:"sm",fullWidth:!0,onClose:()=>{Ve(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Payment Reports"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement($.a,null,Ye.map(e=>r.a.createElement(ee.a,null,r.a.createElement(qa.a,null,r.a.createElement(de.a,null,r.a.createElement(ll.a,null))),r.a.createElement(te.a,{primary:Object(Le.a)(new Date(e.start_period),"yyyy/MM/dd")+" To "+Object(Le.a)(new Date(e.end_period),"yyyy/MM/dd"),secondary:"$"+e.payment_fee}),r.a.createElement(Aa.a,null,r.a.createElement(Ke.a,{label:e.payment_status,color:"PAID"===e.payment_status?"primary":"secondary",onDelete:()=>{},deleteIcon:"PAID"===e.payment_status?r.a.createElement(rl.a,null):r.a.createElement(nl.a,{fontSize:"small"})}))))))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{Ve(!1)},variant:"outlined",color:"primary"},"Close"))),r.a.createElement(ne.a,{open:aa,maxWidth:"sm",fullWidth:!0,onClose:()=>{la(!1)}},r.a.createElement(oe.a,{id:"new-op"},r.a.createElement(y.a,{style:{display:"flex"}},r.a.createElement(f.a,{variant:"h6",style:{flexGrow:1}},"Contract Components"),r.a.createElement(v.a,{variant:"contained",disableElevation:!0,style:{textTransform:"capitalize"},color:"primary",startIcon:r.a.createElement(Ml.a,null),onClick:e=>{console.log("clicked"),sa(e.currentTarget)}},"Add"),r.a.createElement(Ta.a,{id:da,open:ua,variant:"outlined",anchorEl:ia,onClose:ca,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},elevation:1},r.a.createElement(y.a,{style:{padding:5}},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(f.a,null,"Add Contract Component")),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"text",value:ga.value,placeholder:"Name",label:"Name",fullWidth:!0,onChange:ha,helperText:ga.error,error:""!==ga.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",multiline:!0,rows:6,color:"primary",type:"text",value:L.value,placeholder:"Description",label:"Description",fullWidth:!0,onChange:Ge,helperText:L.error,error:""!==L.error})})),r.a.createElement(S.a,{spacing:1,container:!0},r.a.createElement(S.a,{item:!0},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",label:"Start Date",value:W.value,onChange:e=>{q("Invalid Date"===e||null===e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(S.a,{item:!0},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",label:"Expiry Date",value:H.value,onChange:e=>{F("Invalid Date"===e||null===e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(v.a,{variant:"contained",disableElevation:!0,style:{textTransform:"capitalize"},color:"primary",onClick:e=>{(()=>{if(""===ga.value)ba({value:"",error:"Please enter valid email"});else if(""===L.value)P({value:"",error:"Please fulfill description"});else{fa(!0);const e=G.a.create((new Q).getHeaders(g.token)),a={name:ga.value,contract_id:Se.value,description:L.value,start_date:W.value,expiry_date:H.value};e.post((new Q).CONTRACT+"/component",a).then((function(e){var a;const t=na;t.unshift(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data),oa(t),fa(!1),ca(),He(),ye("success",e.data.message)})).catch((function(e){var a,t,l=e.message;e.response&&(l=e.response.data.message),ye(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))}})()}},ya?r.a.createElement(x.a,null):"Save")))))),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement($.a,null,na.map(e=>r.a.createElement(ee.a,null,r.a.createElement(qa.a,null,r.a.createElement(Wl.a,null)),r.a.createElement(te.a,{primary:e.name,secondary:Object(Le.a)(new Date(e.start_date),"yyyy/MM/dd")+" To "+Object(Le.a)(new Date(e.expiry_date),"yyyy/MM/dd")}),r.a.createElement(Aa.a,null))),0===na.length&&r.a.createElement(f.a,null,"No contract components available")))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{la(!1)},variant:"outlined",color:"primary"},"Close"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(Ct.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"License Contracts")),r.a.createElement(v.a,{className:a.btn,color:"primary",variant:"contained",size:"medium",startIcon:r.a.createElement(ta.a,null),disableElevation:!0,onClick:()=>{d(!0)}},"New Contract")),r.a.createElement(y.a,{style:{marginTop:20}}),m.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of License Contracts",data:m.data,columns:Ce,options:xe})))})),Gl=t(850),Bl=t(851);const Hl=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));var Fl=Object(_.c)((function(e){const a=Hl(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),[i,s]=Object(l.useState)(!1),[c,u]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[d,m]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e,a,t=(new Q).accountData;m(t),console.log("accData",t),b(t.access_token,null===t||void 0===t||null===(e=t.user)||void 0===e||null===(a=e.department)||void 0===a?void 0:a.id)},[]);const[E,g]=Object(l.useState)("No certificates requests available...."),b=(e,a)=>{const t=G.a.create((new Q).getHeaders(e));u({...c,loading:!0}),t.get(`${(new Q).CERTIFICATES}/department/${a}`).then((function(e){u({...c,loading:!1});const a=e.data;0==a.data.length?g("There are no certificates available."):(u({...c,data:a.data}),g("Certificates loaded"))})).catch((function(e){var a,t;u({...c,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),g(l),H(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[h,S]=Object(l.useState)({value:"",error:""}),[O,w]=Object(l.useState)({value:Object(Le.a)(new Date,["yyyy-MM-dd"]),error:""}),[j,A]=Object(l.useState)({value:Object(Le.a)(new Date,["yyyy-MM-dd"]),error:""}),[N,I]=Object(l.useState)({value:"",error:""}),[k,z]=Object(l.useState)({value:"",error:""}),[L,P]=Object(l.useState)({value:"",error:""}),D=e=>{""===e.target.value?z({value:"",error:"Please specify user or organization"}):z({value:e.target.value,error:""})},M=e=>{""===e.target.value?I({value:"",error:"Please enter certificate name"}):I({value:e.target.value,error:""})},W=()=>{var e,a;const t=G.a.create((new Q).getHeaders(d.token));u({...c,saving:!0});const l={certificate_name:N.value,user_organization:k.value,description:h.value,department_id:parseInt(null===d||void 0===d||null===(e=d.user)||void 0===e||null===(a=e.department)||void 0===a?void 0:a.id),issue_date:O.value,expiration_date:j.value,certificate_type:L.value};t.post((new Q).CERTIFICATES,l).then((function(e){u({...c,saving:!1});var a=e.data,t=c.data;t.unshift(a.data),u({...c,data:t}),q(),H("success",e.data.message),s(!1)})).catch((function(e){var a,t;u({...c,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),H(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},q=()=>{S({value:"",error:""})},H=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},[F,V]=Object(l.useState)(null),Y=Boolean(F),K=Y?"simple-popover":void 0,J=()=>{V(null)},X=[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"certificate",label:"Certificate",options:{filter:!1,sort:!0}},{name:"certificate_type",label:"Certificate Type",options:{filter:!1,sort:!0}},{name:"user_organization",label:"User / Organization",options:{filter:!1,sort:!0}},{name:"description",label:"Description",options:{filter:!1,sort:!0}},{name:"created_at",label:"Created At",options:{filter:!1,sort:!1}},{name:"id",label:"Actions",options:{filter:!0,sort:!0,customBodyRender:(e,a,t)=>{const l=c.data.find(a=>a.id==e);return console.log("obj",l),console.log("value",e),r.a.createElement(y.a,null,r.a.createElement(p.a,{"aria-label":"delete",onClick:e=>{Ee(null===l||void 0===l?void 0:l.id),V(e.currentTarget)}},r.a.createElement(ya.a,null)),r.a.createElement(Ta.a,{id:K,open:Y,variant:"outlined",anchorEl:F,onClose:J,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},elevation:1},r.a.createElement(y.a,{p:2},r.a.createElement($.a,{component:"nav","aria-label":"main mailbox folders"},r.a.createElement(ee.a,{button:!0,onClick:()=>{de(!0),ge(pe),J()}},r.a.createElement(ae.a,null,r.a.createElement(Gl.a,null)),r.a.createElement(te.a,{primary:"Reports"})),r.a.createElement(ee.a,{button:!0,onClick:()=>{re(!0),J()}},r.a.createElement(ae.a,null,r.a.createElement(Bl.a,null)),r.a.createElement(te.a,{primary:"Renewal"}))))))}}}],Z={filterType:"multiselect",elevation:0,selectableRows:!1,searchPlaceholder:"Search user...",selectableRowsOnClick:!1,fixedHeader:!0,searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:E}}},[le,re]=Object(l.useState)(!1),se=e=>{""===e.target.value?S({value:"",error:"Please enter valid description"}):S({value:e.target.value,error:""})},[ue,de]=Object(l.useState)(!1),[me,ve]=Object(l.useState)([]),[pe,Ee]=Object(l.useState)(null),ge=e=>{const a=G.a.create((new Q).getHeaders(d.access_token));ve([]),a.get(`${(new Q).CERTIFICATES}/report/certificate/${e}`).then((function(e){const a=e.data;0==a.data.length||ve(a.data)})).catch((function(e){var a,t;ve([]);var l=e.message;e.response&&(l=e.response.data.message),H(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))};return r.a.createElement(il.a,{utils:ol.a},r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:i,maxWidth:"sm",fullWidth:!0,onClose:()=>{s(!1)}},r.a.createElement(oe.a,{id:"new-op"},"New Certificate"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"text",value:N.value,placeholder:"Certificate Name",label:"Certificate Name",fullWidth:!0,onChange:M,helperText:N.error,error:""!==N.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"text",value:k.value,placeholder:"User / Organization",label:"User / Organization",fullWidth:!0,onChange:D,helperText:k.error,error:""!==k.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",label:"Start Date",value:O.value,onChange:e=>{w("Invalid Date"==e||null==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",label:"Expiry Date",value:j.value,onChange:e=>{A("Invalid Date"==e||null==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:a.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==L.error},r.a.createElement(va.a,{id:"type"},"Certificate Type"),r.a.createElement(pa.a,{label:"Certificate Type",value:L.value,onChange:e=>{""===e.target.value?P({value:"",error:"Please select certificate type"}):P({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"SSL_CERTIFICATE"},"SSL CERTIFICATE"),r.a.createElement(R.a,{value:"RIPPS_CERTIFICATE"},"RIPPS CERTIFICATE")),r.a.createElement(Ea.a,null,L.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:h.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:se,helperText:h.error,error:""!==h.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{s(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:c.saving,variant:"contained",color:"primary",onClick:()=>{""===h.value?S({value:"",error:"Please fulfill description"}):""===N.value?I({value:"",error:"Please enter certificate name"}):""===k.value?z({value:"",error:"Please enter user/organization certificate"}):W()},disableElevation:!0},c.saving?r.a.createElement(x.a,{size:23}):"Add"))),r.a.createElement(ne.a,{open:le,maxWidth:"sm",fullWidth:!0,onClose:()=>{re(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Certificate Renewal"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",label:"Issue Date",value:O.value,onChange:e=>{console.log("vv",e),w("Invalid Date"==e||"Invalid time value"==e||null==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",label:"Expiry Date",value:j.value,onChange:e=>{A("Invalid Date"==e||"Invalid time value"==e||null==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:h.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:se,helperText:h.error,error:""!==h.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{re(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:c.saving,variant:"contained",color:"primary",onClick:()=>{(()=>{var e;const a=G.a.create((new Q).getHeaders(d.access_token)),t={certificate_id:parseInt(pe),issue_date:O.value,expiry_date:j.value,responsible:parseInt(null===d||void 0===d||null===(e=d.user)||void 0===e?void 0:e.id)};a.post((new Q).CERTIFICATES+"/report",t).then((function(e){H("success",e.data.message),re(!1)})).catch((function(e){var a,t,l=e.message;e.response&&(l=e.response.data.message),H(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))})()},disableElevation:!0},c.saving?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(ne.a,{open:ue,maxWidth:"sm",fullWidth:!0,onClose:()=>{de(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Certificate Renewals Report"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement($.a,null,me.map(e=>r.a.createElement(ee.a,null,r.a.createElement(qa.a,null,r.a.createElement(Pt.a,{fontSize:"large"})),r.a.createElement(te.a,{primary:Object(Le.a)(new Date(e.issue_date),"yyyy/MM/dd")+" To "+Object(Le.a)(new Date(e.expiry_date),"yyyy/MM/dd"),secondary:`${e.certificate_id.certificate} ::  ${e.certificate_id.user_organization}`}))),0===me.length&&r.a.createElement(ee.a,null,r.a.createElement(te.a,null,"No Certificate Reports Available!"))))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{de(!1)},variant:"outlined",color:"primary"},"Close"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(bl.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"Certificates")),r.a.createElement(v.a,{className:a.btn,color:"primary",variant:"contained",size:"medium",startIcon:r.a.createElement(ta.a,null),disableElevation:!0,onClick:()=>{s(!0)}},"New Certificate")),r.a.createElement(y.a,{style:{marginTop:20}}),c.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of Certificates",data:c.data,columns:X,options:Z})))})),Vl=t(853),Yl=t(854),Ql=t(855),Kl=t(856),Jl=t(857),Xl=t(858),Zl=t(352),$l=t.n(Zl);const er=t(32),ar=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15},avatar:{height:100,width:100}}));function tr(e){const{toggleDevice:a,displayData:t,selectedRows:l,openEdit:n,setMetricType:o}=e;return r.a.createElement("div",null,r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(la.a,null),onClick:()=>{var e,a;n(null===(e=t[null===l||void 0===l||null===(a=l.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0]),o("TOOL")}},"Set Metric")))}function lr(e){const{toggleDevice:a,displayData:t,selectedRows:l,openEdit:n,setMetricType:o}=e;return r.a.createElement("div",null,r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(la.a,null),onClick:()=>{var e,a;n(null===(e=t[null===l||void 0===l||null===(a=l.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0]),o("COMPONENT")}},"Set Metric")))}var rr=Object(_.c)((function(e){var a,t,n,o;const i=ar(),s=Object(B.f)(),c=(Object(Te.a)(),Ya()),u=function(){const[e,a]=Object(l.useState)([]);Object(l.useEffect)(()=>{var a=(new Q).accountData;0===e.length&&t(a.token)},[e]);const t=e=>{G.a.create((new Q).getHeaders(e)).get((new Q).METRICS).then((function(e){const t=e.data.data;a(t)})).catch((function(e){}))};return e}(),{enqueueSnackbar:d,closeSnackbar:m}=Object(U.b)(),[E,g]=Object(l.useState)({}),[b,h]=Object(l.useState)(!1),[w,A]=Object(l.useState)(!1),[N,I]=Object(l.useState)(!1),[k,z]=Object(l.useState)({loading:!1,saving:!1,status:"No data available",data:[]}),[L,P]=Object(l.useState)({loading:!1,saving:!1,status:"No data available",toggling:!1,data:[],allData:[]}),[D,M]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,status:"No data available",data:[]}),[W,q]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,status:"Loading agent transactions",data:[]}),[H,F]=Object(l.useState)({saving:!1,loading:!1,data:{}}),[V,Y]=Object(l.useState)(0);Object(l.useEffect)(()=>{var e=(new Q).accountData;g(e),le(e.access_token,s.location.state.id)},[]);const[K,J]=Object(l.useState)({}),[X,Z]=Object(l.useState)({}),le=(e,a)=>{er.create((new Q).getHeaders(e)).get(`${(new Q).CONTRACT}/${a}`).then((function(e){let a=e.data;const t=[];a.data.toolsMetrics.map(e=>{t.push({contract_system_tool_metric_id:e.contract_system_tool_metric_id,price:e.price,currency:e.currency,issue_date:e.issue_date,expire_date:e.expire_date,created_at:e.created_at,updated_at:e.updated_at,system_tool:e.system_tool,contract:e.contract,host_server:e.host_server||"No Host",entitlement:e.entitlement||"-",utilisation:e.utilisation||"-",license_gap:e.license_gap||"-",contract_system_tool:e.contract_system_tool,metric:e.metric||"-",comment:e.comment||"-",system_tool_name:e.system_tool_name,description:e.description,department:e.department,name:e.name||"No Metric"})});const l=[];a.data.componentMetrics.map(e=>{l.push({id:e.id,name:e.name,description:e.description,start_date:e.start_date,expiry_date:e.expiry_date,created_at:e.created_at,updated_at:e.updated_at,contract:e.contract,host_server:e.host_server||"No Host",entitlement:e.entitlement||"-",utilisation:e.utilisation||"-",license_gap:e.license_gap||"-",component:e.component||"-",comment:e.comment||"-",metric_id:e.metric_id||"-",metric_name:e.metric_name||"-",component_metric_id:e.component_metric_id||"-"})}),a.data.tools=t,a.data.components=l;const r=(n=a.data.tools,o="comment",n.reduce((function(e,a){return(e[a[o]]=e[a[o]]||[]).push(a),e}),{}));var n,o;console.log("groupDataTools",null===r||void 0===r?void 0:r.keys),Z(r),console.log(X),J(a.data)})).catch((function(e){var a,t,l=e.message;e.response&&(l=e.response.data.message),pe(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},re=[{name:"reminder_date",label:"Reminder Date",options:{filter:!1,sort:!0,customBodyRender:e=>r.a.createElement("span",null,Object(Le.a)(new Date(e),["yyyy-MM-dd"]))}},{name:"description",label:"Description",options:{filter:!1,sort:!1}}],se=[{name:"contract_system_tool_metric_id",label:"Metric Id",options:{filter:!1,sort:!1,display:!1}},{name:"system_tool_name",label:"Product",options:{filter:!0,sort:!0}},{name:"price",label:"Price",options:{filter:!1,sort:!1}},{name:"name",label:"Metric",options:{filter:!1,sort:!1}},{name:"entitlement",label:"Entitlement",options:{filter:!1,sort:!1}},{name:"utilisation",label:"Utilisation",options:{filter:!1,sort:!1}},{name:"license_gap",label:"License Gap",options:{filter:!1,sort:!1,customBodyRender:e=>{const a=e>=0?"#000000":"#BF0000";return r.a.createElement("span",{style:{color:""+a}},e)}}},{name:"comment",label:"Comment",options:{filter:!1,sort:!1}},{name:"issue_date",label:"Issue Date",options:{filter:!1,sort:!1,customBodyRender:e=>r.a.createElement("span",null,Object(Le.a)(new Date(e),["yyyy-MM-dd"]))}},{name:"expire_date",label:"Expire Date",options:{filter:!1,sort:!1,customBodyRender:e=>r.a.createElement("span",null,Object(Le.a)(new Date(e),["yyyy-MM-dd"]))}}],ue=[{name:"component_metric_id",label:"Metric ID",options:{filter:!1,sort:!1,display:!1}},{name:"name",label:"Component Name",options:{filter:!1,sort:!1}},{name:"metric_name",label:"Metric",options:{filter:!1,sort:!1}},{name:"entitlement",label:"Entitlement",options:{filter:!1,sort:!1}},{name:"utilisation",label:"Utilisation",options:{filter:!1,sort:!1}},{name:"license_gap",label:"License Gap",options:{filter:!1,sort:!1}},{name:"comment",label:"Comment",options:{filter:!1,sort:!1}},{name:"start_date",label:"Start Date",options:{filter:!1,sort:!1,customBodyRender:e=>r.a.createElement("span",null,Object(Le.a)(new Date(e),["yyyy-MM-dd"]))}},{name:"expiry_date",label:"Expiry Date",options:{filter:!1,sort:!1,customBodyRender:e=>r.a.createElement("span",null,Object(Le.a)(new Date(e),["yyyy-MM-dd"]))}},{name:"description",label:"Description",options:{filter:!1,sort:!1}}],de={filterType:"multiselect",elevation:0,selectableRows:!1,searchPlaceholder:"Search agent...",selectableRowsOnClick:!1,fixedHeader:!0,searchProps:{variant:"outlined",margin:"dense"},textLabels:{body:{noMatch:D.status}}},me={filterType:"multiselect",elevation:0,selectableRows:"single",searchPlaceholder:"Search device...",selectableRowsOnClick:!0,fixedHeader:!0,print:!1,download:!1,viewColumns:!1,searchProps:{variant:"outlined",margin:"dense"},textLabels:{body:{noMatch:"No data"}},customToolbarSelect:(e,a,t)=>r.a.createElement(tr,{selectedRows:e,displayData:a,setSelectedRows:t,toggleDevice:()=>{},setMetricType:la,openEdit:ya,toggling:L.toggling})},ve={filterType:"multiselect",elevation:0,selectableRows:"single",searchPlaceholder:"Search outlet...",selectableRowsOnClick:!0,fixedHeader:!0,print:!1,download:!1,viewColumns:!1,searchProps:{variant:"outlined",margin:"dense"},textLabels:{body:{noMatch:k.status}},customToolbarSelect:(e,a,t)=>r.a.createElement(lr,{selectedRows:e,displayData:a,setSelectedRows:t,toggleDevice:()=>{},setMetricType:la,openEdit:fa,toggling:L.toggling})},pe=(e,a,t)=>{401==t&&s.push("/",{expired:!0}),d(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{m(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},[Ee,ge]=Object(l.useState)(!1),[be,ye]=Object(l.useState)({value:"",error:""}),[fe,he]=Object(l.useState)({value:Object(Le.a)(new Date,["yyyy-MM-dd"]),error:""}),[Se,Oe]=Object(l.useState)({value:Object(Le.a)(new Date,["yyyy-MM-dd"]),error:""}),[Ce,xe]=Object(l.useState)({value:"",error:""}),[we,_e]=Object(l.useState)({value:"",error:""}),[je,Ae]=Object(l.useState)(!1),[Re,Ne]=Object(l.useState)({value:[],error:""}),ke=(e,a)=>{if(console.log("value",a),a.length>0){let e=[];for(const t of a)e.push(t.id);Ne({value:e,error:""})}},Pe=()=>{ye({value:"",error:""}),he({value:Object(Le.a)(new Date,["yyyy-MM-dd"]),error:""}),Oe({value:Object(Le.a)(new Date,["yyyy-MM-dd"]),error:""}),xe({value:"",error:""}),_e({value:"",error:""})},[De,Me]=Object(l.useState)(!1),[We,qe]=Object(l.useState)({value:"",error:""}),[Ue,Ge]=Object(l.useState)(!1),[Be,He]=Object(l.useState)({value:"",error:""}),Fe=e=>{""===e.target.value?qe({value:"",error:"Please enter valid name"}):qe({value:e.target.value,error:""})},Ve=e=>{""===e.target.value?He({value:"",error:"Please enter valid description"}):He({value:e.target.value,error:""})},Ye=()=>{qe({value:"",error:""}),He({value:"",error:""}),he({value:Object(Le.a)(new Date,["yyyy-MM-dd"]),error:""}),Oe({value:Object(Le.a)(new Date,["yyyy-MM-dd"]),error:""})},[Qe,Ke]=Object(l.useState)(!1),[Je,Xe]=Object(l.useState)(!1),[$e,ea]=Object(l.useState)({value:Object(Le.a)(new Date,["yyyy-MM-dd"]),error:""}),[aa,la]=Object(l.useState)(""),[ra,na]=Object(l.useState)(!1),[oa,ia]=Object(l.useState)({value:0,error:""}),[sa,ca]=Object(l.useState)({value:0,error:""}),[ua,da]=Object(l.useState)({value:"",error:""}),[ga,ba]=Object(l.useState)(0),ya=e=>{ia({value:0,error:""}),ca({value:0,error:""}),da({value:"",error:""});const a=K.toolsMetrics.find(a=>a.contract_system_tool_metric_id===e);null!==a.contract_system_tool_metric_id&&(ba(e),ia({value:a.utilisation,error:""}),ca({value:a.entitlement,error:""}),da({value:a.comment||"",error:""}),na(!0))},fa=e=>{ia({value:0,error:""}),ca({value:0,error:""}),da({value:"",error:""}),console.log("components",K.componentMetrics);const a=K.componentMetrics.find(a=>a.component_metric_id===e);console.log("component",a),null!==a.component_metric_id&&(ba(e),ia({value:a.utilisation,error:""}),ca({value:a.entitlement,error:""}),da({value:a.comment||"",error:""}),na(!0))},[Sa,Oa]=Object(l.useState)(!1);return r.a.createElement(il.a,{utils:ol.a},r.a.createElement("div",{className:i.root},r.a.createElement(ne.a,{open:Ee,maxWidth:"sm",fullWidth:!0,onClose:()=>{ge(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Add Product"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{fullWidth:!0,openOnFocus:!0,options:c,getOptionLabel:e=>e.system_tool_name,onChange:(e,a)=>{xe(null===a?{value:"",error:"Please select system tool"}:{value:a.id,error:""})},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Tool/System",variant:"outlined",size:"small",helperText:Ce.error,error:""!==Ce.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:be.value,placeholder:"Cost",label:"Cost",fullWidth:!0,onChange:e=>{0===e.target.value?ye({value:0,error:"Please enter valid amount"}):ye({value:e.target.value,error:""})},helperText:be.error,error:""!==be.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:we.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==we.error},r.a.createElement(va.a,{id:"type"},"Currency"),r.a.createElement(pa.a,{label:"Currency",value:we.value,onChange:e=>{""===e.target.value?_e({value:"",error:"Please select currency"}):_e({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"USD"},"USD"),r.a.createElement(R.a,{value:"RWF"},"RWF"),r.a.createElement(R.a,{value:"EURO"},"EURO")),r.a.createElement(Ea.a,null,we.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{multiple:!0,fullWidth:!0,openOnFocus:!0,options:u,getOptionLabel:e=>e.name,onChange:ke,renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Metric",variant:"outlined",size:"small",helperText:Re.error,error:""!==Re.error}))})),r.a.createElement(S.a,{container:!0,spacing:2},r.a.createElement(S.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",value:fe.value,onChange:e=>{he("Invalid Date"==e||null==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(S.a,{item:!0,lg:6,sm:6,xs:6},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",margin:"normal",value:Se.value,onChange:e=>{Oe("Invalid Date"==e||null==e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}}))))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{ge(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:je,variant:"contained",color:"primary",onClick:()=>{(()=>{if(be.value<=0)ye({value:0,error:"Please enter valid amount"});else if(""==Ce.value)xe({error:"Please select tool/system"});else{Ae(!0);const e=er.create((new Q).getHeaders(E.token)),a={price:parseInt(be.value),currency:we.value,issue_date:fe.value,expire_date:Se.value,metrics:Re.value};e.put(`${(new Q).CONTRACT}/addSystemTool/${K.id}/${Ce.value}`,a).then((function(e){Ae(!1),ge(!1),Pe(),le(E.token,K.id),pe("success",e.data.message)})).catch((function(e){var a,t;Ae(!1);var l=e.message;e.response&&(l=e.response.data.message),pe(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))}})()},disableElevation:!0},je?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(ne.a,{open:De,maxWidth:"sm",fullWidth:!0,onClose:()=>{Me(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Add Component"),r.a.createElement(ie.a,null,r.a.createElement(y.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"text",value:We.value,placeholder:"Name",label:"Name",fullWidth:!0,onChange:Fe,helperText:We.error,error:""!==We.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{multiple:!0,fullWidth:!0,openOnFocus:!0,options:u,getOptionLabel:e=>e.name,onChange:ke,renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Metric",variant:"outlined",size:"small",helperText:Re.error,error:""!==Re.error}))})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",multiline:!0,rows:6,color:"primary",type:"text",value:Be.value,placeholder:"Description",label:"Description",fullWidth:!0,onChange:Ve,helperText:Be.error,error:""!==Be.error})})),r.a.createElement(y.a,null,r.a.createElement(S.a,{spacing:1,container:!0},r.a.createElement(S.a,{item:!0},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",label:"Start Date",value:fe.value,onChange:e=>{he("Invalid Date"==e||null===e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(S.a,{item:!0},r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",label:"Expiry Date",value:Se.value,onChange:e=>{Oe("Invalid Date"==e||null===e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}}))))))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{style:{textTransform:"capitalize"},onClick:()=>{Me(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{variant:"contained",disabled:Ue,disableElevation:!0,style:{textTransform:"capitalize"},color:"primary",onClick:e=>{(()=>{if(""===We.value)qe({value:"",error:"Please enter valid email"});else if(""===Be.value)He({value:"",error:"Please fulfill description"});else{Ge(!0);const e=er.create((new Q).getHeaders(E.token)),a={name:We.value,contract_id:K.id,description:Be.value,start_date:fe.value,expiry_date:Se.value,metrics:Re.value};e.post((new Q).CONTRACT+"/component",a).then((function(e){Me(!1),Ge(!1),Ye(),le(E.token,K.id),pe("success",e.data.message)})).catch((function(e){var a,t,l=e.message;e.response&&(l=e.response.data.message),pe(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))}})()}},Ue?r.a.createElement(x.a,null):"Save"))),r.a.createElement(ne.a,{open:Qe,maxWidth:"sm",fullWidth:!0,onClose:()=>{Ke(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Add Reminder"),r.a.createElement(ie.a,null,r.a.createElement(y.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(sl.a,{fullWidth:!0,disableToolbar:!0,variant:"outlined",format:"MM/dd/yyyy",label:"Reminder Date",value:$e.value,onChange:e=>{ea("Invalid Date"==e||null===e?{value:"",error:e}:{value:Object(Le.a)(e,["yyyy-MM-dd"]),error:""})},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",multiline:!0,rows:6,color:"primary",type:"text",value:Be.value,placeholder:"Description",label:"Description",fullWidth:!0,onChange:Ve,helperText:Be.error,error:""!==Be.error})})))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{style:{textTransform:"capitalize"},onClick:()=>{Ke(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{variant:"contained",disabled:Je,disableElevation:!0,style:{textTransform:"capitalize"},color:"primary",onClick:e=>{(()=>{var e;const a={reminder_date:$e.value,description:Be.value,user:null===E||void 0===E||null===(e=E.user)||void 0===e?void 0:e.id};Xe(!0);er.create((new Q).getHeaders(E.token)).put(`${(new Q).CONTRACT}/reminder/${K.id}`,a).then((function(e){Ke(!1),Xe(!1),Ye(),le(E.token,K.id),pe("success",e.data.message)})).catch((function(e){var a,t,l=e.message;e.response&&(l=e.response.data.message),pe(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))})()}},Je?r.a.createElement(x.a,null):"Save"))),r.a.createElement(ne.a,{open:ra,maxWidth:"sm",fullWidth:!0,onClose:()=>{na(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Set Metric"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:sa.value,placeholder:"Entitlement",label:"Entitlement",fullWidth:!0,onChange:e=>{void 0===e.target.value||null===e.target.value?ca({value:0,error:"Please enter valid number"}):ca({value:e.target.value,error:""})},helperText:sa.error,error:""!==sa.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:oa.value,placeholder:"Utilisation",label:"Utilisation",fullWidth:!0,onChange:e=>{0===e.target.value?ia({value:0,error:"Please enter valid number"}):(ia({value:e.target.value,error:""}),sa.value-e.target.value<0?da({value:"Over utilised",error:""}):sa.value-e.target.value>0?da({value:"Under utilised",error:""}):sa.value-e.target.value===0&&da({value:"Optimised",error:""}))},helperText:oa.error,error:""!==oa.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",multiline:!0,rows:6,color:"primary",type:"text",value:ua.value,placeholder:"Comment",label:"Comment",fullWidth:!0,onChange:e=>{da({value:e.target.value,error:""})},helperText:ua.error,error:""!==ua.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{na(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:je,variant:"contained",color:"primary",onClick:()=>{"TOOL"===aa?(()=>{if(void 0!==sa.value&&null!==sa.value){Oa(!0);const e={entitlement:sa.value,utilisation:oa.value,comment:ua.value};er.create((new Q).getHeaders(E.token)).put(`${(new Q).TOOL_METRIC}${ga}`,e).then((function(e){le(E.token,K.id),Oa(!1),na(!1),pe("success",e.data.message)})).catch((function(e){var a,t;Oa(!1);var l=e.message;e.response&&(l=e.response.data.message),pe(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))}else ca({value:0,error:"Invalid value"})})():"COMPONENT"===aa&&(()=>{if(0!==sa.value){Oa(!0);const e={entitlement:sa.value,utilisation:oa.value,comment:ua.value};er.create((new Q).getHeaders(E.token)).put(`${(new Q).COMPONENT_METRIC}${ga}`,e).then((function(e){le(E.token,K.id),Oa(!1),na(!1),pe("success",e.data.message)})).catch((function(e){var a,t;Oa(!1);var l=e.message;e.response&&(l=e.response.data.message),pe(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))}else ca({value:0,error:"Invalid value"})})()},disableElevation:!0},Sa?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(S.a,{container:!0,spacing:2},r.a.createElement(S.a,{item:!0,xs:12,md:3},r.a.createElement(y.a,{p:3},r.a.createElement(y.a,{style:{display:"flex"}},r.a.createElement("img",{src:$l.a,className:i.avatar}),r.a.createElement(y.a,{style:{flexGrow:1}}),r.a.createElement(y.a,{ml:2})),r.a.createElement(y.a,{display:"flex",mt:1},r.a.createElement(y.a,null,r.a.createElement(f.a,{variant:"h5"},null===K||void 0===K||null===(a=K.vendor)||void 0===a?void 0:a.vendor_name,"'s Contract"),r.a.createElement(y.a,{mt:2},r.a.createElement(v.a,{className:i.btn,color:"inherit",size:"medium",startIcon:r.a.createElement(ta.a,null),disableElevation:!0,onClick:()=>ge(!0)},"Add Product")," ",r.a.createElement(y.a,{pt:2}),r.a.createElement(v.a,{className:i.btn,color:"inherit",size:"medium",startIcon:r.a.createElement(ta.a,null),disableElevation:!0,onClick:()=>Me(!0)},"Add Component"),r.a.createElement(y.a,{pt:2}),r.a.createElement(v.a,{className:i.btn,color:"inherit",size:"medium",startIcon:r.a.createElement(Vl.a,null),disableElevation:!0,onClick:()=>Ke(!0)},"New Reminder"))))),r.a.createElement($.a,null,H.loading?[1,2,3,4,5].map((e,a)=>r.a.createElement(ee.a,{key:a},r.a.createElement(te.a,{primary:r.a.createElement(ha.a,{variant:"text",width:"100%",style:{borderRadius:7}})}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(Yl.a,null)),r.a.createElement(te.a,{primary:"No:"}),r.a.createElement(Aa.a,null,r.a.createElement(f.a,{variant:"subtitle1",color:"textSecondary"},null===K||void 0===K?void 0:K.contract_number))),r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(ll.a,null)),r.a.createElement(te.a,{primary:"Total Fees:"}),r.a.createElement(Aa.a,null,r.a.createElement(f.a,{color:"primary"},r.a.createElement("b",null,null===K||void 0===K?void 0:K.annual_license_fees," ",null===K||void 0===K?void 0:K.currency)))),r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(Ql.a,null)),r.a.createElement(te.a,{primary:"Frequency:"}),r.a.createElement(Aa.a,null,r.a.createElement(f.a,{color:"primary"},r.a.createElement("b",null,null===K||void 0===K?void 0:K.payment_frequency)))),r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(Kl.a,null)),r.a.createElement(te.a,{primary:"Start Date:"}),r.a.createElement(Aa.a,null,r.a.createElement(f.a,{color:"primary"},r.a.createElement("b",null,null===K||void 0===K||null===(t=K.start_date)||void 0===t?void 0:t.split("T")[0])))),r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(Ie.a,null)),r.a.createElement(te.a,{primary:"End Date:"}),r.a.createElement(Aa.a,null,r.a.createElement(f.a,{color:"primary"},r.a.createElement("b",null,null===K||void 0===K||null===(n=K.end_date)||void 0===n?void 0:n.split("T")[0])))),r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(Jl.a,null)),r.a.createElement(te.a,{primary:"Contract Status:"}),r.a.createElement(Aa.a,null,r.a.createElement(f.a,{color:"primary"},r.a.createElement("b",null,null===K||void 0===K?void 0:K.contract_status)))),r.a.createElement(ee.a,null,r.a.createElement(ae.a,null,r.a.createElement(Xl.a,null)),r.a.createElement(te.a,{primary:"System Users:"}),r.a.createElement(Aa.a,null,r.a.createElement(f.a,{color:"primary"},r.a.createElement("b",null,null===K||void 0===K?void 0:K.number_system_users)))))))),r.a.createElement(S.a,{item:!0,xs:12,md:9},r.a.createElement(y.a,{style:{paddingTop:10,display:"flex",justifyContent:"center"}},r.a.createElement(j.a,{color:"primary"},r.a.createElement(v.a,{className:i.btn,size:"medium",variant:0==V?"contained":"outlined",disableElevation:!0,onClick:()=>Y(0)},"Tools/Systems"),r.a.createElement(v.a,{className:i.btn,variant:1==V?"contained":"outlined",size:"medium",disableElevation:!0,onClick:()=>Y(1)},"Components"),r.a.createElement(v.a,{className:i.btn,variant:2==V?"contained":"outlined",size:"medium",disableElevation:!0,onClick:()=>Y(2)},"Reminders"))),0==V?r.a.createElement(y.a,{style:{marginTop:"20px"}},r.a.createElement(S.a,{container:!0,spacing:1,style:{marginBottom:"10px"}},null===(o=Object.keys(X))||void 0===o?void 0:o.map(e=>r.a.createElement(S.a,{item:!0,xs:12,sm:6,lg:6},r.a.createElement(O.a,{elevation:0,className:i.paper},r.a.createElement(y.a,{width:1},r.a.createElement(y.a,{display:"flex",width:1},r.a.createElement(y.a,{flexGrow:1},r.a.createElement(f.a,{color:"textSecondary"},e))),r.a.createElement(y.a,{mt:1,mb:"4px",display:"flex",alignItems:"flex-end",justifyContent:"space-between",width:1},r.a.createElement(f.a,{color:"primary",align:"right"},r.a.createElement("b",null,X[e].length)))))))),r.a.createElement(ze.a,{title:"List of Tools/Product",data:null===K||void 0===K?void 0:K.tools,columns:se,options:me})):1==V?r.a.createElement(y.a,null,r.a.createElement(y.a,{style:{marginTop:"20px"}},r.a.createElement(ze.a,{title:"List of Components",data:null===K||void 0===K?void 0:K.components,columns:ue,options:ve}))):2==V?r.a.createElement(y.a,{style:{marginTop:"20px"}},D.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of Reminders",data:null===K||void 0===K?void 0:K.reminders,columns:re,options:de})):r.a.createElement(y.a,{style:{marginTop:"20px"}}))),r.a.createElement(y.a,{mt:3})))}));const nr=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1,marginLeft:"10px"},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));function or(e){var a,t;const{toggleUser:l,displayData:n,selectedRows:o,openReview:i}=e;var s="ENABLED"==n[null===o||void 0===o||null===(a=o.data[0])||void 0===a?void 0:a.index].data[5];return console.log("check",s),console.log(n[null===o||void 0===o||null===(t=o.data[0])||void 0===t?void 0:t.index].data[6]),r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(Xt.a,null),onClick:()=>{var e,a;return i(null===(e=n[null===o||void 0===o||null===(a=o.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])}},"Renewal License"))}var ir=Object(_.c)((function(e){const a=nr(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),[i,s]=Object(l.useState)(!1),[c,u]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[d,m]=Object(l.useState)(null),[E,g]=Object(l.useState)((new Date).getFullYear());Object(l.useEffect)(()=>{var e=(new Q).accountData;console.log("accData",e),m(e),S(e.access_token,(new Date).getFullYear(),e.user.id)},[]);const[b,h]=Object(l.useState)("No reports available...."),S=(e,a,t)=>{const l=G.a.create((new Q).getHeaders(e));u({...c,loading:!0}),l.get(`${(new Q).CERTIFICATE_REPORT}?year=${a}&user_id=${t}`).then((function(e){u({...c,loading:!1});const a=e.data;if(0==a.data.length)h("There are no reports available."),u({...c,data:[]});else{var t=a.data;u({...c,data:t}),h("Report Loaded")}})).catch((function(e){var a,t;u({...c,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),h(l),W(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[O,w]=Object(l.useState)({value:"",error:""}),[j,A]=Object(l.useState)({value:"",error:""}),[N,I]=Object(l.useState)({value:"",error:""}),[k,z]=Object(l.useState)({value:"",error:""}),[L,P]=Object(l.useState)({value:"",error:""}),D=e=>{""===e.target.value?P({value:"",error:"Please enter valid description"}):P({value:e.target.value,error:""})},M=e=>{""===e.target.value?I({value:"",error:"Please enter valid license period count"}):I({value:e.target.value,error:""})},W=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},q={filterType:"multiselect",elevation:0,selectableRows:!1,searchPlaceholder:"Search Report...",selectableRowsOnClick:!1,fixedHeader:!0,searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:b}},customToolbarSelect:(e,a,t)=>r.a.createElement(or,{selectedRows:e,displayData:a,setSelectedRows:t,toggleUser:()=>{},openReview:V,toggling:c.toggling})},[H,F]=Object(l.useState)(null),V=e=>{const a=c.data.filter(a=>a.organization_licenses_id==e)[0];F(a),console.log("request",a),s(!0)},Y=()=>{const e=G.a.create((new Q).getHeaders(d.token));u({...c,saving:!0});const a={license_id:H.license_id,organization_id:d.user.organization_id.id,license_period:j.value,license_period_count:parseInt(N.value),requested_by:d.user.id,request_type:"RENEWAL",description:L.value};e.post((new Q).LICENSE_REQUEST,a).then((function(e){u({...c,saving:!1}),A({value:"",error:""}),I({value:"",error:""}),z({value:"",error:""}),P({value:"",error:""}),W("success",e.data.message),s(!1)})).catch((function(e){var a,t;u({...c,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),W(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:i,maxWidth:"sm",fullWidth:!0,onClose:()=>{s(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Renewal License Request"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:a.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==k.error},r.a.createElement(va.a,{id:"type"},"License Period"),r.a.createElement(pa.a,{label:"License Period",value:j.value,onChange:e=>{""===e.target.value?A({value:"",error:"Please select license period"}):A({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"MONTH"},"MONTH"),r.a.createElement(R.a,{value:"YEAR"},"YEAR")),r.a.createElement(Ea.a,null,k.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:N.value,placeholder:"License Period Count",label:"License Period Count",fullWidth:!0,onChange:M,helperText:N.error,error:""!==N.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:L.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:D,helperText:L.error,error:""!==L.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{s(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:c.saving,variant:"contained",color:"primary",onClick:()=>{"'"===L.value?P({value:"",error:"Please fulfill description"}):"'"===j.value?A({value:"",error:"Please select license period"}):"'"===N.value?A({value:"",error:"Please enter license period count"}):Y()},disableElevation:!0},c.saving?r.a.createElement(x.a,{size:23}):"Request"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(bl.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"Certificate Report")),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{style:{width:"150px"},openOnFocus:!0,options:["2020","2021","2022","2023","2024","2025","2026","2027","2028","2029","2030"],getOptionLabel:e=>e,onChange:(e,a)=>{g(a),S(d.access_token,a,d.user.id)},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Year",variant:"outlined",size:"small"}))}))),r.a.createElement(y.a,{style:{marginTop:20}}),c.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{data:c.data,columns:[{name:"day_left",label:"Day(s) Left",options:{filter:!1,sort:!0}},{name:"name",label:"Certificate",options:{filter:!1,sort:!0}},{name:"certificates_certificate_type",label:"Certificate Type",options:{filter:!1,sort:!1}},{name:"issue_date",label:"Issue Date",options:{filter:!1,sort:!0}},{name:"expiry_date",label:"Expiry Date",options:{filter:!1,sort:!1}},{name:"certificates_user_organization",label:"Organization",options:{filter:!0,sort:!0}},{name:"certificates_description",label:"Description",options:{filter:!0,sort:!0}}],options:q}))}));const sr=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1,marginLeft:"10px"},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));function cr(e){var a,t;const{toggleUser:l,displayData:n,selectedRows:o,openReview:i}=e;var s="ENABLED"==n[null===o||void 0===o||null===(a=o.data[0])||void 0===a?void 0:a.index].data[5];return console.log("check",s),console.log(n[null===o||void 0===o||null===(t=o.data[0])||void 0===t?void 0:t.index].data[6]),r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(Xt.a,null),onClick:()=>{var e,a;return i(null===(e=n[null===o||void 0===o||null===(a=o.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])}},"Renewal License"))}var ur=Object(_.c)((function(e){const a=sr(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),[i,s]=Object(l.useState)(!1),[c,u]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[d,m]=Object(l.useState)(null),[E,g]=Object(l.useState)((new Date).getFullYear());Object(l.useEffect)(()=>{var e=(new Q).accountData;console.log("accData",e),m(e),S(e.access_token,(new Date).getFullYear(),e.user.department.id)},[]);const[b,h]=Object(l.useState)("No reports available...."),S=(e,a,t)=>{const l=G.a.create((new Q).getHeaders(e));u({...c,loading:!0}),l.get(`${(new Q).COMPONENT_REPORT}?year=${a}&department=${t}`).then((function(e){u({...c,loading:!1});const a=e.data;if(0==a.data.length)h("There are no reports available."),u({...c,data:[]});else{var t=a.data;u({...c,data:t}),h("Report Loaded")}})).catch((function(e){var a,t;u({...c,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),h(l),W(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[O,w]=Object(l.useState)({value:"",error:""}),[j,A]=Object(l.useState)({value:"",error:""}),[N,I]=Object(l.useState)({value:"",error:""}),[k,z]=Object(l.useState)({value:"",error:""}),[L,P]=Object(l.useState)({value:"",error:""}),D=e=>{""===e.target.value?P({value:"",error:"Please enter valid description"}):P({value:e.target.value,error:""})},M=e=>{""===e.target.value?I({value:"",error:"Please enter valid license period count"}):I({value:e.target.value,error:""})},W=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},q={filterType:"multiselect",elevation:0,selectableRows:!1,searchPlaceholder:"Search Report...",selectableRowsOnClick:!1,fixedHeader:!0,searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:b}},customToolbarSelect:(e,a,t)=>r.a.createElement(cr,{selectedRows:e,displayData:a,setSelectedRows:t,toggleUser:()=>{},openReview:V,toggling:c.toggling})},[H,F]=Object(l.useState)(null),V=e=>{const a=c.data.filter(a=>a.organization_licenses_id==e)[0];F(a),console.log("request",a),s(!0)},Y=()=>{const e=G.a.create((new Q).getHeaders(d.token));u({...c,saving:!0});const a={license_id:H.license_id,organization_id:d.user.organization_id.id,license_period:j.value,license_period_count:parseInt(N.value),requested_by:d.user.id,request_type:"RENEWAL",description:L.value};e.post((new Q).LICENSE_REQUEST,a).then((function(e){u({...c,saving:!1}),A({value:"",error:""}),I({value:"",error:""}),z({value:"",error:""}),P({value:"",error:""}),W("success",e.data.message),s(!1)})).catch((function(e){var a,t;u({...c,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),W(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:i,maxWidth:"sm",fullWidth:!0,onClose:()=>{s(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Renewal License Request"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:a.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==k.error},r.a.createElement(va.a,{id:"type"},"License Period"),r.a.createElement(pa.a,{label:"License Period",value:j.value,onChange:e=>{""===e.target.value?A({value:"",error:"Please select license period"}):A({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"MONTH"},"MONTH"),r.a.createElement(R.a,{value:"YEAR"},"YEAR")),r.a.createElement(Ea.a,null,k.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:N.value,placeholder:"License Period Count",label:"License Period Count",fullWidth:!0,onChange:M,helperText:N.error,error:""!==N.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:L.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:D,helperText:L.error,error:""!==L.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{s(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:c.saving,variant:"contained",color:"primary",onClick:()=>{"'"===L.value?P({value:"",error:"Please fulfill description"}):"'"===j.value?A({value:"",error:"Please select license period"}):"'"===N.value?A({value:"",error:"Please enter license period count"}):Y()},disableElevation:!0},c.saving?r.a.createElement(x.a,{size:23}):"Request"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(bl.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"Component Report")),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{style:{width:"150px"},openOnFocus:!0,options:["2020","2021","2022","2023","2024","2025","2026","2027","2028","2029","2030"],getOptionLabel:e=>e,onChange:(e,a)=>{g(a),S(d.access_token,a,d.user.department.id)},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Year",variant:"outlined",size:"small"}))}))),r.a.createElement(y.a,{style:{marginTop:20}}),c.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{data:c.data,columns:[{name:"day_left",label:"Day(s) Left",options:{filter:!1,sort:!0}},{name:"components_name",label:"Component",options:{filter:!1,sort:!0}},{name:"start_date",label:"Start Date",options:{filter:!1,sort:!1}},{name:"expiry_date",label:"Expiry Date",options:{filter:!1,sort:!0}},{name:"components_description",label:"Description",options:{filter:!1,sort:!1}}],options:q}))}));const dr=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1,marginLeft:"10px"},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));function mr(e){var a,t;const{toggleUser:l,displayData:n,selectedRows:o,openReview:i}=e;var s="ENABLED"==n[null===o||void 0===o||null===(a=o.data[0])||void 0===a?void 0:a.index].data[5];return console.log("check",s),console.log(n[null===o||void 0===o||null===(t=o.data[0])||void 0===t?void 0:t.index].data[6]),r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(Xt.a,null),onClick:()=>{var e,a;return i(null===(e=n[null===o||void 0===o||null===(a=o.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])}},"Renewal License"))}var vr=Object(_.c)((function(e){const a=dr(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),[i,s]=Object(l.useState)(!1),[c,u]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[d,m]=Object(l.useState)(null),[E,g]=Object(l.useState)((new Date).getFullYear());Object(l.useEffect)(()=>{var e=(new Q).accountData;console.log("accData",e),m(e),S(e.access_token,(new Date).getFullYear(),e.user.department.id)},[]);const[b,h]=Object(l.useState)("No reports available...."),S=(e,a,t)=>{const l=G.a.create((new Q).getHeaders(e));u({...c,loading:!0}),l.get(`${(new Q).SYSTEM_TOOL_REPORT}?year=${a}&department=${t}`).then((function(e){u({...c,loading:!1});const a=e.data;if(0==a.data.length)h("There are no reports available."),u({...c,data:[]});else{var t=a.data;u({...c,data:t}),h("Report Loaded")}})).catch((function(e){var a,t;u({...c,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),h(l),W(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[O,w]=Object(l.useState)({value:"",error:""}),[j,A]=Object(l.useState)({value:"",error:""}),[N,I]=Object(l.useState)({value:"",error:""}),[k,z]=Object(l.useState)({value:"",error:""}),[L,P]=Object(l.useState)({value:"",error:""}),D=e=>{""===e.target.value?P({value:"",error:"Please enter valid description"}):P({value:e.target.value,error:""})},M=e=>{""===e.target.value?I({value:"",error:"Please enter valid license period count"}):I({value:e.target.value,error:""})},W=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},q={filterType:"multiselect",elevation:0,selectableRows:!1,searchPlaceholder:"Search Report...",selectableRowsOnClick:!1,fixedHeader:!0,searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:b}},customToolbarSelect:(e,a,t)=>r.a.createElement(mr,{selectedRows:e,displayData:a,setSelectedRows:t,toggleUser:()=>{},openReview:V,toggling:c.toggling})},[H,F]=Object(l.useState)(null),V=e=>{const a=c.data.filter(a=>a.organization_licenses_id==e)[0];F(a),console.log("request",a),s(!0)},Y=()=>{const e=G.a.create((new Q).getHeaders(d.token));u({...c,saving:!0});const a={license_id:H.license_id,organization_id:d.user.organization_id.id,license_period:j.value,license_period_count:parseInt(N.value),requested_by:d.user.id,request_type:"RENEWAL",description:L.value};e.post((new Q).LICENSE_REQUEST,a).then((function(e){u({...c,saving:!1}),A({value:"",error:""}),I({value:"",error:""}),z({value:"",error:""}),P({value:"",error:""}),W("success",e.data.message),s(!1)})).catch((function(e){var a,t;u({...c,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),W(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:i,maxWidth:"sm",fullWidth:!0,onClose:()=>{s(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Renewal License Request"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(ma.a,{className:a.formControl,fullWidth:!0,variant:"outlined",size:"small",error:""!==k.error},r.a.createElement(va.a,{id:"type"},"License Period"),r.a.createElement(pa.a,{label:"License Period",value:j.value,onChange:e=>{""===e.target.value?A({value:"",error:"Please select license period"}):A({value:e.target.value,error:""})}},r.a.createElement(R.a,{value:"MONTH"},"MONTH"),r.a.createElement(R.a,{value:"YEAR"},"YEAR")),r.a.createElement(Ea.a,null,k.error))),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",type:"number",value:N.value,placeholder:"License Period Count",label:"License Period Count",fullWidth:!0,onChange:M,helperText:N.error,error:""!==N.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:L.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:D,helperText:L.error,error:""!==L.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{s(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:c.saving,variant:"contained",color:"primary",onClick:()=>{"'"===L.value?P({value:"",error:"Please fulfill description"}):"'"===j.value?A({value:"",error:"Please select license period"}):"'"===N.value?A({value:"",error:"Please enter license period count"}):Y()},disableElevation:!0},c.saving?r.a.createElement(x.a,{size:23}):"Request"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(bl.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null,"System Tool Report")),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(Ja.a,{style:{width:"150px"},openOnFocus:!0,options:["2020","2021","2022","2023","2024","2025","2026","2027","2028","2029","2030"],getOptionLabel:e=>e,onChange:(e,a)=>{g(a),S(d.access_token,a,d.user.department.id)},renderInput:e=>r.a.createElement(C.a,Object.assign({},e,{fullWidth:!0,label:"Year",variant:"outlined",size:"small"}))}))),r.a.createElement(y.a,{style:{marginTop:20}}),c.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{data:c.data,columns:[{name:"day_left",label:"Day(s) Left",options:{filter:!1,sort:!0}},{name:"system_tool_name",label:"Tool",options:{filter:!1,sort:!0}},{name:"issue_date",label:"Start Date",options:{filter:!1,sort:!1}},{name:"expire_date",label:"Expiry Date",options:{filter:!1,sort:!0}},{name:"contract_system_tools_price",label:"Price",options:{filter:!1,sort:!1}},{name:"contract_system_tools_currency",label:"Currency",options:{filter:!1,sort:!1}}],options:q}))}));const pr=Object(we.a)(e=>({root:{flexGrow:1,[e.breakpoints.up("sm")]:{marginLeft:250}},title:{flexGrow:1},btn:{textTransform:"capitalize"},btn2:{textTransform:"capitalize",border:"dashed grey 1px"},paper:{padding:15},action:{borderRadius:15}}));function Er(e){var a;const{toggleUser:t,displayData:l,selectedRows:n,openEdit:o}=e;l[null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.index].data[5];return r.a.createElement(y.a,{display:"flex",alignItems:"center"},r.a.createElement(v.a,{color:"primary",variant:"outlined",size:"small",startIcon:r.a.createElement(la.a,null),onClick:()=>{var e,a;return o(null===(e=l[null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.index])||void 0===e?void 0:e.data[0])}},"Edit"))}var gr=Object(_.c)((function(e){const a=pr(),{enqueueSnackbar:t,closeSnackbar:n}=Object(U.b)(),o=Object(B.f)(),[i,s]=(Qa(),Object(l.useState)(!1)),[c,u]=Object(l.useState)({page:0,count:1,rowsPerPage:10,sortOrder:{},saving:!1,loading:!1,toggling:!1,data:[]}),[d,m]=Object(l.useState)(null),[E,g]=Object(l.useState)({value:"",error:""});Object(l.useEffect)(()=>{var e,a,t=(new Q).accountData;(console.log("accData",t),m(t),"SUPER_ADMIN"!==t.user)&&g({value:null===t||void 0===t||null===(e=t.user)||void 0===e||null===(a=e.department)||void 0===a?void 0:a.id,error:""});S(t.access_token)},[]);const[b,h]=Object(l.useState)("No systemTools available...."),S=e=>{const a=G.a.create((new Q).getHeaders(e));u({...c,loading:!0}),a.get((new Q).METRICS).then((function(e){u({...c,loading:!1});const a=e.data;if(0==a.data.length)h("There are no metrics available.");else{var t=a.data;u({...c,data:t}),h("Metrics loaded")}})).catch((function(e){var a,t;u({...c,loading:!1});var l=e.message;e.response&&(l=e.response.data.message),h(l),z(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},[O,w]=Object(l.useState)({value:"",error:""}),[j,A]=Object(l.useState)({value:"",error:""}),R=e=>{""===e.target.value?w({value:"",error:"Please enter valid license name"}):w({value:e.target.value,error:""})},N=e=>{""===e.target.value?A({value:"",error:"Please enter valid description"}):A({value:e.target.value,error:""})},I=()=>{const e=G.a.create((new Q).getHeaders(d.token));u({...c,saving:!0});const a={name:O.value,description:j.value};e.post((new Q).METRICS,a).then((function(e){var a=e.data,t=c.data;const l=a.data;t.unshift(l),u({...c,data:t}),k(),s(!1)})).catch((function(e){var a,t;u({...c,saving:!1});var l=e.message;e.response&&(l=e.response.data.message),z(404==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)?"info":"error",l,null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)}))},k=()=>{w({value:"",error:""}),A({value:"",error:""})},z=(e,a,l)=>{401==l&&o.push("/",{expired:!0}),t(a,{variant:e,action:e=>r.a.createElement(p.a,{onClick:()=>{n(e)},size:"small"},r.a.createElement(T.a,{fontSize:"small"}))})},L={filterType:"multiselect",elevation:0,selectableRows:"single",searchPlaceholder:"Search System Tool...",selectableRowsOnClick:!0,fixedHeader:!0,onCellClick:(e,a)=>{c.data[a.dataIndex]},searchProps:{variant:"outlined",margin:"dense"},customSearch:(e,a,t)=>{console.log(e),console.log(JSON.stringify(a))},textLabels:{body:{noMatch:b}},customToolbarSelect:(e,a,t)=>r.a.createElement(Er,{selectedRows:e,displayData:a,setSelectedRows:t,toggleUser:()=>{},openEdit:()=>{},toggling:c.toggling})};return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,{open:i,maxWidth:"sm",fullWidth:!0,onClose:()=>{s(!1)}},r.a.createElement(oe.a,{id:"new-op"},"Add Metric"),r.a.createElement(ie.a,null,r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{required:!0,size:"small",variant:"outlined",color:"primary",value:O.value,placeholder:"Name",label:"Name",fullWidth:!0,onChange:R,helperText:O.error,error:""!==O.error})})),r.a.createElement(y.a,{style:{marginTop:10}},r.a.createElement(_.b,null,e=>{let{translate:a}=e;return r.a.createElement(C.a,{size:"small",variant:"outlined",color:"primary",value:j.value,placeholder:"Description",label:"Description",multiline:!0,minRows:5,fullWidth:!0,onChange:N,helperText:j.error,error:""!==j.error})}))),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>{s(!1)},variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(v.a,{disabled:c.saving,variant:"contained",color:"primary",onClick:()=>{""===O.value?w({value:"",error:"Please provide valid System/Tool name"}):"'"===j.value?A({value:"",error:"Please fulfill description"}):I()},disableElevation:!0},c.saving?r.a.createElement(x.a,{size:23}):"Save"))),r.a.createElement(y.a,{display:"flex",style:{display:"flex"}},r.a.createElement(y.a,{mr:2}," ",r.a.createElement(gl.a,{color:"primary",fontSize:"large"})),r.a.createElement(f.a,{variant:"h5",className:a.title},r.a.createElement("b",null," Metrics")),r.a.createElement(v.a,{className:a.btn,color:"primary",variant:"contained",size:"medium",startIcon:r.a.createElement(ta.a,null),disableElevation:!0,onClick:()=>{s(!0)}},"New Metric")),r.a.createElement(y.a,{style:{marginTop:20}}),c.loading&&r.a.createElement(Ze.a,null),r.a.createElement(ze.a,{title:"List of Metrics",data:c.data,columns:[{name:"id",label:"id",options:{filter:!1,sort:!1,display:"excluded"}},{name:"name",label:"Metric",options:{filter:!1,sort:!0}},{name:"description",label:"Description",options:{filter:!1,sort:!1}},{name:"created_at",label:"Created At",options:{filter:!0,sort:!0}}],options:L}))}));const br=[{path:"/orgAdmin",exact:!0,permission:"CAN_VIEW_HOME",main:()=>r.a.createElement(Ol,null)},{path:"/orgAdmin/home",exact:!0,permission:"CAN_VIEW_HOME",main:()=>r.a.createElement(Ol,null)},{path:"/orgAdmin/requests",exact:!0,permission:"CAN_VIEW_REQUEST",main:()=>r.a.createElement(xl,null)},{path:"/orgAdmin/softwareRequests",exact:!0,permission:"CAN_VIEW_SOFTWARE_LICENSE_REQUEST",main:()=>r.a.createElement(Nl,null)},{path:"/orgAdmin/reports",exact:!0,permission:"CAN_VIEW_REPORT",main:()=>r.a.createElement(Al,null)},{path:"/orgAdmin/reports/certificate",exact:!0,permission:"CAN_VIEW_REPORT",main:()=>r.a.createElement(ir,null)},{path:"/orgAdmin/reports/component",exact:!0,permission:"CAN_VIEW_REPORT",main:()=>r.a.createElement(ur,null)},{path:"/orgAdmin/reports/systemTool",exact:!0,permission:"CAN_VIEW_REPORT",main:()=>r.a.createElement(vr,null)},{path:"/orgAdmin/settings",exact:!0,permission:"CAN_VIEW_SETTINGS",main:()=>r.a.createElement(Gt,null)},{path:"/orgAdmin/expirationReport",exact:!0,permission:"CAN_VIEW_REPORT",main:()=>r.a.createElement(zl,null)},{path:"/orgAdmin/recordedLicense",exact:!0,permission:"CAN_VIEW_RECORDED_LICENSE",main:()=>r.a.createElement(Dl,null)},{path:"/orgAdmin/contracts",exact:!0,permission:"CAN_VIEW_CONTRACT",main:()=>r.a.createElement(Ul,null)},{path:"/orgAdmin/contractDetails",exact:!0,permission:"CAN_VIEW_CONTRACT_DETAILS",main:()=>r.a.createElement(rr,null)},{path:"/orgAdmin/certificates",exact:!0,permission:"CAN_VIEW_CERTIFICATES",main:()=>r.a.createElement(Fl,null)},{path:"/orgAdmin/systemTool",exact:!0,permission:"CAN_VIEW_SYSTEM_TOOL",main:()=>r.a.createElement(pt,null)},{path:"/orgAdmin/metric",exact:!0,permission:"CAN_VIEW_METRIC",main:()=>r.a.createElement(gr,null)},{main:()=>r.a.createElement(r.a.Fragment,null)}],yr=[{name:"Home",icon:r.a.createElement(pe.a,{color:"primary"}),path:"/orgAdmin/home",permission:"CAN_VIEW_HOME"},{name:"System Tools/Products",icon:r.a.createElement("img",{src:hl.a,width:25}),path:"/orgAdmin/systemTool",permission:"CAN_VIEW_SYSTEM_TOOL"},{name:"Metrics",icon:r.a.createElement(gl.a,{color:"primary"}),path:"/orgAdmin/metric",permission:"CAN_VIEW_METRIC"},{name:"License Contracts",icon:r.a.createElement(Ct.a,{color:"primary"}),path:"/orgAdmin/contracts",permission:"CAN_VIEW_CONTRACT"},{name:"License Status Renewal",icon:r.a.createElement(rt.a,{color:"primary"}),path:"/orgAdmin/recordedLicense",permission:"CAN_VIEW_RECORDED_LICENSE"},{name:"Certificates",icon:r.a.createElement(bl.a,{color:"primary"}),path:"/orgAdmin/certificates",permission:"CAN_VIEW_CERTIFICATES"},{name:"Reports",icon:r.a.createElement(yl.a,{color:"primary"}),path:"/orgAdmin/reports",permission:"CAN_VIEW_REPORT",submenu:[{name:"Certificate",path:"/orgAdmin/reports/certificate"},{name:"Component",path:"/orgAdmin/reports/component"},{name:"System Tool",path:"/orgAdmin/reports/systemTool"}]}],fr=[{name:"Settings",icon:r.a.createElement(ye.a,{color:"primary"}),path:"/orgAdmin/settings",permission:"CAN_VIEW_SETTINGS"},{name:"Logout",icon:r.a.createElement(fe.a,{color:"primary"}),path:"/orgAdmin/logout"}],hr=Object(we.a)(e=>({root:{width:"100%"},content:{flexGrow:1,padding:e.spacing(2)},title:{flexGrow:1},drawer:{[e.breakpoints.up("sm")]:{width:250,flexShrink:0}},appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(2),[e.breakpoints.up("sm")]:{display:"none"}},toolbar:e.mixins.toolbar,drawerPaper:{width:250,border:0},btn:{textTransform:"capitalize"},paper:{padding:15},icon:{height:45,marginRight:10,display:"block",[e.breakpoints.down("sm")]:{display:"none"}},icon2:{height:35},nested:{paddingLeft:e.spacing(4)}}));var Sr=Object(_.c)((function(e){var a,t,n,o;const{window:i}=e,s=hr(),c=Object(Te.a)(),u=Object(B.f)(),{themer:d}=e,[m,h]=Object(l.useState)(!1),[S,O]=Object(l.useState)(null),C=Boolean(S),[x,w]=Object(l.useState)(!1),[T,_]=Object(l.useState)("none"),[j,N]=Object(l.useState)(null);Object(l.useEffect)(()=>{var e=(new Q).accountData;N(e)},[]);const I=()=>{O(null)},k=()=>{h(!m)},z=r.a.createElement("div",null,r.a.createElement("div",{className:s.toolbar}),r.a.createElement(Z.a,null),r.a.createElement($.a,null,yr.map((e,a)=>r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{button:!0,key:e.name,onClick:()=>{e.submenu?_(T==a?"none":a):(u.push(e.path),h(!1))},selected:e.path==u.location.pathname&&!e.submenu},r.a.createElement(ae.a,null,e.icon),r.a.createElement(te.a,{primary:e.name}),e.submenu?T==a?r.a.createElement(he.a,null):r.a.createElement(Se.a,null):r.a.createElement("div",null)),e.submenu&&r.a.createElement(le.a,{in:T==a,timeout:"auto",unmountOnExit:!0},r.a.createElement($.a,{component:"div",disablePadding:!0},e.submenu.map((e,a)=>r.a.createElement(ee.a,{button:!0,className:s.nested,onClick:()=>{u.push(e.path),h(!1)},selected:e.path==u.location.pathname},r.a.createElement(ae.a,null,r.a.createElement(Oe.a,null)),r.a.createElement(te.a,{primary:e.name})))))))),r.a.createElement(Z.a,null),r.a.createElement($.a,null,fr.map((e,a)=>r.a.createElement(ee.a,{button:!0,key:e.name,onClick:()=>{"/orgAdmin/logout"===e.path?w(!0):u.push(e.path),h(!1)}},r.a.createElement(ae.a,null,e.icon),r.a.createElement(te.a,{primary:e.name}))))),L=void 0!==i?()=>i().document.body:void 0,P=Object(re.a)(c.breakpoints.up("sm"));return r.a.createElement("div",{className:s.root},r.a.createElement(E.a,null),r.a.createElement(ne.a,{open:x,onClose:()=>w(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(oe.a,{id:"alert-dialog-title"},"Logout"),r.a.createElement(ie.a,null,r.a.createElement(se.a,{id:"alert-dialog-description"},"Are you sure you want to logout of your account?")),r.a.createElement(ce.a,null,r.a.createElement(v.a,{onClick:()=>w(!1),color:"primary"},"Cancel"),r.a.createElement(v.a,{onClick:()=>{localStorage.removeItem("LMIS"),u.replace("/")},color:"primary",autoFocus:!0},"Logout"))),r.a.createElement(g.a,{position:"fixed",color:0==d?"primary":"default",elevation:0,className:s.appBar},r.a.createElement(b.a,null,r.a.createElement(p.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:k,className:s.menuButton},r.a.createElement(Ce.a,null)),r.a.createElement("img",{src:F.a,alt:"icon",className:s.icon}),r.a.createElement(y.a,{className:s.title},r.a.createElement(f.a,{variant:"h5",noWrap:!0},"Licence MIS")),r.a.createElement(y.a,{mr:P&&2},r.a.createElement(p.a,{color:"inherit",onClick:()=>{}},r.a.createElement(ue.a,{badgeContent:0,showZero:!1,variant:"standard",color:"secondary"},r.a.createElement(xe.a,null)))),r.a.createElement("div",null,r.a.createElement(v.a,{onClick:e=>{O(e.currentTarget)},color:"inherit",variant:P&&"outlined",size:"small",className:s.btn,startIcon:P&&r.a.createElement("img",{src:F.a,className:s.icon2,alt:"Safaribus"})},r.a.createElement(de.a,null,`${null===j||void 0===j||null===(a=j.user)||void 0===a||null===(t=a.first_name)||void 0===t?void 0:t.substr(0,1)}${null===j||void 0===j||null===(n=j.user)||void 0===n||null===(o=n.last_name)||void 0===o?void 0:o.substr(0,1)}`)),r.a.createElement(A.a,{id:"menu-appbar",anchorEl:S,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"bottom",horizontal:"right"},open:C,onClose:I},r.a.createElement(R.a,{onClick:()=>{I(),u.push("/bnr/settings")}},"Settings"),r.a.createElement(R.a,{onClick:()=>{I(),w(!0)}},"Logout"))))),r.a.createElement("nav",{className:s.drawer,"aria-label":""},r.a.createElement(me.a,{smUp:!0,implementation:"css"},r.a.createElement(ve.a,{container:L,variant:"temporary",anchor:"rtl"===c.direction?"right":"left",open:m,onClose:k,classes:{paper:s.drawerPaper},elevation:0,ModalProps:{keepMounted:!0}},z)),r.a.createElement(me.a,{xsDown:!0,implementation:"css"},r.a.createElement(ve.a,{classes:{paper:s.drawerPaper},variant:"permanent",open:!0},z))),r.a.createElement("main",{className:s.content},r.a.createElement("div",{className:s.toolbar}),r.a.createElement(B.c,null,br.map((e,a)=>r.a.createElement(B.a,{key:a,exact:e.exact,path:e.path,component:e.main})))))})),Or=t(30),Cr=t(353),xr=t(354),wr=t(255),Tr=t(355);var _r=Object(_.c)((function(e){return Object(l.useEffect)(()=>{e.initialize({languages:[{name:"Kinyarwanda",code:"rw"},{name:"English",code:"en"},{name:"Francais",code:"fr"}],translation:wr,options:{renderToStaticMarkup:Cr.renderToStaticMarkup,defaultLanguage:"en"}}),e.addTranslationForLanguage(wr,"rw"),e.addTranslationForLanguage(xr,"en"),e.addTranslationForLanguage(Tr,"fr")},[]),r.a.createElement(U.a,{preventDuplicate:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},maxSnack:2},r.a.createElement(Or.a,null,r.a.createElement(B.c,null,r.a.createElement(B.a,{exact:!0,path:"/",component:()=>r.a.createElement(X,e)}),r.a.createElement(B.a,{path:"/bnr",component:()=>r.a.createElement(Ot,e)}),r.a.createElement(B.a,{path:"/licenseManager",component:()=>r.a.createElement(El,e)}),r.a.createElement(B.a,{path:"/orgAdmin",component:()=>r.a.createElement(Sr,e)}))))}));t(721);var jr=function(){const[e,a]=Object(l.useState)(0),[t,n]=Object(l.useState)(!1),[o,s]=Object(l.useState)(0);Object(l.useEffect)(()=>{const e=window.localStorage.getItem("theme");null!=e&&a(e);const t=window.localStorage.getItem("update");null!=t&&(s(t),1==t&&n(!0)),window.addEventListener("newContentAvailable",()=>{n(!0),window.localStorage.setItem("update",1)})},[]);const c=(e,a)=>{"clickaway"!==a&&(caches.keys().then((function(e){for(let a of e)caches.delete(a)})),window.localStorage.setItem("update",0),window.location.reload(),n(!1))};return r.a.createElement(d.a,{theme:(u=e,Object(i.a)({palette:{type:0==u?"light":"dark",background:{default:0==u?"#faf1dc":"#303030"},primary:{main:"#a47d30",contrastText:"#fff"},secondary:{main:"#ebcf8a"}},typography:{useNextVariants:!0,fontFamily:"lato"}}))},r.a.createElement(m.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:t,autoHideDuration:12e4,onClose:c,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"This app contents are updated,click update to get the latest version."),action:[r.a.createElement(v.a,{color:"primary",onClick:c},"Update")]}),r.a.createElement(_.a,null,r.a.createElement(_r,{changeTheme:e=>{window.localStorage.setItem("theme",e),a(e)},themer:e})));var u};var Ar=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,871)).then(a=>{let{getCLS:t,getFID:l,getFCP:r,getLCP:n,getTTFB:o}=a;t(e),l(e),r(e),n(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(jr,null))),Ar()},88:function(e,a,t){e.exports=t.p+"static/media/bnr_logo.4ab95822.png"}},[[381,1,2]]]);
//# sourceMappingURL=main.0c115c60.chunk.js.map